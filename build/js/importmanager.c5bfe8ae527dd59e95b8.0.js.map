{"version":3,"sources":["webpack:///./shared/vue/app-loader/app-loader.vue","webpack:///shared/vue/community-select/components/community-cell.vue","webpack:///./shared/vue/community-select/components/community-cell.vue","webpack:///./importmanager/components/mixins/routing.js","webpack:///./importmanager/store/commands.js","webpack:///./importmanager/components/crawler-status.vue?a7e6","webpack:///importmanager/pages/project.vue","webpack:///./shared/vue/community-select/components/community-cell.vue?d623","webpack:///./importmanager/components/modal/app-modal.vue","webpack:///./importmanager/pages/parser.vue","webpack:///./importmanager/store/actions/general.js","webpack:///./importmanager/lib/formatting.js","webpack:///./importmanager/pages/document.vue?8eff","webpack:///./importmanager/pages/document.vue","webpack:///./importmanager/pages/jobs.vue?cfaa","webpack:///./importmanager/components/modal/create-project.vue?6844","webpack:///./importmanager/pages/placeholders.vue","webpack:///./shared/vue/community-select/components/community-menu.vue?e5ff","webpack:///./shared/vue/community-select/index.vue?4396","webpack:///importmanager/pages/document.vue","webpack:///./importmanager/store/actions/identities.js","webpack:///./importmanager/components/modal/text-console.vue","webpack:///./importmanager/components/tables/communities-row.vue","webpack:///./client/config/messages.js","webpack:///./importmanager/store/mutations.js","webpack:///./importmanager/pages/identities.vue?435d","webpack:///./importmanager/components/app-breadcrumbs.vue?1cb0","webpack:///./importmanager/store/actions/crawlers.js","webpack:///./importmanager/pages/capture.vue?2157","webpack:///importmanager/components/tables/projects-row.vue","webpack:///importmanager/pages/parser.vue","webpack:///./shared/vue/app-loader/store.js","webpack:///./importmanager/components/sitemaps-table.vue","webpack:///./importmanager/components/modal/create-project.vue","webpack:///./importmanager/pages/project.vue","webpack:///importmanager/components/tables/communities-row.vue","webpack:///./importmanager/components/tables/projects-row.vue?b977","webpack:///importmanager/components/crawler-status.vue","webpack:///importmanager/pages/placeholders.vue","webpack:///importmanager/components/modal/text-console.vue","webpack:///importmanager/pages/dashboard.vue","webpack:///./shared/vue/community-select/index.vue","webpack:///./importmanager/pages/communities.vue","webpack:///./shared/content-hash.js","webpack:///./importmanager/components/tables/projects-row.vue","webpack:///./importmanager/index.js","webpack:///./shared/vue/store/mutations.js","webpack:///./importmanager/store/index.js","webpack:///./importmanager/components/crawler-status.vue","webpack:///./importmanager/components/app-notifications.vue","webpack:///importmanager/pages/capture.vue","webpack:///importmanager/components/tables/identities-row.vue","webpack:///./importmanager/app.vue?13bc","webpack:///./importmanager/pages/dashboard.vue?d2d2","webpack:///./importmanager/store/actions/captures.js","webpack:///./importmanager/components/modal/input-form.vue","webpack:///./importmanager/pages/dashboard.vue","webpack:///importmanager/components/sitemaps-search.vue","webpack:///importmanager/components/modal/parser-revision.vue","webpack:///importmanager/pages/jobs.vue","webpack:///./importmanager/store/models/defaults.js","webpack:///./importmanager/store/models/factories.js","webpack:///./importmanager/components/tables/identities-row.vue?75d9","webpack:///importmanager/components/modal/app-modal.vue","webpack:///./importmanager/store/actions/documents.js","webpack:///./importmanager/pages/identities.vue","webpack:///./importmanager/components/sitemaps-search.vue","webpack:///./importmanager/components/documents-search.vue","webpack:///shared/vue/community-select/components/community-menu.vue","webpack:///./shared/vue/community-select/components/community-menu.vue","webpack:///./importmanager/store/actions/projects.js","webpack:///./importmanager/store/actions/sitemaps.js","webpack:///./importmanager/pages/project.vue?07c7","webpack:///./importmanager/components/modal/text-console.vue?62df","webpack:///shared/vue/community-select/index.vue","webpack:///./importmanager/components/app-breadcrumbs.vue","webpack:///./importmanager/pages/jobs.vue","webpack:///./client/lib/errors/http_status_error.js","webpack:///shared/vue/app-loader/app-loader.vue","webpack:///./importmanager/app.vue","webpack:///./shared/vue/lib/apollo_client.js","webpack:///importmanager/components/sitemaps-table.vue","webpack:///./importmanager/components/sitemaps-search.vue?7f6c","webpack:///importmanager/components/app-notifications.vue","webpack:///./shared/vue/store/commands.js","webpack:///./importmanager/components/app-notifications.vue?1073","webpack:///./client/lib/wait.js","webpack:///importmanager/pages/sitemap.vue","webpack:///./importmanager/components/mixins/polling.js","webpack:///./importmanager/store/actions/communities.js","webpack:///./importmanager/store/getters.js","webpack:///importmanager/pages/identities.vue","webpack:///./importmanager/store/actions/jobs.js","webpack:///./importmanager/lib/utils.js","webpack:///./shared/vue/queries/currentCommunity.graphql","webpack:///./shared/group_sort_network_memberships.js","webpack:///./importmanager/components/sitemaps-table.vue?ff07","webpack:///importmanager/components/modal/create-project.vue","webpack:///importmanager/components/modal/input-form.vue","webpack:///./client/lib/request.js","webpack:///./importmanager/components/modal/app-modal.vue?b594","webpack:///./importmanager/pages/communities.vue?b88e","webpack:///./client/actions/messages.js","webpack:///./importmanager/pages/sitemap.vue?bd6e","webpack:///./importmanager/pages/parser.vue?4d7e","webpack:///./shared/vue/queries/currentUser.graphql","webpack:///./importmanager/components/modal/parser-revision.vue?50e8","webpack:///./importmanager/store/actions/search.js","webpack:///./importmanager/store/actions/parsers.js","webpack:///./client/actions/sentry.js","webpack:///./importmanager/pages/placeholders.vue?53cb","webpack:///./importmanager/components/modal/input-form.vue?a120","webpack:///./importmanager/components/tables/identities-row.vue","webpack:///importmanager/app.vue","webpack:///./importmanager/components/tables/communities-row.vue?4dcf","webpack:///importmanager/pages/communities.vue","webpack:///./importmanager/pages/sitemap.vue","webpack:///./importmanager/pages/capture.vue","webpack:///./importmanager/router.js","webpack:///importmanager/components/app-breadcrumbs.vue","webpack:///importmanager/components/documents-search.vue","webpack:///./shared/vue/app-loader/app-loader.vue?808f","webpack:///./importmanager/components/documents-search.vue?c908","webpack:///./importmanager/components/modal/parser-revision.vue"],"names":["__vue_script__","__vue_render__","__vue_static_render_fns__","exports","props","community","type","Object","required","defaultLogoUrl","String","selectionId","Number","default","computed","href","methods","routeTo","name","id","route","query","community_id","this","$store","state","currentCommunity","params","render","_vm","_h","$createElement","_c","_self","crawlable","hasRunningCrawler","staticClass","class","_v","attrs","crawlerSitemap","_s","crawler","percentComplete","directives","rawName","value","expression","domProps","Array","isArray","autoAdvance","_i","on","$event","$$a","$$el","target","$$c","checked","$$i","concat","slice","_e","key","preventDefault","cancelCrawler","hasCrawlerLock","hasIdleCrawler","sitemap","status","toLowerCase","startCrawler","hasCrawler","formatHMS","duration","Math","round","recordsPerSecond","formatDateTime","finishedAt","statusIcon","sitemapsTotal","sitemapsComplete","sitemapsLimit","documentsTotal","documentsComplete","documentsLimit","staticRenderFns","mutableSchema","active","createRedirects","createAuthors","enableFrontPage","documentParserId","createParserForm","fields","label","submit","createSitemapForm","url","components","SitemapsTable","data","saving","mutable","projectModels","project","isLoaded","field","keys","$watch","save","fetchProject","$router","push","setDialog","isChanged","updateProject","$emit","faviconUrl","store","commit","SET_DIALOG","tag","promise","Promise","resolve","reject","str","date","formatDate","time","formatTime","finder","trim","sbnEntryId","contentApiUuid","test","match","secs","hours","floor","minutes","map","t","substr","length","join","num","toString","replace","sandbox","location","host","CREATED","CAPTURING","CAPTURED","FAILED","UNATTEMPTED","COMPLETE","DISABLED","IMPORTED","NOT_IMPORTED","parseDate","Date","undefined","getTime","getMonth","getDate","getFullYear","getHours","getMinutes","RUNNING","CANCELLED","COMPLETED","NOT_CRAWLED","PENDING","document","archivalStatusIcon","archivalStatus","toggleArchived","archived","watched","toggleWatched","communityNameById","communityId","changeCommunity","canonicalUrl","chorusEntryUrl","chorusEntryId","towerUrl","clickabilityUrl","fetchedAt","modifiedAt","placeholders","_m","_l","placeholder","contentType","fulfilled","capture","createdAt","fetchStatus","processingStatusIcon","fetchDigest","parseStatus","parseDigest","importStatus","contentApiOpsDigest","redirectsStatus","processing","onReprocessCapture","captures","capturing","onCapture","job","isVisible","workers","style","transform","activeJobId","toggleJob","jobLogUrl","jobId","split","lastDocumentId","searchJson","task","startAt","finishAt","mayCancel","confirmCancelJob","mayResume","resumeJob","mayTrash","confirmDeleteJob","errorMessage","loaded","jobs","formatNumber","jobRollups","composing","parserModelsList","$$selectedVal","prototype","filter","call","options","o","selected","_value","multiple","parser","documentParserName","create","close","network","communities","selectCommunity","expandedNetworks","expandNetwork","logo","staticStyle","toggleMenu","menuOpen","hasMenu","networks","ref","allowedRoles","activeMemberships","closeMenu","changeCommunityForm","prompt","AppBreadcrumbs","mixins","documentModels","values","captureModels","placeholderModels","sitemapModels","sitemapEntryId","projectId","startImmediatePolling","fetchDocument","unloadDocument","updateDocument","assign","setTimeout","confirm","captureDocument","evt","action","closeDropdown","processCapture","el","tagName","toggle","parentNode","input","importerClient","mutate","mutation","variables","catch","err","cmd","PUT_NOTICE","newIdentity","identity","ALT_TEXT_OVER_LIMIT","APPLE_NEWS_MEMBERS_ONLY_WARNING","COMMUNITY_CHANGED","CSV_TOO_LARGE","DATA_LINKS_ERROR","DRAFT_HERMANO_RECORD","EMBARGOED","HIDDEN","FEEDBACK_SENT","FILE_TOO_LARGE","GETTY_API_DOWN","GIF_IN_IMAGE_CARD","GIF_TOO_LARGE","IMAGE_IN_GALLERY","IMAGE_TOO_LARGE","INVALID_LINK_MESSAGE","INVALID_SPREADSHEET_URL","INVALID_STREAM_MEMBERSHIP","MERLIN_API_DOWN","MISSING_LEGACY_ENTRY","NETWORK_ASSETS_ACCESS_DENIED","NEW_USER_MESSAGE","OEMBED_GENERIC_ERROR","OEMBED_INSECURE_ERROR","OEMBED_SUPPORT_ERROR","OEMBED_PDF_SUPPORT_ERROR","OEMBED_YOUTUBE_SUPPORT_ERROR","PLAGSCAN_ERROR","PLAGSCAN_LOW_WORD_COUNT","PLAGSCAN_OUT_OF_DATE","PLAGSCAN_RETRIEVED","PLAGSCAN_SUBMITTED","PLAGSCAN_UNSCANNED","PUBLISH_PACKAGE_ACTIVE_MESSAGE","PUBLISH_PACKAGE_WARNING_MESSAGE","PYM_EMBED_GENERIC_ERROR","PYM_EMBED_INSECURE_ERROR","PYM_EMBED_SUPPORT_ERROR","REALTIME_ERROR","RECONNECT_ERROR","RECONNECTING","RELOAD_REQUIRED","RELOAD_STALE_TAB","REQUIRED_FIELD","RESCUE_SAVED_REASSURE","SEND_TO_PRINT_SUCCESS","SHEET_PERMISSIONS","STRUCTURED_TAGS_ERROR","TOO_MANY_EDITORS","UNEXPECTED","UNSAVED_WARNING","UNSUPPORTED_ASSET_TYPE","UPLOAD_INVALID_FILE","UPLOAD_TOO_MANY_FILES","modelSets","defaultsByModelSet","sharedMutations","currentDialog","SET_TASKS","tasks","documentJobTasks","reduce","memo","notices","notifications","notice","message","graphQLErrors","existing","find","n","count","splice","indexOf","random","DELETE_NOTICE","SET_MODELS","mapping","buildModels","hasOwnProperty","modelSet","models","model","Vue","set","PATCH_MODELS","buildPatches","patches","patch","base","DELETE_MODELS","modifiers","slot","result","totalCount","page","perPage","parentSitemap","hasSitemap","isSitemap","hasDocument","isDocument","hasCapture","isCapture","CrawlerBaseAttrs","crawlerModels","sitemapEntry","redirectUrl","httpStatus","busy","processAgain","errorDigest","error","errorTrace","body","prettyStoryJson","contentApiOpsTotal","prettyContentApiOps","recounting","_type","isProject","getters","sitemapModelsList","sitemapId","dispatch","captureType","groupTaxonomyType","parserJson","advanced","parserModels","revisionerId","revisioner","fetchParser","then","note","updateParser","namespaced","loading","mutations","SET_LOADING","payload","Boolean","constituentCommunityId","urlMatcher","editing","routerLink","aggregate","recount","createCrawlerForm","captureMode","DEFAULT","FORCE_RECAPTURE","TAXONOMY_ONLY","allowsCrawling","watch","updateCrawler","total","complete","stopCrawler","filterOptions","filterDefault","createJobForm","info","lookup","$route","results","lookupInput","val","filterInput","pageNumber","documentEntryId","order","searchParams","search","JSON","stringify","jobParams","fetchJobTasks","apollo","client","DocumentsSearch","ProjectsRow","projectModelsList","sitemapsForProject","sitemaps","fetchProjects","require","md5","module","contents","configEl","querySelector","config","parse","textContent","use","Vuex","VueApollo","VueRouter","apolloProvider","defaultClient","towerClient","clients","importer","tower","router","ignoredElements","res","manifest","tags","all","h","App","SET_CONTEXT","user","entitlements","currentUser","seed","Store","actions","captureActions","communityActions","crawlerActions","documentActions","generalActions","identityActions","jobActions","parserActions","projectActions","searchActions","sitemapActions","communityModels","jobModels","networkRoles","memberships","roles","importedDocumentCaptureId","trace","storyData","storyJson","ops","contentApiOps","fetchCapture","unloadCapture","chorusId","updateIdentity","callback","$$v","isDashboard","goToDashboard","importManagerUrl","quickSearch","routeKey","newProject","item","projectSearchOptions","CaptureBaseAttrs","DocumentDisplayAttrs","documentEntry","filters","collapsable","parentId","version","filterSelection","searchActive","revisionNote","jobsById","statuses","s","some","j","fetchJobs","includes","cancelJob","deleteJob","path","captureDefault","communityDefault","delegateCommunityId","crawlerDefault","documentDefault","allowsCapture","jobDefault","parserDefault","captureTypes","groupTaxonomyTypes","schemaJson","placeholderDefault","fulfilledType","fulfilledValue","projectDefault","sitemapDefault","activeDocumentsCount","archivedDocumentsCount","blacklistUrls","communityDelegationId","communityDelegationMode","crawlerId","currentCrawlerId","failedDocumentsCount","importedDocumentsCount","newDocumentsCount","PATCH","schemaFilter","defs","identityDefault","schemaMerge","freeze","newCapture","newCrawler","newDocument","newJob","newParser","newPlaceholder","documentParser","newSitemap","currentCrawler","factoriesByModelSet","obj","entries","refs","factory","resolveObject","$set","_n","$forceUpdate","CreateProject","InputForm","ParserRevision","TextConsole","DocumentBaseAttrs","documentCaptures","captureModelsList","d","documentModelsList","placeholderModelsList","CommunityCell","fullHeight","setHeight","window","addEventListener","removeEventListener","e","communityMenu","communityMenuTrigger","contains","innerHeight","r","isAuthorized","localStorage","setItem","ProjectBaseAttrs","sitemapsData","projects","p","sitemapEntries","parsers","networkId","SitemapBaseAttrs","communityDelegations","unloadSitemap","editParser","CommunityMenu","$refs","HttpStatusError","response","Error","captureStackTrace","stack","constructor","iconName","animation","appLoader","registerModule","URL","pathname","httpLink","HttpLink","uri","credentials","ApolloClient","link","cache","InMemoryCache","connectToDevTools","shouldBatch","defaultOptions","watchQuery","fetchPolicy","$apollo","queries","refetch","current","previous","stripURIHost","statusIconName","crawlerIconName","$slots","_t","notificationDesign","success","designForNotice","deleteNotice","howLong","CrawlerStatus","SitemapsSearch","lastFetch","parent","isRoot","communityDelegation","delegations","communityDelegationsList","communityMode","now","fetchSitemap","updateSitemap","_pollId","startPolling","handler","interval","stopPolling","setInterval","clearInterval","beforeDestroy","delegation","delegateId","sort","a","b","localeCompare","createForm","IdentitiesRow","apiType","JobBaseAttrs","schema","empty","fn","timer","delay","callTarget","context","callArgs","arguments","clearTimeout","immediate","apply","source","emptied","filled","ns","doc","loc","definitionRefs","findOperation","i","definitions","element","forEach","def","Set","collectFragmentReferences","node","kind","add","selectionSet","selections","selection","variableDefinitions","operationName","newDoc","opRefs","allRefs","newRefs","refName","size","prevRefs","has","childRef","op","oneQuery","sortBy","grouped","membership","networkIndex","findIndex","svgLogo","prebuildParser","createParser","form","isInteger","max","fieldName","$el","numericInput","reqOpts","parsed","loadOpts","request","opts","merge","omit","qs","wait","messageActions","reportError","hash","STORAGE","checkStatus","ok","returnWithHeaders","withHeaders","headers","cacheKey","method","getCacheKey","force","fetch","parseBody","accepts","Accept","text","json","retry","maxDelay","min","handleError","app","showError","console","warn","defaultReqOpts","defaultOpts","requestOpts","toUpperCase","index","findMessageIndex","select","messages","hasError","get","isError","showMessage","defaults","DEFAULTS","dismissible","storageKey","getItem","validatePersistence","isIndex","opt","communityScopeId","saveParser","isRevision","revisions","rev","findBy","formatFinder","errorScope","view","ParserBaseAttrs","errors","emit","env","Sentry","captureMessage","process","captureException","error_name","from","extra","downloadUrl","runJob","AppNotifications","AppModal","AppLoader","CommunitySelect","userIsNetworkAdmin","parseInt","hasPermission","accessGranted","classList","remove","searchDocuments","role","getEntitlements","CommunitiesRow","mode","routes","component","DashboardApp","ProjectApp","SitemapApp","DocumentApp","CaptureApp","ParserApp","IdentitiesApp","PlaceholdersApp","JobsApp","CommunitiesApp","beforeEach","to","next","title","getElementsByTagName","innerText","getElementById","scrollTo","lastObject","createDocumentForm","slugify","communityScope","fetching","multiCommunity","selectCommunities","communityScopeInput","projectInput","sitemapInput","refresh","pullRoute","pushRoute","q","scope","project_id","sitemap_id","setDownloadUrl","findByUrl","ids","addDocument","failedDocumentCaptureId","errorSummary","errorOccurrenceCount","updatedAt"],"mappings":"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","file":"importmanager.c5bfe8ae527dd59e95b8.0.js","sourcesContent":["/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./app-loader.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./app-loader.vue\"\n/* template */\nimport {render as __vue_render__, staticRenderFns as __vue_static_render_fns__} from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-42cf65d1\\\",\\\"hasScoped\\\":false,\\\"optionsId\\\":\\\"0\\\",\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./app-loader.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nimport normalizeComponent from \"!../../../node_modules/vue-loader/lib/runtime/component-normalizer\"\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_render__,\n  __vue_static_render_fns__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n","<template>\n  <a :href=\"href\" @click.prevent=\"$emit('communityId', community.id)\">\n    <li :class=\"{ 'is-active': selectionId === community.id }\" class=\"m-community-select__item\">\n      <div class=\"m-community-select__avatar\">\n        <img :src=\"community.faviconUrl || defaultLogoUrl\" class=\"m-community-select__icon\" />\n      </div>\n      <span class=\"m-community-select__name\">{{ community.name }}</span>\n      <res-icon v-if=\"selectionId === community.id\" name=\"check-circle\" size=\"medium\"/>\n    </li>\n  </a>\n</template>\n\n<script>\nexport default {\n  props: {\n    community: {\n      type: Object,\n      required: true\n    },\n    defaultLogoUrl: {\n      type: String,\n      required: true\n    },\n    selectionId: {\n      type: Number,\n      default: null\n    },\n  },\n  computed: {\n    href() {\n      // @todo  support a URL format.\n      return '#';\n    }\n  }\n};\n</script>\n","/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./community-cell.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./community-cell.vue\"\n/* template */\nimport {render as __vue_render__, staticRenderFns as __vue_static_render_fns__} from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-13ba1031\\\",\\\"hasScoped\\\":false,\\\"optionsId\\\":\\\"0\\\",\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./community-cell.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nimport normalizeComponent from \"!../../../../node_modules/vue-loader/lib/runtime/component-normalizer\"\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_render__,\n  __vue_static_render_fns__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n","export default {\n  methods: {\n    routeTo(name, id=null) {\n      const route = {\n        name,\n        query: {\n          community_id: this.$store.state.currentCommunity.id\n        }\n      };\n\n      if (id) {\n        route.params = { id };\n      }\n\n      return route;\n    }\n  }\n};\n","export * from '../../shared/vue/store/commands';\n\nexport const SET_DIALOG = 'setDialog';\nexport const SET_TASKS = 'setTasks';\n\nexport const PUT_NOTICE = 'putNotification';\nexport const DELETE_NOTICE = 'deleteNotification';\n\nexport const SET_MODELS = 'setModels';\nexport const PATCH_MODELS = 'patchModels';\nexport const DELETE_MODELS = 'deleteModels';\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.crawlable || _vm.hasRunningCrawler)?_c('div',{staticClass:\"m-import-manager__crawler\",class:{ '--running': _vm.hasRunningCrawler }},[_c('header',[(_vm.hasRunningCrawler)?[_c('strong',[_vm._v(\"\\n        Crawler running in \"),_c('router-link',{attrs:{\"to\":_vm.routeTo('sitemap', _vm.crawlerSitemap.id)}},[_vm._v(_vm._s(_vm.crawlerSitemap.name))]),_vm._v(\"...\\n        \"+_vm._s(_vm.crawler.percentComplete)+\"% complete\\n      \")],1),_vm._v(\" \"),_c('div',[(_vm.crawlerSitemap.parentId)?_c('res-checkbox',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.autoAdvance),expression:\"autoAdvance\"}],attrs:{\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.autoAdvance)?_vm._i(_vm.autoAdvance,null)>-1:(_vm.autoAdvance)},on:{\"change\":function($event){var $$a=_vm.autoAdvance,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.autoAdvance=$$a.concat([$$v]))}else{$$i>-1&&(_vm.autoAdvance=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.autoAdvance=$$c}}}}),_vm._v(\" \"),_c('label',[_vm._v(\"auto-advance\")])]):_vm._e(),_vm._v(\" \"),_c('res-button',{key:\"stop-crawling\",staticClass:\"m-l-5\",attrs:{\"paddingless\":\"\"},on:{\"click\":function($event){$event.preventDefault();return _vm.cancelCrawler()}}},[_c('res-icon',{attrs:{\"name\":\"none\",\"size\":\"medium\"}}),_vm._v(\" \"),_c('button',[_vm._v(\"Stop crawling\")])],1)],1)]:(_vm.crawlable && _vm.hasCrawlerLock)?[_c('strong',[_vm._v(\"Crawling is disabled for this project\")])]:(_vm.crawlable && _vm.hasIdleCrawler)?[_c('strong',[_vm._v(\"Last crawl of \"+_vm._s(_vm.sitemap.name)+\" \"+_vm._s(String(_vm.crawler.status).toLowerCase()))]),_vm._v(\" \"),_c('button',{attrs:{\"type\":\"button\",\"title\":\"Start new crawler\",\"paddingless\":\"\"},on:{\"click\":function($event){$event.preventDefault();return _vm.startCrawler()}}},[_c('res-icon',{attrs:{\"name\":\"amp\",\"size\":\"medium\"}}),_vm._v(\" \"),_c('span',[_vm._v(\"Start new crawler\")])],1)]:(_vm.crawlable && !_vm.hasCrawler)?[_c('strong',[_vm._v(\"No crawler history\")]),_vm._v(\" \"),_c('res-button',{key:\"start-crawling\",attrs:{\"paddingless\":\"\"},on:{\"click\":function($event){$event.preventDefault();return _vm.startCrawler()}}},[_c('res-icon',{attrs:{\"name\":\"amp\",\"size\":\"medium\"}}),_vm._v(\" \"),_c('button',[_vm._v(\"Start crawling\")])],1)]:_vm._e()],2),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.crawlable && _vm.hasCrawler && !_vm.hasCrawlerLock),expression:\"crawlable && hasCrawler && !hasCrawlerLock\"}],staticClass:\"m-import-manager__crawler__stats\"},[(_vm.hasRunningCrawler)?_c('p',[_vm._v(\"Running for \"+_vm._s(_vm.formatHMS(_vm.crawler.duration))+\", now at ~\"+_vm._s(Math.round(_vm.crawler.recordsPerSecond * 100) / 100)+\" documents per second\")]):_c('p',[_vm._v(\"Finished \"+_vm._s(_vm.formatDateTime(_vm.crawler.finishedAt))+\", took \"+_vm._s(_vm.formatHMS(_vm.crawler.duration)))]),_vm._v(\" \"),_c('p',[_c('res-icon',{attrs:{\"name\":_vm.statusIcon(_vm.crawler.sitemapsTotal, _vm.crawler.sitemapsComplete),\"size\":\"small\"}}),_vm._v(\"\\n      found \"+_vm._s(_vm.crawler.sitemapsTotal)+\" sitemaps, fetched \"+_vm._s(_vm.crawler.sitemapsComplete)+\" \"),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.crawler.sitemapsLimit),expression:\"crawler.sitemapsLimit\"}]},[_vm._v(\"(limit \"+_vm._s(_vm.crawler.sitemapsLimit+1)+\")\")])],1),_vm._v(\" \"),_c('p',[_c('res-icon',{attrs:{\"name\":_vm.statusIcon(_vm.crawler.documentsTotal, _vm.crawler.documentsComplete),\"size\":\"small\"}}),_vm._v(\"\\n      found \"+_vm._s(_vm.crawler.documentsTotal)+\" documents, fetched \"+_vm._s(_vm.crawler.documentsComplete)+\" \"),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.crawler.documentsLimit),expression:\"crawler.documentsLimit\"}]},[_vm._v(\"(limit \"+_vm._s(_vm.crawler.documentsLimit)+\")\")])],1)])]):_vm._e()}\nvar staticRenderFns = []\nexport { render, staticRenderFns }","<template>\n  <main>\n    <section>\n      <div class=\"m-import-manager__header\">\n        <h1>Project: {{ project.name }}</h1>\n        <res-icon v-if=\"saving\" class=\"m-l-1\" name=\"more\" size=\"medium\" />\n      </div>\n      <form>\n        <fieldset>\n          <div class=\"m-import-manager__fieldset\">\n            <div class=\"m-import-manager__fieldset__input\">\n              <res-input>\n                <label>Name</label> <input v-model.lazy=\"mutable.name\" type=\"text\" placeholder=\"Name\" />\n              </res-input>\n            </div>\n            <div class=\"m-import-manager__fieldset__input m-l-1\">\n              <div v-if=\"isLoaded\" class=\"m-import-manager__actionset\">\n                <res-button paddingless @click.prevent=\"newParser()\">\n                  <res-icon name=\"add\" size=\"medium\" /> <button>New parser</button>\n                </res-button>\n                <res-button class=\"m-l-1\" paddingless @click.prevent=\"editParser()\">\n                  <res-icon name=\"edit\" size=\"medium\" /> <button>Edit parser</button>\n                </res-button>\n              </div>\n              <res-select>\n                <label>Markup Parser</label>\n                <select v-model=\"mutable.documentParserId\" name=\"parser\">\n                  <option v-for=\"parser in parserModelsList\" :key=\"parser.id\" :value=\"parser.id\">{{ parser.name }}</option>\n                </select>\n              </res-select>\n            </div>\n          </div>\n        </fieldset>\n        <dl class=\"m-import-manager__defs\">\n          <dt>\n            <res-switch :checked=\"mutable.createRedirects\" @change=\"mutable.createRedirects=$event.target.checked\">\n              <input type=\"checkbox\" /> <label>Create redirects</label>\n            </res-switch>\n          </dt>\n          <dd>Create redirects for canonical URLs and AMP pages.</dd>\n          <dt>\n            <res-switch :checked=\"mutable.createAuthors\" @change=\"mutable.createAuthors=$event.target.checked\">\n              <input type=\"checkbox\" /> <label>Create authors</label>\n            </res-switch>\n          </dt>\n          <dd>Add author permissions and profiles to users with email addresses.</dd>\n          <dt>\n            <res-switch :checked=\"mutable.enableFrontPage\" @change=\"mutable.enableFrontPage=$event.target.checked\">\n              <input type=\"checkbox\" /> <label>Add to front page</label>\n            </res-switch>\n          </dt>\n          <dd>Automatically add documents to the \"Front Page\" group.</dd>\n          <dt>\n            <res-switch :checked=\"!mutable.active\" @change=\"mutable.active=!$event.target.checked\">\n              <input type=\"checkbox\" /> <label>Disable capture</label>\n            </res-switch>\n          </dt>\n          <dd>Prevents further captures from the remote site.</dd>\n        </dl>\n      </form>\n    </section>\n\n    <section>\n      <div class=\"m-import-manager__header --split\">\n        <h2>Sitemaps</h2>\n        <res-button paddingless @click.prevent=\"newSitemap()\">\n          <res-icon name=\"add\" size=\"medium\" /> <button>New sitemap</button>\n        </res-button>\n      </div>\n      <sitemaps-table v-if=\"isLoaded\" :projectId=\"id\" :parentId=\"null\"/>\n    </section>\n  </main>\n</template>\n\n<script>\nimport { mapState, mapGetters, mapActions } from 'vuex';\nimport { formatMutable, mutableHasChanged } from '../lib/utils';\nimport { projectDefault } from '../store/models/defaults';\nimport SitemapsTable from '../components/sitemaps-table.vue';\n\nconst mutableSchema = {\n  active: '',\n  createRedirects: '',\n  createAuthors: '',\n  enableFrontPage: '',\n  documentParserId: '',\n  name: '',\n};\n\nconst createParserForm = {\n  fields: {\n    name: {\n      label: 'Name',\n      type: 'text'\n    }\n  },\n  submit: 'Create Parser'\n};\n\nconst createSitemapForm = {\n  fields: {\n    name: {\n      label: 'Sitemap Name',\n      type: 'text'\n    },\n    url: {\n      label: 'URL',\n      type: 'text'\n    }\n  },\n  submit: 'Create Sitemap'\n};\n\nexport default {\n  components: {\n    SitemapsTable\n  },\n  props: {\n    id: { type: Number, required: true }\n  },\n  data() {\n    return {\n      saving: false,\n      // assume projects are active by default (majority case)\n      // to eliminate some noisy animation from res-switch\n      mutable: formatMutable(mutableSchema, {\n        active: true,\n        createAuthors: false,\n        createRedirects: false,\n        enableFrontPage: false,\n      }),\n    };\n  },\n  computed: {\n    ...mapState([\n      'currentCommunity'\n    ]),\n    ...mapGetters([\n      'parserModelsList'\n    ]),\n    project() {\n      return this.$store.state.projectModels[this.id] || projectDefault;\n    },\n    isLoaded() {\n      return !!this.project.id;\n    },\n    isChanged() {\n      return this.isLoaded && mutableHasChanged(this.mutable, this.project);\n    }\n  },\n  mounted() {\n    for (let field of Object.keys(mutableSchema)) {\n      this.$watch(`mutable.${field}`, this.save);\n    }\n\n    this.fetchProject({ id: this.id })\n      .then(project => this.mutable = formatMutable(mutableSchema, project));\n  },\n  methods: {\n    ...mapActions([\n      'createParser',\n      'createSitemap',\n      'fetchProject',\n      'setDialog',\n      'updateProject',\n    ]),\n    editParser() {\n      if (this.mutable.documentParserId) {\n        this.$router.push({ name: 'parser', params: { id: this.mutable.documentParserId } });\n      }\n    },\n    newParser() {\n      this.setDialog({ tag: 'input-form', form: createParserForm })\n        .then(data => {\n          if (!data.name) return;\n          this.createParser({ name: data.name });\n        });\n    },\n    newSitemap() {\n      this.setDialog({ tag: 'input-form', form: createSitemapForm })\n        .then(data => {\n          if (!data.name || !data.url) return;\n          this.createSitemap({\n            projectId: this.id,\n            name: data.name,\n            url: data.url,\n          });\n        });\n    },\n    save() {\n      if (!this.isChanged || this.saving) return;\n      this.saving = true;\n      this.updateProject({ id: this.id, input: this.mutable }).then(project => {\n        this.mutable = formatMutable(mutableSchema, project);\n        this.saving = false;\n      });\n    }\n  }\n};\n</script>\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('a',{attrs:{\"href\":_vm.href},on:{\"click\":function($event){$event.preventDefault();return _vm.$emit('communityId', _vm.community.id)}}},[_c('li',{staticClass:\"m-community-select__item\",class:{ 'is-active': _vm.selectionId === _vm.community.id }},[_c('div',{staticClass:\"m-community-select__avatar\"},[_c('img',{staticClass:\"m-community-select__icon\",attrs:{\"src\":_vm.community.faviconUrl || _vm.defaultLogoUrl}})]),_vm._v(\" \"),_c('span',{staticClass:\"m-community-select__name\"},[_vm._v(_vm._s(_vm.community.name))]),_vm._v(\" \"),(_vm.selectionId === _vm.community.id)?_c('res-icon',{attrs:{\"name\":\"check-circle\",\"size\":\"medium\"}}):_vm._e()],1)])}\nvar staticRenderFns = []\nexport { render, staticRenderFns }","/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./app-modal.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./app-modal.vue\"\n/* template */\nimport {render as __vue_render__, staticRenderFns as __vue_static_render_fns__} from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-45db1c1e\\\",\\\"hasScoped\\\":false,\\\"optionsId\\\":\\\"0\\\",\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./app-modal.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nimport normalizeComponent from \"!../../../node_modules/vue-loader/lib/runtime/component-normalizer\"\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_render__,\n  __vue_static_render_fns__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n","/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./parser.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./parser.vue\"\n/* template */\nimport {render as __vue_render__, staticRenderFns as __vue_static_render_fns__} from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-99184d38\\\",\\\"hasScoped\\\":false,\\\"optionsId\\\":\\\"0\\\",\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./parser.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nimport normalizeComponent from \"!../../node_modules/vue-loader/lib/runtime/component-normalizer\"\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_render__,\n  __vue_static_render_fns__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n","import { SET_DIALOG } from '../commands';\n\nexport default {\n\n  setDialog(store, params) {\n    if (!params) return this.commit(SET_DIALOG, null);\n    if (typeof params === 'string') params = { tag: params };\n\n    const promise = new Promise((resolve, reject) => {\n      params.resolve = resolve;\n      params.reject = reject;\n    });\n\n    this.commit(SET_DIALOG, params);\n    return promise;\n  }\n\n};\n","export const entryStatusIcons = {\n  CREATED: 'minus-circle',\n  CAPTURING: 'amp',\n  CAPTURED: 'check-circle',\n  FAILED: 'x-circle',\n};\n\nexport const processingStatusIcons = {\n  UNATTEMPTED: 'clock',\n  COMPLETE: 'check-circle',\n  DISABLED: 'minus-circle',\n  FAILED: 'x-circle',\n  IMPORTED: 'check-circle',\n  NOT_IMPORTED: 'minus-circle',\n};\n\nexport const crawlerIcons = {\n  RUNNING: 'amp',\n  CANCELLED: 'x-circle',\n  COMPLETED: 'check-circle',\n  NOT_CRAWLED: 'minus-circle',\n\n  // job status\n  PENDING: 'clock',\n  FAILED: 'x-circle',\n};\n\n// Parses a string to a date object, or null.\nexport function parseDate(str) {\n  const date = new Date(str || undefined);\n  return date.getTime() ? date : null;\n}\n\n// Formats a time string as `1/1/2019`\nexport function formatDate(str) {\n  const date = parseDate(str);\n  return date ? `${date.getMonth() + 1}/${date.getDate()}/${date.getFullYear()}` : '';\n}\n\n// Formats a time string as `12:07pm`\nexport function formatTime(str) {\n  const date = parseDate(str);\n  if (date) {\n    const hours = ('00' + date.getHours()).substr(-2, 2);\n    const mins = ('00' + date.getMinutes()).substr(-2, 2);\n    return `${hours}:${mins}`;\n  }\n  return '';\n}\n\n// Formats a time string as `1/1/2019 12:07pm`\nexport function formatDateTime(str) {\n  const date = formatDate(str);\n  const time = formatTime(str);\n  return `${date} ${time}`;\n}\n\n// Formats a seconds duration as HH:MM:SS.\nexport function formatHMS(secs) {\n  secs = Math.round(secs);\n  const hours   = Math.floor(secs / 3600);\n  const minutes = Math.floor((secs - (hours * 3600)) / 60);\n  const seconds = secs - (hours * 3600) - (minutes * 60);\n\n  return [hours, minutes, seconds]\n    .map((t) => '00' + t)\n    .map((t) => t.substr(t.length-2))\n    .join(':');\n}\n\nexport function stripURIHost(str) {\n  return String(str || '').trim().replace(/^(https?:)?\\/\\/[^/]+\\//, '/');\n}\n\nexport function formatNumber(num) {\n  return typeof num === 'number' ? num.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',') : num;\n}\n\nexport function formatFinder(finder) {\n  finder = finder.trim();\n  let field = 'findByUrl';\n  let value = finder;\n\n  const sbnEntryId = /sbn\\s*(\\d+)/i;\n  const contentApiUuid = /^uuid\\s*([a-f0-9-]+)$/i;\n  const errorDigest = /^[0-9a-f]{8,32}$/i;\n\n  if (sbnEntryId.test(finder)) {\n    field = 'chorusEntryId';\n    value = Number(finder.match(sbnEntryId)[1]);\n  } else if (contentApiUuid.test(finder)) {\n    field = 'contentApiUuid';\n    value = finder.match(contentApiUuid)[1];\n  } else if (errorDigest.test(finder)) {\n    field = 'errorDigest';\n  }\n\n  return { [field]: value };\n}\n\n// @todo  hook this into application config\nexport function importManagerUrl() {\n  const sandbox = /\\.(sb\\d+\\.k8s\\.(?:sbndev|voxops)\\.net)/;\n  if (/localhost/.test(location.host)) {\n    return 'http://chorus-import-manager.local.sbndev.net:4444';\n  } else if (sandbox.test(location.host)) {\n    return 'https://chorus-import-manager.'+location.host.match(sandbox)[1];\n  } else {\n    return 'https://chorus-import-manager.voxops.net';\n  }\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('main',[_c('app-breadcrumbs',{attrs:{\"project\":_vm.project,\"sitemap\":_vm.sitemap,\"document\":_vm.document}}),_vm._v(\" \"),_c('section',[_c('div',{staticClass:\"m-import-manager__header\"},[_c('h1',[_vm._v(\"Document: \"+_vm._s(_vm.id))])]),_vm._v(\" \"),_c('dl',{staticClass:\"m-import-manager__defs\"},[_c('dt',[_vm._v(\"Status\")]),_vm._v(\" \"),_c('dd',[_c('res-icon',{attrs:{\"name\":_vm.statusIcon,\"size\":\"medium\"}}),_vm._v(\" \"+_vm._s(_vm.document.status))],1),_vm._v(\" \"),_c('dt',[_vm._v(\"Archival\")]),_vm._v(\" \"),_c('dd',{staticClass:\"--split\"},[_c('span',[_c('res-icon',{attrs:{\"name\":_vm.archivalStatusIcon,\"size\":\"medium\"}}),_vm._v(\" \"+_vm._s(_vm.document.archivalStatus))],1),_vm._v(\" \"),_c('res-button',{attrs:{\"disabled\":_vm.saving,\"paddingless\":\"\"},on:{\"click\":function($event){$event.preventDefault();return _vm.toggleArchived()}}},[_c('res-icon',{attrs:{\"name\":\"replace\",\"size\":\"medium\"}}),_vm._v(\" \"),_c('button',[_vm._v(_vm._s(_vm.document.archived ? 'Unarchive' : 'Archive'))])],1)],1),_vm._v(\" \"),_c('dt',[_vm._v(\"Starred\")]),_vm._v(\" \"),_c('dd',{staticClass:\"--split\",class:{ 'is-watched': _vm.document.watched }},[_c('span',[_c('res-icon',{attrs:{\"name\":\"star\",\"size\":\"medium\"}}),_vm._v(\" \"+_vm._s(_vm.document.watched ? 'YES' : 'NO'))],1),_vm._v(\" \"),_c('res-button',{attrs:{\"disabled\":_vm.saving,\"paddingless\":\"\"},on:{\"click\":function($event){$event.preventDefault();return _vm.toggleWatched($event)}}},[_c('res-icon',{attrs:{\"name\":\"replace\",\"size\":\"medium\"}}),_vm._v(\" \"),_c('button',[_vm._v(_vm._s(_vm.document.watched ? 'Unstar' : 'Star'))])],1)],1),_vm._v(\" \"),_c('dt',[_vm._v(\"Community\")]),_vm._v(\" \"),_c('dd',{staticClass:\"--split\"},[_c('span',[_vm._v(_vm._s(_vm.communityNameById[_vm.document.communityId]))]),_vm._v(\" \"),_c('res-button',{attrs:{\"disabled\":_vm.saving,\"paddingless\":\"\"},on:{\"click\":function($event){$event.preventDefault();return _vm.changeCommunity($event)}}},[_c('res-icon',{attrs:{\"name\":\"replace\",\"size\":\"medium\"}}),_vm._v(\" \"),_c('button',[_vm._v(\"Change\")])],1)],1),_vm._v(\" \"),_c('dt',[_vm._v(\"Canonical URL\")]),_vm._v(\" \"),_c('dd',[_c('a',{attrs:{\"href\":_vm.document.canonicalUrl}},[_vm._v(_vm._s(_vm.document.canonicalUrl))])]),_vm._v(\" \"),_c('dt',[_vm._v(\"Chorus URL\")]),_vm._v(\" \"),_c('dd',[(_vm.document.chorusEntryUrl)?_c('a',{attrs:{\"href\":_vm.document.chorusEntryUrl}},[_vm._v(_vm._s(_vm.document.chorusEntryUrl))]):_c('span',[_vm._v(\"N/A\")])]),_vm._v(\" \"),_c('dt',[_vm._v(\"SBN entry ID\")]),_vm._v(\" \"),_c('dd',[_vm._v(_vm._s(_vm.document.chorusEntryId || 'N/A'))]),_vm._v(\" \"),_c('dt',[_vm._v(\"Content API UUID\")]),_vm._v(\" \"),_c('dd',[(_vm.document.contentApiUuid)?_c('span',[_c('a',{attrs:{\"href\":(\"/api/content/docs/\" + (_vm.document.contentApiUuid))}},[_vm._v(_vm._s(_vm.document.contentApiUuid))]),_vm._v(\"\\n          | \"),_c('a',{attrs:{\"href\":(\"/compose/\" + (_vm.document.contentApiUuid))}},[_vm._v(\"Open in story editor\")])]):_c('span',[_vm._v(\"N/A\")])]),_vm._v(\" \"),_c('dt',[_vm._v(\"Chorus API\")]),_vm._v(\" \"),_c('dd',[(_vm.document.towerUrl)?_c('span',[_c('a',{attrs:{\"href\":_vm.document.towerUrl}},[_vm._v(\"Open in Chorus API\")])]):_c('span',[_vm._v(\"N/A\")])]),_vm._v(\" \"),(_vm.document.clickabilityUrl)?_c('dt',[_vm._v(\"Clickability URL\")]):_vm._e(),_vm._v(\" \"),(_vm.document.clickabilityUrl)?_c('dd',[_c('span',[_c('a',{attrs:{\"href\":_vm.document.clickabilityUrl}},[_vm._v(_vm._s(_vm.document.clickabilityUrl))])])]):_vm._e(),_vm._v(\" \"),_c('dt',[_vm._v(\"Last fetched\")]),_vm._v(\" \"),_c('dd',[_vm._v(_vm._s(_vm.document.fetchedAt ? _vm.formatDateTime(_vm.document.fetchedAt) : 'N/A'))]),_vm._v(\" \"),_c('dt',[_vm._v(\"Last modified\")]),_vm._v(\" \"),_c('dd',[_vm._v(_vm._s(_vm.formatDateTime(_vm.document.modifiedAt)))])])]),_vm._v(\" \"),(_vm.placeholders.length)?_c('section',{staticClass:\"m-import-manager__table\"},[_vm._m(0),_vm._v(\" \"),_c('res-table',{staticClass:\"m-dashboard__table\"},[_c('table',[_c('thead',[_c('tr',[_c('th',[_vm._v(\"ID\")]),_vm._v(\" \"),_c('th',[_vm._v(\"Type\")]),_vm._v(\" \"),_c('th',[_vm._v(\"Data\")]),_vm._v(\" \"),_c('th',[_vm._v(\"Fulfilled\")])])]),_vm._v(\" \"),_c('tbody',_vm._l((_vm.placeholders),function(placeholder){return _c('tr',{key:placeholder.id},[_c('td',[_vm._v(_vm._s(placeholder.id))]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(placeholder.contentType))]),_vm._v(\" \"),_c('td',[(placeholder.data.length <= 40)?_c('span',[_vm._v(_vm._s(placeholder.data))]):_c('a',{staticClass:\"m-clip-text\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.setDialog({ tag: 'text-console', value: placeholder.data })}}},[_vm._v(_vm._s(placeholder.data))])]),_vm._v(\" \"),_c('td',[_c('abbr',{attrs:{\"title\":placeholder.fulfilled ? 'FULFILLED' : 'UNFULFILLED'}},[_c('res-icon',{attrs:{\"name\":placeholder.fulfilled ? 'check-circle' : 'minus-circle',\"size\":\"medium\"}})],1)])])}),0)])])],1):_vm._e(),_vm._v(\" \"),_c('section',{staticClass:\"m-import-manager__table\"},[_vm._m(1),_vm._v(\" \"),_c('res-table',{staticClass:\"m-dashboard__table\"},[_c('table',[_c('thead',[_c('tr',[_c('th',[_vm._v(\"Time\")]),_vm._v(\" \"),_c('th',[_vm._v(\"Fetch\")]),_vm._v(\" \"),_c('th',[_vm._v(\"Parse\")]),_vm._v(\" \"),_c('th',[_vm._v(\"Imported\")]),_vm._v(\" \"),_c('th',{attrs:{\"colspan\":\"2\"}},[_vm._v(\"Redirects\")])])]),_vm._v(\" \"),_c('tbody',_vm._l((_vm.captures),function(capture){return _c('tr',{key:capture.id},[_c('td',[_c('router-link',{attrs:{\"to\":_vm.routeTo('capture', capture.id)}},[_vm._v(_vm._s(_vm.formatDateTime(capture.createdAt)))])],1),_vm._v(\" \"),_c('td',[_c('a',{attrs:{\"title\":capture.fetchStatus}},[_c('res-icon',{attrs:{\"name\":_vm.processingStatusIcon(capture.fetchStatus),\"size\":\"medium\"}})],1),_vm._v(\" \"),(capture.fetchDigest)?_c('router-link',{staticClass:\"m-import-manager__digest\",attrs:{\"to\":_vm.routeTo('capture', capture.id)}},[_vm._v(\"\\n                \"+_vm._s(capture.fetchDigest.slice(0, 8))+\"\\n              \")]):_vm._e()],1),_vm._v(\" \"),_c('td',[_c('a',{attrs:{\"title\":capture.parseStatus}},[_c('res-icon',{attrs:{\"name\":_vm.processingStatusIcon(capture.parseStatus),\"size\":\"medium\"}})],1),_vm._v(\" \"),(capture.parseDigest)?_c('router-link',{staticClass:\"m-import-manager__digest\",attrs:{\"to\":_vm.routeTo('capture', capture.id)}},[_vm._v(\"\\n                \"+_vm._s(capture.parseDigest.slice(0, 8))+\"\\n              \")]):_vm._e()],1),_vm._v(\" \"),_c('td',[_c('a',{attrs:{\"title\":capture.importStatus}},[_c('res-icon',{attrs:{\"name\":_vm.processingStatusIcon(capture.importStatus),\"size\":\"medium\"}})],1),_vm._v(\" \"),(capture.contentApiOpsDigest)?_c('router-link',{staticClass:\"m-import-manager__digest\",attrs:{\"to\":_vm.routeTo('capture', capture.id)}},[_vm._v(\"\\n                \"+_vm._s(capture.contentApiOpsDigest.slice(0, 8))+\"\\n              \")]):_vm._e()],1),_vm._v(\" \"),_c('td',[_c('a',{attrs:{\"title\":capture.redirectsStatus}},[_c('res-icon',{attrs:{\"name\":_vm.processingStatusIcon(capture.redirectsStatus),\"size\":\"medium\"}})],1)]),_vm._v(\" \"),_c('td',[(capture.fetchStatus === 'COMPLETE')?[_c('res-button',{attrs:{\"id\":'capture-actions-'+capture.id,\"paddingless\":\"\"}},[_c('res-icon',{staticClass:\"more\",attrs:{\"name\":\"more\",\"animated\":\"false\"}}),_c('button')],1),_vm._v(\" \"),_c('res-dropdown',{attrs:{\"for\":'capture-actions-'+capture.id,\"placement\":\"left\"}},[_c('button',{attrs:{\"disabled\":!!_vm.processing[capture.id],\"type\":\"button\",\"title\":\"Rerun parse\",\"paddingless\":\"\"},on:{\"click\":function($event){$event.preventDefault();return _vm.onReprocessCapture($event, capture.id, 'PARSE')}}},[_c('res-icon',{attrs:{\"name\":\"grid\",\"size\":\"medium\"}}),_vm._v(\" \"),_c('span',[_vm._v(\"Rerun parse\")])],1),_vm._v(\" \"),_c('button',{attrs:{\"disabled\":!!_vm.processing[capture.id],\"type\":\"button\",\"title\":\"Rerun import\",\"paddingless\":\"\"},on:{\"click\":function($event){$event.preventDefault();return _vm.onReprocessCapture($event, capture.id, 'IMPORT')}}},[_c('res-icon',{attrs:{\"name\":\"storystream\",\"size\":\"medium\"}}),_vm._v(\" \"),_c('span',[_vm._v(\"Rerun import\")])],1)])]:_vm._e()],2)])}),0)])]),_vm._v(\" \"),_c('footer',[_c('span',[_vm._v(\"Captured \"+_vm._s(_vm.captures.length)+\" time\"+_vm._s(_vm.captures.length !== 1 ? 's' : ''))]),_vm._v(\" \"),(_vm.document.allowsCapture)?_c('res-button',{attrs:{\"disabled\":_vm.capturing,\"design\":\"secondary\"},on:{\"click\":function($event){$event.preventDefault();return _vm.onCapture()}}},[_c('res-icon',{attrs:{\"name\":_vm.capturing ? 'loading' : 'refresh',\"size\":\"medium\"}}),_vm._v(\" \"),_c('button',[_vm._v(_vm._s(_vm.captures.length ? 'New capture' : 'Capture now'))])],1):_vm._e()],1)],1)],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"m-import-manager__header\"},[_c('h2',[_vm._v(\"Placeholders\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"m-import-manager__header\"},[_c('h2',[_vm._v(\"History\")])])}]\nexport { render, staticRenderFns }","/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./document.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./document.vue\"\n/* template */\nimport {render as __vue_render__, staticRenderFns as __vue_static_render_fns__} from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-26b6ba1d\\\",\\\"hasScoped\\\":false,\\\"optionsId\\\":\\\"0\\\",\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./document.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nimport normalizeComponent from \"!../../node_modules/vue-loader/lib/runtime/component-normalizer\"\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_render__,\n  __vue_static_render_fns__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('main',[_vm._m(0),_vm._v(\" \"),_c('p',{staticClass:\"--italic\"},[_vm._v(\"start jobs from the documents search table\")]),_vm._v(\" \"),_c('div',{staticClass:\"m-import-manager__table\"},[_c('res-table',{staticClass:\"m-dashboard__table\"},[_c('table',[_c('thead',[_c('tr',[_c('th',[_vm._v(\"Job\")]),_vm._v(\" \"),_c('th',[_vm._v(\"Task\")]),_vm._v(\" \"),_c('th',[_vm._v(\"Documents\")]),_vm._v(\" \"),_c('th',{attrs:{\"colspan\":\"2\"}},[_vm._v(\"Status\")])])]),_vm._v(\" \"),_c('tbody',_vm._l((_vm.jobs),function(job){return _c('tr',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isVisible(job)),expression:\"isVisible(job)\"}],key:job.id,class:{ '--child-row': !job.workers }},[_c('td',[(job.workers)?[_c('res-button',{style:({ transform: (\"rotate(\" + (_vm.activeJobId === job.id ? '0' : '-90deg') + \")\") }),attrs:{\"paddingless\":\"\"},on:{\"click\":function($event){$event.preventDefault();return _vm.toggleJob(job)}}},[_c('res-icon',{attrs:{\"name\":\"down\",\"size\":\"medium\"}}),_c('button')],1),_vm._v(\" \"),_c('a',{staticClass:\"m-import-manager__digest m-r-5\",attrs:{\"href\":_vm.jobLogUrl(job),\"title\":(\"Logs for job \" + (job.jobId)),\"target\":\"_blank\"}},[_vm._v(\"\\n                  job \"+_vm._s(job.jobId.split('-')[0])+\"\\n                \")]),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.formatDateTime(job.createdAt)))])]:[_c('res-icon',{staticClass:\"m-r-1\",attrs:{\"size\":\"small\",\"name\":\"tab\"}}),_vm._v(\" \"),_c('a',{staticClass:\"m-import-manager__digest m-r-5\",attrs:{\"href\":_vm.jobLogUrl(job),\"title\":(\"Logs for worker \" + (job.id)),\"data-id\":job.id,\"target\":\"_blank\"}},[_vm._v(\"\\n                  worker \"+_vm._s(job.id)+\"\\n                \")]),_vm._v(\" \"),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(job.status === 'RUNNING' && job.lastDocumentId),expression:\"job.status === 'RUNNING' && job.lastDocumentId\"}]},[_vm._v(\"@ \"+_vm._s(job.lastDocumentId))])]],2),_vm._v(\" \"),_c('td',[(job.workers)?[_c('res-button',{staticClass:\"m-r-5\",attrs:{\"paddingless\":\"\"},on:{\"click\":function($event){$event.preventDefault();return _vm.setDialog({ tag: 'text-console', value: job.searchJson })}}},[_c('res-icon',{attrs:{\"name\":\"publish\",\"size\":\"medium\"}}),_c('button')],1),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(job.task.replace(/^perform_/i, '')))])]:[_c('span',{staticClass:\"--italic\"},[_vm._v(_vm._s(job.startAt || '<')+\"..\"+_vm._s(job.finishAt || '>'))])]],2),_vm._v(\" \"),_c('td',[_c('span',{class:{ '--italic': !job.workers }},[_vm._v(_vm._s(job.documentsTotal))])]),_vm._v(\" \"),_c('td',[_c('a',{attrs:{\"title\":job.status}},[_c('res-icon',{attrs:{\"name\":_vm.statusIcon(job.status),\"size\":\"medium\"}})],1),_vm._v(\" \"),_c('span',{class:{ '--italic': !job.workers }},[_vm._v(_vm._s(job.percentComplete)+\"%\")])]),_vm._v(\" \"),_c('td',[_c('res-button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.mayCancel(job)),expression:\"mayCancel(job)\"}],attrs:{\"paddingless\":\"\",\"title\":\"Cancel\"},on:{\"click\":function($event){$event.preventDefault();return _vm.confirmCancelJob(job)}}},[_c('res-icon',{attrs:{\"name\":\"none\",\"size\":\"medium\"}}),_c('button',[_vm._v(\"Cancel\")])],1),_vm._v(\" \"),_c('res-button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.mayResume(job)),expression:\"mayResume(job)\"}],attrs:{\"paddingless\":\"\",\"title\":\"Resume\"},on:{\"click\":function($event){$event.preventDefault();return _vm.resumeJob(job.id)}}},[_c('res-icon',{attrs:{\"name\":\"refresh\",\"size\":\"medium\"}}),_c('button',[_vm._v(\"Resume\")])],1),_vm._v(\" \"),(job.workers)?_c('res-button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.mayTrash(job)),expression:\"mayTrash(job)\"}],attrs:{\"paddingless\":\"\",\"title\":\"Delete\"},on:{\"click\":function($event){$event.preventDefault();return _vm.confirmDeleteJob(job)}}},[_c('res-icon',{attrs:{\"name\":\"trash\",\"size\":\"medium\"}}),_c('button')],1):_vm._e(),_vm._v(\" \"),(!job.workers)?_c('res-button',{directives:[{name:\"show\",rawName:\"v-show\",value:(job.errorMessage),expression:\"job.errorMessage\"}],attrs:{\"paddingless\":\"\",\"title\":\"Errors\"},on:{\"click\":function($event){$event.preventDefault();return _vm.setDialog({ tag: 'text-console', value: job.errorMessage })}}},[_c('res-icon',{attrs:{\"name\":\"warning\",\"size\":\"medium\"}}),_c('button')],1):_vm._e()],1)])}),0)])]),_vm._v(\" \"),_c('footer',[(_vm.loaded && _vm.jobs.length)?_c('span',[_vm._v(\"\\n        Found \"+_vm._s(_vm.formatNumber(_vm.jobRollups.length))+\" jobs\\n      \")]):(_vm.loaded)?_c('span',[_vm._v(\"\\n        No results\\n      \")]):_vm._e()])],1)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"m-import-manager__header --split\"},[_c('h1',[_vm._v(\"Document jobs\")])])}]\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('form',{on:{\"submit\":function($event){$event.preventDefault();}}},[_c('fieldset',[_c('res-input',[_c('label',[_vm._v(\"Project Name\")]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.name),expression:\"name\"}],attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.name)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.name=$event.target.value}}})])],1),_vm._v(\" \"),_c('fieldset',[(_vm.parserModelsList.length)?_c('res-select',[_c('label',[_vm._v(\"Parser\")]),_vm._v(\" \"),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.documentParserId),expression:\"documentParserId\"}],on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.documentParserId=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},_vm._l((_vm.parserModelsList),function(parser){return _c('option',{key:parser.id,domProps:{\"value\":parser.id}},[_vm._v(_vm._s(parser.name))])}),0)]):_c('res-input',[_c('label',[_vm._v(\"Parser Name\")]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.documentParserName),expression:\"documentParserName\"}],attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.documentParserName)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.documentParserName=$event.target.value}}})])],1),_vm._v(\" \"),_c('footer',[_c('res-button',{attrs:{\"design\":\"primary\"},on:{\"click\":function($event){$event.preventDefault();return _vm.create()}}},[_c('button',{attrs:{\"type\":\"submit\"}},[_vm._v(\"Create Project\")])]),_vm._v(\" \"),_c('res-button',{staticClass:\"m-l-1\",attrs:{\"design\":\"secondary\"},on:{\"click\":function($event){$event.preventDefault();return _vm.close()}}},[_c('button',{attrs:{\"type\":\"button\"}},[_vm._v(\"Cancel\")])])],1)])}\nvar staticRenderFns = []\nexport { render, staticRenderFns }","/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./placeholders.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./placeholders.vue\"\n/* template */\nimport {render as __vue_render__, staticRenderFns as __vue_static_render_fns__} from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2b5624d4\\\",\\\"hasScoped\\\":false,\\\"optionsId\\\":\\\"0\\\",\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./placeholders.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nimport normalizeComponent from \"!../../node_modules/vue-loader/lib/runtime/component-normalizer\"\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_render__,\n  __vue_static_render_fns__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"m-community-select__menu-wrap\",style:(_vm.fullHeight)},[(_vm.networks)?_c('ul',{staticClass:\"m-community-select__list\"},[_vm._l((_vm.networks),function(network){return [(network.communities.length === 1)?_c('community-cell',{key:network.name,attrs:{\"community\":network.communities[0],\"defaultLogoUrl\":_vm.defaultLogoUrl,\"selectionId\":_vm.selectionId},on:{\"communityId\":function($event){return _vm.selectCommunity($event)}}}):_c('ul',{key:network.name,staticClass:\"m-community-select__list\"},[_c('li',{staticClass:\"m-community-select__network\",class:_vm.expandedNetworks[network.id] ? 'is-expanded' : 'is-collapsed'},[_c('div',{staticClass:\"m-community-select__item\",on:{\"click\":function($event){$event.preventDefault();return _vm.expandNetwork(network.id)}}},[_c('div',{staticClass:\"m-community-select__avatar\"},[(network.logo)?_c('div',{domProps:{\"innerHTML\":_vm._s(network.logo)}}):_c('img',{staticClass:\"m-community-select__icon\",staticStyle:{\"height\":\"20px\"},attrs:{\"src\":_vm.defaultLogoUrl}})]),_vm._v(\" \"),_c('span',{staticClass:\"m-community-select__name\"},[_vm._v(_vm._s(network.name))]),_vm._v(\" \"),_c('res-icon',{attrs:{\"size\":\"medium\",\"name\":\"add-circle\"}}),_vm._v(\" \"),_c('res-icon',{attrs:{\"size\":\"medium\",\"name\":\"minus-circle\"}})],1),_vm._v(\" \"),_c('ul',{staticClass:\"m-community-select__sub-list\"},_vm._l((network.communities),function(community){return _c('community-cell',{key:community.id,attrs:{\"community\":community,\"defaultLogoUrl\":_vm.defaultLogoUrl,\"selectionId\":_vm.selectionId},on:{\"communityId\":function($event){return _vm.selectCommunity($event)}}})}),1)])])]})],2):_vm._e()])}\nvar staticRenderFns = []\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"m-community-select__menu-trigger\",on:{\"click\":function($event){$event.preventDefault();return _vm.toggleMenu($event)}}},[_c('div',{staticClass:\"m-community-select__lockup\",class:{ 'is-open': _vm.menuOpen && _vm.hasMenu, 'm-community-select__lockup--openable': _vm.hasMenu }},[_c('div',{staticClass:\"m-community-select__avatar\"},[_c('img',{staticClass:\"m-community-select__icon\",attrs:{\"src\":_vm.community.faviconUrl || _vm.defaultLogoUrl}})]),_vm._v(\" \"),_c('span',{staticClass:\"m-community-select__name\"},[_vm._v(_vm._s(_vm.community.name))])])]),_vm._v(\" \"),(_vm.networks && _vm.networks.length)?_c('community-menu',{ref:\"communityMenu\",staticClass:\"m-community-select__menu\",class:{ 'is-active': _vm.menuOpen },attrs:{\"allowedRoles\":_vm.allowedRoles,\"activeMemberships\":_vm.activeMemberships,\"defaultLogoUrl\":_vm.defaultLogoUrl,\"networks\":_vm.networks,\"menuOpen\":_vm.menuOpen},on:{\"closeMenu\":_vm.closeMenu}}):_vm._e()],1)}\nvar staticRenderFns = []\nexport { render, staticRenderFns }","<template>\n  <main>\n    <app-breadcrumbs :project=\"project\" :sitemap=\"sitemap\" :document=\"document\"/>\n    <section>\n      <div class=\"m-import-manager__header\">\n        <h1>Document: {{ id }}</h1>\n      </div>\n      <dl class=\"m-import-manager__defs\">\n        <dt>Status</dt>\n        <dd><res-icon :name=\"statusIcon\" size=\"medium\" /> {{ document.status }}</dd>\n        <dt>Archival</dt>\n        <dd class=\"--split\">\n          <span><res-icon :name=\"archivalStatusIcon\" size=\"medium\" /> {{ document.archivalStatus }}</span>\n          <res-button :disabled=\"saving\" paddingless @click.prevent=\"toggleArchived()\">\n            <res-icon name=\"replace\" size=\"medium\" /> <button>{{ document.archived ? 'Unarchive' : 'Archive' }}</button>\n          </res-button>\n        </dd>\n        <dt>Starred</dt>\n        <dd :class=\"{ 'is-watched': document.watched }\" class=\"--split\">\n          <span><res-icon name=\"star\" size=\"medium\" /> {{ document.watched ? 'YES' : 'NO' }}</span>\n          <res-button :disabled=\"saving\" paddingless @click.prevent=\"toggleWatched\">\n            <res-icon name=\"replace\" size=\"medium\" /> <button>{{ document.watched ? 'Unstar' : 'Star' }}</button>\n          </res-button>\n        </dd>\n        <dt>Community</dt>\n        <dd class=\"--split\">\n          <span>{{ communityNameById[document.communityId] }}</span>\n          <res-button :disabled=\"saving\" paddingless @click.prevent=\"changeCommunity\">\n            <res-icon name=\"replace\" size=\"medium\" /> <button>Change</button>\n          </res-button>\n        </dd>\n        <dt>Canonical URL</dt>\n        <dd><a :href=\"document.canonicalUrl\">{{ document.canonicalUrl }}</a></dd>\n        <dt>Chorus URL</dt>\n        <dd>\n          <a v-if=\"document.chorusEntryUrl\" :href=\"document.chorusEntryUrl\">{{ document.chorusEntryUrl }}</a>\n          <span v-else>N/A</span>\n        </dd>\n        <dt>SBN entry ID</dt>\n        <dd>{{ document.chorusEntryId || 'N/A' }}</dd>\n        <dt>Content API UUID</dt>\n        <dd>\n          <span v-if=\"document.contentApiUuid\">\n            <a :href=\"`/api/content/docs/${ document.contentApiUuid }`\">{{ document.contentApiUuid }}</a>\n            | <a :href=\"`/compose/${ document.contentApiUuid }`\">Open in story editor</a>\n          </span>\n          <span v-else>N/A</span>\n        </dd>\n        <dt>Chorus API</dt>\n        <dd>\n          <span v-if=\"document.towerUrl\">\n            <a :href=\"document.towerUrl\">Open in Chorus API</a>\n          </span>\n          <span v-else>N/A</span>\n        </dd>\n        <dt v-if=\"document.clickabilityUrl\">Clickability URL</dt>\n        <dd v-if=\"document.clickabilityUrl\">\n          <span>\n            <a :href=\"document.clickabilityUrl\">{{ document.clickabilityUrl }}</a>\n          </span>\n        </dd>\n        <dt>Last fetched</dt>\n        <dd>{{ document.fetchedAt ? formatDateTime(document.fetchedAt) : 'N/A' }}</dd>\n        <dt>Last modified</dt>\n        <dd>{{ formatDateTime(document.modifiedAt) }}</dd>\n      </dl>\n    </section>\n\n    <section v-if=\"placeholders.length\" class=\"m-import-manager__table\">\n      <div class=\"m-import-manager__header\">\n        <h2>Placeholders</h2>\n      </div>\n      <res-table class=\"m-dashboard__table\">\n        <table>\n          <thead>\n            <tr>\n              <th>ID</th>\n              <th>Type</th>\n              <th>Data</th>\n              <th>Fulfilled</th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr v-for=\"placeholder in placeholders\" :key=\"placeholder.id\">\n              <td>{{ placeholder.id }}</td>\n              <td>{{ placeholder.contentType }}</td>\n              <td>\n                <span v-if=\"placeholder.data.length <= 40\">{{ placeholder.data }}</span>\n                <a v-else href=\"#\" class=\"m-clip-text\" @click.prevent=\"setDialog({ tag: 'text-console', value: placeholder.data })\">{{ placeholder.data }}</a>\n              </td>\n              <td>\n                <abbr :title=\"placeholder.fulfilled ? 'FULFILLED' : 'UNFULFILLED'\">\n                  <res-icon :name=\"placeholder.fulfilled ? 'check-circle' : 'minus-circle'\" size=\"medium\" />\n                </abbr>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n      </res-table>\n    </section>\n\n    <section class=\"m-import-manager__table\">\n      <div class=\"m-import-manager__header\">\n        <h2>History</h2>\n      </div>\n      <res-table class=\"m-dashboard__table\">\n        <table>\n          <thead>\n            <tr>\n              <th>Time</th>\n              <th>Fetch</th>\n              <th>Parse</th>\n              <th>Imported</th>\n              <th colspan=\"2\">Redirects</th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr v-for=\"capture in captures\" :key=\"capture.id\">\n              <td><router-link :to=\"routeTo('capture', capture.id)\">{{ formatDateTime(capture.createdAt) }}</router-link></td>\n              <td>\n                <a :title=\"capture.fetchStatus\">\n                  <res-icon :name=\"processingStatusIcon(capture.fetchStatus)\" size=\"medium\"/>\n                </a>\n                <router-link\n                  v-if=\"capture.fetchDigest\"\n                  :to=\"routeTo('capture', capture.id)\"\n                  class=\"m-import-manager__digest\"\n                >\n                  {{ capture.fetchDigest.slice(0, 8) }}\n                </router-link>\n              </td>\n              <td>\n                <a :title=\"capture.parseStatus\">\n                  <res-icon :name=\"processingStatusIcon(capture.parseStatus)\" size=\"medium\"/>\n                </a>\n                <router-link\n                  v-if=\"capture.parseDigest\"\n                  :to=\"routeTo('capture', capture.id)\"\n                  class=\"m-import-manager__digest\"\n                >\n                  {{ capture.parseDigest.slice(0, 8) }}\n                </router-link>\n              </td>\n              <td>\n                <a :title=\"capture.importStatus\">\n                  <res-icon :name=\"processingStatusIcon(capture.importStatus)\" size=\"medium\"/>\n                </a>\n                <router-link\n                  v-if=\"capture.contentApiOpsDigest\"\n                  :to=\"routeTo('capture', capture.id)\"\n                  class=\"m-import-manager__digest\"\n                >\n                  {{ capture.contentApiOpsDigest.slice(0, 8) }}\n                </router-link>\n              </td>\n              <td>\n                <a :title=\"capture.redirectsStatus\">\n                  <res-icon :name=\"processingStatusIcon(capture.redirectsStatus)\" size=\"medium\" />\n                </a>\n              </td>\n              <td>\n                <template v-if=\"capture.fetchStatus === 'COMPLETE'\">\n                  <res-button :id=\"'capture-actions-'+capture.id\" paddingless>\n                    <res-icon class=\"more\" name=\"more\" animated=\"false\" /><button />\n                  </res-button>\n                  <res-dropdown :for=\"'capture-actions-'+capture.id\" placement=\"left\">\n                    <button\n                      :disabled=\"!!processing[capture.id]\"\n                      type=\"button\"\n                      title=\"Rerun parse\"\n                      paddingless\n                      @click.prevent=\"onReprocessCapture($event, capture.id, 'PARSE')\"\n                    >\n                      <res-icon name=\"grid\" size=\"medium\"/> <span>Rerun parse</span>\n                    </button>\n                    <button\n                      :disabled=\"!!processing[capture.id]\"\n                      type=\"button\"\n                      title=\"Rerun import\"\n                      paddingless\n                      @click.prevent=\"onReprocessCapture($event, capture.id, 'IMPORT')\"\n                    >\n                      <res-icon name=\"storystream\" size=\"medium\" /> <span>Rerun import</span>\n                    </button>\n                  </res-dropdown>\n                </template>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n      </res-table>\n      <footer>\n        <span>Captured {{ captures.length }} time{{ captures.length !== 1 ? 's' : '' }}</span>\n        <res-button v-if=\"document.allowsCapture\" :disabled=\"capturing\" design=\"secondary\" @click.prevent=\"onCapture()\">\n          <res-icon :name=\"capturing ? 'loading' : 'refresh'\" size=\"medium\"/>\n          <button>{{ captures.length ? 'New capture' : 'Capture now' }}</button>\n        </res-button>\n      </footer>\n    </section>\n  </main>\n</template>\n\n<script>\nimport Polling from '../components/mixins/polling';\nimport Routing from '../components/mixins/routing';\nimport AppBreadcrumbs from '../components/app-breadcrumbs.vue';\nimport { mapActions, mapGetters } from 'vuex';\nimport { formatMutable } from '../lib/utils';\nimport { formatDateTime, entryStatusIcons, processingStatusIcons } from '../lib/formatting';\nimport {\n  documentDefault,\n  projectDefault,\n  sitemapDefault\n} from '../store/models/defaults';\n\nconst changeCommunityForm = {\n  prompt: 'The document will be deleted from its current community and republish here.',\n  fields: {\n    communityId: {\n      label: 'Community',\n      options: {}\n    }\n  },\n  submit: 'Change Community'\n};\n\nconst mutableSchema = {\n  archivalStatus: null,\n  watched: null,\n};\n\nexport default {\n  components: {\n    AppBreadcrumbs,\n  },\n  mixins: [Polling, Routing],\n  props: {\n    id: { type: Number, required: true },\n  },\n  data() {\n    return {\n      capturing: false,\n      mutable: formatMutable(mutableSchema),\n      processing: {},\n      saving: false,\n    };\n  },\n  computed: {\n    ...mapGetters(['communityNameById']),\n    document() {\n      return this.$store.state.documentModels[this.id] || documentDefault;\n    },\n    captures() {\n      return Object.values(this.$store.state.captureModels)\n        .filter(c => c.documentEntryId === this.id)\n        .sort((a, b) => String(b.createdAt).localeCompare(a.createdAt));\n    },\n    placeholders() {\n      return Object.values(this.$store.state.placeholderModels)\n        .filter(c => c.documentEntryId === this.id);\n    },\n    sitemap() {\n      return this.$store.state.sitemapModels[this.document.sitemapEntryId] || sitemapDefault;\n    },\n    project() {\n      return this.$store.state.projectModels[this.document.projectId] || projectDefault;\n    },\n    statusIcon() {\n      return entryStatusIcons[this.document.status] || entryStatusIcons.CREATED;\n    },\n    archivalStatusIcon() {\n      return this.document.archived ? 'none' : 'check-circle';\n    },\n    isLoaded() {\n      return !!this.document.id;\n    }\n  },\n  mounted() {\n    this.startImmediatePolling(() => {\n      this.fetchDocument({ id: this.id })\n        .then(doc => this.mutable = formatMutable(mutableSchema, doc));\n    }, 15000);\n  },\n  destroyed() {\n    this.unloadDocument({ id: this.id });\n  },\n  methods: {\n    ...mapActions([\n      'captureDocument',\n      'changeDocumentCommunity',\n      'fetchDocument',\n      'processCapture',\n      'setDialog',\n      'unloadDocument',\n      'updateDocument',\n    ]),\n    formatDateTime,\n    processingStatusIcon(status) {\n      return processingStatusIcons[status] || processingStatusIcons.UNATTEMPTED;\n    },\n    toggleArchived() {\n      if (this.saving) return;\n      this.saving = true;\n      this.updateDocument({ id: this.id, input: {\n        archivalStatus: this.document.archived ? 'ACTIVE' : 'ARCHIVED_BY_ADMIN'\n      } })\n        .then(doc => {\n          this.mutable = formatMutable(mutableSchema, doc);\n          this.saving = false;\n        });\n    },\n    toggleWatched() {\n      if (this.saving) return;\n      this.saving = true;\n      this.updateDocument({ id: this.id, input: {\n        watched: !this.mutable.watched\n      } })\n        .then(doc => {\n          this.mutable = formatMutable(mutableSchema, doc);\n          this.saving = false;\n        });\n    },\n    changeCommunity() {\n      const options = Object.assign({}, this.communityNameById);\n      delete options[this.document.communityId];\n\n      changeCommunityForm.fields.communityId.options = options;\n\n      this.setDialog({ tag: 'input-form', form: changeCommunityForm })\n        .then(async (data) => {\n          this.saving = true;\n          await this.changeDocumentCommunity({ id: this.id, communityId: Number(data.communityId) });\n          this.saving = false;\n        });\n    },\n    onCapture() {\n      setTimeout(() => {\n        // use timeout so that dropdown can close before ui-blocking confirm runs.\n        if (confirm('This will re-fetch the remote document and attempt a fresh import. Proceed?')) {\n          this.capturing = true;\n          this.captureDocument({ id: this.id })\n            .then(() => this.capturing = false);\n        }\n      }, 0);\n    },\n    onReprocessCapture(evt, id, action) {\n      this.closeDropdown(evt);\n      if (this.processing[id]) return;\n\n      // mark capture as processing while waiting for response...\n      this.processing = Object.assign({}, this.processing, { [id]: action });\n      this.processCapture({ id, action })\n        .then(() => this.processing = Object.assign({}, this.processing, { [id]: null }));\n    },\n    closeDropdown(evt) {\n      let el = evt.target;\n      while (el && el.tagName) {\n        if (/res-dropdown/i.test(el.tagName)) return el.toggle();\n        el = el.parentNode;\n      }\n    }\n  }\n};\n</script>\n","import gql from 'graphql-tag';\nimport * as cmd from '../commands';\nimport { importerClient } from '../../../shared/vue/lib/apollo_client';\nimport { newIdentity } from '../models/factories';\n\nexport default {\n  async createIdentity(store, input) {\n    const { data } = await importerClient.mutate({\n      mutation: gql`\n        mutation CreateIdentity($input: CreateImporterMappedIdentityInput!) {\n          identity: createImporterMappedIdentity(input: $input) {\n            chorusId\n            id\n            identity\n            type\n          }\n        }\n      `,\n      variables: { input }\n    }).catch(err => this.commit(cmd.PUT_NOTICE, err));\n\n    return Promise.resolve(newIdentity(data.identity));\n  },\n\n  async updateIdentity(store, params) {\n    // params.id = Int\n    // params.input = UpdateImporterMappedIdentityInput\n    const { data } = await importerClient.mutate({\n      mutation: gql`\n        mutation UpdateIdentity($id: Int!, $input: UpdateImporterMappedIdentityInput!) {\n          identity: updateImporterMappedIdentity(id: $id, input: $input) {\n            chorusId\n            id\n            identity\n            type\n          }\n        }\n      `,\n      variables: params\n    }).catch(err => this.commit(cmd.PUT_NOTICE, err));\n\n    return Promise.resolve(newIdentity(data.identity));\n  }\n};\n","/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./text-console.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./text-console.vue\"\n/* template */\nimport {render as __vue_render__, staticRenderFns as __vue_static_render_fns__} from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-56f03aa7\\\",\\\"hasScoped\\\":false,\\\"optionsId\\\":\\\"0\\\",\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./text-console.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nimport normalizeComponent from \"!../../../node_modules/vue-loader/lib/runtime/component-normalizer\"\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_render__,\n  __vue_static_render_fns__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n","/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./communities-row.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./communities-row.vue\"\n/* template */\nimport {render as __vue_render__, staticRenderFns as __vue_static_render_fns__} from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-70fb89e7\\\",\\\"hasScoped\\\":false,\\\"optionsId\\\":\\\"0\\\",\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./communities-row.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nimport normalizeComponent from \"!../../../node_modules/vue-loader/lib/runtime/component-normalizer\"\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_render__,\n  __vue_static_render_fns__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n","exports.ALT_TEXT_OVER_LIMIT = 'Alt text is currently limited to {alt_text_limit} characters. Please try again.';\nexports.APPLE_NEWS_MEMBERS_ONLY_WARNING = 'This {docLabel} is exclusive to Apple News+. To unhide it, remove the exclusives group and publish the changes.';\nexports.COMMUNITY_CHANGED = 'This {docLabel} has been moved!';\nexports.CSV_TOO_LARGE = 'This CSV is too large. Please upload a file under 1 MB.';\nexports.DATA_LINKS_ERROR = 'Suggestions timed out. Try again or add links manually.';\nexports.DRAFT_HERMANO_RECORD = 'This {record} is a draft; it will be published automatically when this {docLabel} is published.';\nexports.EMBARGOED = 'This story is embargoed.';\nexports.HIDDEN = 'This story is hidden.';\nexports.FEEDBACK_SENT = 'Message sent!';\nexports.FILE_TOO_LARGE = 'Files must be under 100 MB.';\nexports.GETTY_API_DOWN = 'Getty image search is unavailable. Please try again later.';\nexports.GIF_IN_IMAGE_CARD = 'GIFs cannot be published with {type} cards. Choose another?';\nexports.GIF_TOO_LARGE = 'This GIF is over {size} MB and will block this story from publishing to {platforms}.';\nexports.IMAGE_IN_GALLERY = 'This image is already included in the gallery. Choose another?';\nexports.IMAGE_TOO_LARGE = 'Images must be under 10,000 x 10,000 pixels.';\nexports.INVALID_LINK_MESSAGE = 'Please enter a valid URL.';\nexports.INVALID_SPREADSHEET_URL = 'Please add a valid public Google Sheet URL and try again.';\nexports.INVALID_STREAM_MEMBERSHIP = 'This type of story cannot be added.';\nexports.MERLIN_API_DOWN = 'Merlin image search is unavailable. Please try again later.';\nexports.MISSING_LEGACY_ENTRY = 'Editing is disabled because a more recent version of this story may exist. &nbsp;<a href=\"https://www.chorus.help/hc/en-us/requests/new\">Contact us for help.</a>';\nexports.NETWORK_ASSETS_ACCESS_DENIED = 'You are not authorized to access assets across this network. Your permissions must be updated before searching across networks.';\nexports.NEW_USER_MESSAGE = 'Welcome to Chorus! &nbsp;<a href=\"{url}\">Check out our getting started guide.</a>';\nexports.OEMBED_GENERIC_ERROR = 'Something went wrong. Make sure this embed is shareable and try again.';\nexports.OEMBED_INSECURE_ERROR = 'This embed URL is insecure. Only HTTPS embeds are supported.';\nexports.OEMBED_SUPPORT_ERROR = 'Embeds from this source are not supported at this time.';\nexports.OEMBED_PDF_SUPPORT_ERROR = 'PDFs must be under 10 MB.';\nexports.OEMBED_YOUTUBE_SUPPORT_ERROR = 'Embeds are disabled for this video by the YouTube account owner.';\nexports.PLAGSCAN_ERROR = 'An error occurred. Please try scanning the story again.';\nexports.PLAGSCAN_LOW_WORD_COUNT = 'You can scan this story once it\\'s over 50 words.';\nexports.PLAGSCAN_OUT_OF_DATE = 'The latest version of this story has not been scanned.';\nexports.PLAGSCAN_RETRIEVED= 'A report has been generated for this story.';\nexports.PLAGSCAN_SUBMITTED = 'A report is being generated.';\nexports.PLAGSCAN_UNSCANNED = 'Submit the story for approval to generate a report.';\nexports.PUBLISH_PACKAGE_ACTIVE_MESSAGE = 'Your stories are being {action}...';\nexports.PUBLISH_PACKAGE_WARNING_MESSAGE = '{gerund} this landing page will {verb} all drafts in this package.';\nexports.PYM_EMBED_GENERIC_ERROR = 'Something went wrong. Make sure this Pym.js embed is shareable and try again.';\nexports.PYM_EMBED_INSECURE_ERROR = 'This Pym.js embed URL is insecure. Only HTTPS Pym.js embeds are supported.';\nexports.PYM_EMBED_SUPPORT_ERROR = 'Pym.js embeds from this source are not supported at this time.';\nexports.REALTIME_ERROR = 'Autosave failed. Please reload your browser.';\nexports.RECONNECT_ERROR = 'Something went wrong reconnecting. Please reload your browser.';\nexports.RECONNECTING = 'Reconnecting...';\nexports.RELOAD_REQUIRED = 'Please reload to get the latest updates.';\nexports.RELOAD_STALE_TAB = 'You\\'ve been away for a while, please reload.';\nexports.REQUIRED_FIELD = 'This field is required.';\nexports.RESCUE_SAVED_REASSURE = 'Your work has been saved in &nbsp;<a href=\"{url}\">this version.</a>';\nexports.SEND_TO_PRINT_SUCCESS = 'Sent to print!';\nexports.SHEET_PERMISSIONS = 'Please make the Google Sheet public to continue.';\nexports.STRUCTURED_TAGS_ERROR = 'Suggestions timed out. Try again or add tags manually.';\nexports.TOO_MANY_EDITORS = 'More than 10 editors at a time is not recommended.';\nexports.UNEXPECTED = 'An error occurred. Try again or reload your browser.';\nexports.UNSAVED_WARNING = 'Your changes are still being saved; leaving now could cause data loss!';\nexports.UNSUPPORTED_ASSET_TYPE = 'This format is not supported. <a href=\"https://www.chorus.help/hc/en-us/articles/360009582854-Files\">Learn more about supported file formats.</a>';\nexports.UPLOAD_INVALID_FILE = 'At least one of the uploaded files is not supported. Please review supported <a href=\"https://www.chorus.help/hc/en-us/articles/360010240753\">image</a> and <a href=\"https://www.chorus.help/hc/en-us/articles/360009582854-Files\">file</a> formats and try again.';\nexports.UPLOAD_TOO_MANY_FILES = 'One file at a time, please.';\n","import Vue from 'vue';\nimport * as cmd from './commands';\nimport { buildModels, buildPatches } from './models/factories';\nimport { defaultsByModelSet } from './models/defaults';\nimport sharedMutations from '../../shared/vue/store/mutations';\n\nconst modelSets = Object.keys(defaultsByModelSet);\n\nexport default {\n  ...sharedMutations,\n\n  // Sets a validated modal dialog configuration\n  [cmd.SET_DIALOG](state, options) {\n    state.currentDialog = options;\n  },\n\n  // Sets the table of document job tasks\n  [cmd.SET_TASKS](state, tasks) {\n    state.documentJobTasks = tasks.reduce((memo, task) => {\n      memo[task] = task.replace(/^perform_/, '').replace('_', ' ');\n      return memo;\n    }, {});\n  },\n\n  // Puts one or more notifications into the messaging queue.\n  [cmd.PUT_NOTICE](state, notices) {\n    if (!Array.isArray(notices)) notices = [notices];\n    const notifications = state.notifications.slice();\n\n    for (let notice of notices) {\n      if (notice && notice.message) {\n        const message = notice.message.replace(/GraphQL error:\\s*/g, '');\n        const type = (notice.graphQLErrors ? 'error' : notice.type) || 'info';\n        const existing = notifications.find(n => n.message === message && n.type === type);\n\n        if (existing) {\n          notice = Object.assign({}, existing, { count: existing.count + 1 });\n          notifications.splice(notifications.indexOf(existing), 1, notice);\n        } else {\n          notifications.push({ id: Math.round(Math.random() * 100000000), count: 1, message, type });\n        }\n      }\n    }\n\n    state.notifications = notifications;\n  },\n\n  // Deletes a notification from the messaging queue.\n  [cmd.DELETE_NOTICE](state, id) {\n    state.notifications = state.notifications.filter(notice => notice.id !== id);\n  },\n\n  [cmd.SET_MODELS](state, mapping) {\n    mapping = buildModels(mapping);\n    for (let key of modelSets) {\n      if (mapping.hasOwnProperty(key)) {\n        const modelSet = Object.assign({}, state[key]);\n        let models = mapping[key];\n        if (!Array.isArray(models)) models = [models];\n\n        for (let model of models) {\n          modelSet[model.id] = model;\n        }\n        Vue.set(state, key, modelSet);\n      }\n    }\n  },\n\n  [cmd.PATCH_MODELS](state, mapping) {\n    mapping = buildPatches(mapping);\n    for (let key of modelSets) {\n      if (mapping.hasOwnProperty(key)) {\n        const modelSet = Object.assign({}, state[key]);\n        let patches = mapping[key];\n        if (!Array.isArray(patches)) patches = [patches];\n\n        for (let patch of patches) {\n          const base = modelSet[patch.id] || defaultsByModelSet[key];\n          modelSet[patch.id] = Object.assign({}, base, patch);\n        }\n        Vue.set(state, key, modelSet);\n      }\n    }\n  },\n\n  [cmd.DELETE_MODELS](state, mapping) {\n    for (let key of modelSets) {\n      if (mapping.hasOwnProperty(key)) {\n        const modelSet = Object.assign({}, state[key]);\n        let models = mapping[key];\n        if (!Array.isArray(models)) models = [models];\n\n        for (let model of models) {\n          delete modelSet[model.id];\n        }\n        Vue.set(state, key, modelSet);\n      }\n    }\n  }\n};\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('main',[_c('div',{staticClass:\"m-import-manager__header --split\"},[_c('h1',[_vm._v(\"Imported \"+_vm._s(_vm.type)+\" identities\")]),_vm._v(\" \"),_c('res-button',{attrs:{\"paddingless\":\"\"},on:{\"click\":function($event){$event.preventDefault();return _vm.newIdentity()}}},[_c('res-icon',{attrs:{\"name\":\"add\",\"size\":\"medium\"}}),_vm._v(\" \"),_c('button',[_vm._v(\"New identity\")])],1)],1),_vm._v(\" \"),_c('form',{staticClass:\"m-import-manager__fieldset\",on:{\"submit\":function($event){$event.preventDefault();}}},[_c('res-input',[_c('label',[_vm._v(\"Search\")]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model.lazy\",value:(_vm.identity),expression:\"identity\",modifiers:{\"lazy\":true}}],attrs:{\"type\":\"text\",\"placeholder\":\"Search...\"},domProps:{\"value\":(_vm.identity)},on:{\"change\":function($event){_vm.identity=$event.target.value}}}),_vm._v(\" \"),_c('res-icon',{attrs:{\"slot\":\"inner-right\",\"name\":\"search\"},slot:\"inner-right\"})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"m-import-manager__table\"},[_c('res-table',{staticClass:\"m-dashboard__table\",attrs:{\"zebra\":\"true\"}},[_c('table',[_c('thead',[_c('tr',[_c('th',[_vm._v(\"Identity\")]),_vm._v(\" \"),_c('th',[_vm._v(\"Chorus ID\")]),_vm._v(\" \"),_c('th',{attrs:{\"colspan\":\"2\"}},[_vm._v(\"Community ID\")])])]),_vm._v(\" \"),_c('tbody',_vm._l((_vm.results),function(result){return _c('identities-row',{key:result.id,attrs:{\"model\":result}})}),1)])]),_vm._v(\" \"),_c('footer',[(_vm.loaded)?_c('span',[_vm._v(\"\\n        Found \"+_vm._s(_vm.formatNumber(_vm.totalCount))+\" results\\n      \")]):_vm._e(),_vm._v(\" \"),_c('res-pagination',{attrs:{\"page\":_vm.page,\"count\":_vm.totalCount,\"display\":_vm.perPage,\"indicator\":\"page\",\"pagination\":\"text-only\",\"navigation\":\"text\"},on:{\"change\":function($event){_vm.page=$event.target.page}}})],1)],1)])}\nvar staticRenderFns = []\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('nav',{staticClass:\"m-import-manager__breadcrumbs\"},[(_vm.hasProject)?_c('span',[_c('router-link',{attrs:{\"to\":_vm.routeTo('project', _vm.project.id),\"title\":\"Project\"}},[_vm._v(_vm._s(_vm.project.name))]),_vm._v(\" /\\n  \")],1):_c('span',[_vm._v(\"\")]),_vm._v(\" \"),(_vm.parentSitemap)?_c('span',[_c('router-link',{attrs:{\"to\":_vm.routeTo('sitemap', _vm.parentSitemap.id),\"title\":\"Sitemap index\"}},[_vm._v(_vm._s(_vm.parentSitemap.name))]),_vm._v(\" /\\n  \")],1):_vm._e(),_vm._v(\" \"),(_vm.hasSitemap && !_vm.isSitemap)?_c('span',[_c('router-link',{attrs:{\"to\":_vm.routeTo('sitemap', _vm.sitemap.id),\"title\":\"Sitemap urlset\"}},[_vm._v(_vm._s(_vm.sitemap.name))]),_vm._v(\" /\\n  \")],1):(_vm.isSitemap)?_c('strong',[_vm._v(_vm._s(_vm.sitemap.name))]):_vm._e(),_vm._v(\" \"),(_vm.hasDocument && !_vm.isDocument)?_c('span',[_c('router-link',{attrs:{\"to\":_vm.routeTo('document', _vm.document.id),\"title\":\"Document\"}},[_vm._v(_vm._s(_vm.document.id))]),_vm._v(\" /\\n  \")],1):(_vm.isDocument)?_c('strong',[_vm._v(_vm._s(_vm.document.id))]):_vm._e(),_vm._v(\" \"),(_vm.hasCapture && !_vm.isCapture)?_c('span',[_c('router-link',{attrs:{\"to\":_vm.routeTo('capture', _vm.capture.id),\"title\":\"Capture\"}},[_vm._v(_vm._s(_vm.capture.id))]),_vm._v(\" /\\n  \")],1):(_vm.isCapture)?_c('strong',[_vm._v(_vm._s(_vm.capture.id))]):_vm._e()])}\nvar staticRenderFns = []\nexport { render, staticRenderFns }","import gql from 'graphql-tag';\nimport * as cmd from '../commands';\nimport { importerClient } from '../../../shared/vue/lib/apollo_client';\n\nexport const CrawlerBaseAttrs = gql`\n  fragment CrawlerBaseAttrs on ImporterSitemapCrawler {\n    autoAdvance\n    documentsComplete\n    documentsLimit\n    documentsTotal\n    duration\n    finishedAt\n    id\n    percentComplete\n    recordsPerSecond\n    sitemapEntryId\n    sitemapsComplete\n    sitemapsLimit\n    sitemapsTotal\n    status\n  }\n`;\n\nexport default {\n  async createCrawler({ state }, input) {\n    const { data } = await importerClient.mutate({\n      mutation: gql`\n        mutation CreateCrawler($input: CreateImporterSitemapCrawlerInput!) {\n          crawler: createImporterSitemapCrawler(input: $input) {\n            ...CrawlerBaseAttrs\n            sitemapEntry {\n              id\n              name\n              crawler {\n                id\n              }\n              currentCrawler {\n                id\n              }\n            }\n          }\n        }\n        ${ CrawlerBaseAttrs }\n      `,\n      variables: { input }\n    }).catch(err => this.commit(cmd.PUT_NOTICE, err));\n\n    this.commit(cmd.PATCH_MODELS, {\n      crawlerModels: data.crawler,\n      sitemapModels: data.crawler.sitemapEntry,\n    });\n    return Promise.resolve(state.crawlerModels[data.crawler.id]);\n  },\n\n  async updateCrawler({ state }, params) {\n    const { data } = await importerClient.mutate({\n      mutation: gql`\n        mutation UpdateCrawler($input: UpdateImporterSitemapCrawlerInput!, $id: Int!) {\n          crawler: updateImporterSitemapCrawler(input: $input, id: $id) {\n            ...CrawlerBaseAttrs\n          }\n        }\n        ${ CrawlerBaseAttrs }\n      `,\n      variables: params\n    }).catch(err => this.commit(cmd.PUT_NOTICE, err));\n\n    this.commit(cmd.SET_MODELS, { crawlerModels: data.crawler });\n    return Promise.resolve(state.crawlerModels[params.id]);\n  },\n\n  async stopCrawler({ state }, params) {\n    const { data } = await importerClient.mutate({\n      mutation: gql`\n        mutation StopCrawler($id: Int!) {\n          crawler: stopImporterSitemapCrawler(id: $id) {\n            ...CrawlerBaseAttrs\n          }\n        }\n        ${ CrawlerBaseAttrs }\n      `,\n      variables: { id: params.id }\n    }).catch(err => this.commit(cmd.PUT_NOTICE, err));\n\n    this.commit(cmd.SET_MODELS, { crawlerModels: data.crawler });\n    return Promise.resolve(state.crawlerModels[params.id]);\n  }\n};\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('main',[_c('app-breadcrumbs',{attrs:{\"project\":_vm.project,\"sitemap\":_vm.sitemap,\"document\":_vm.document,\"capture\":_vm.capture}}),_vm._v(\" \"),_c('section',[_c('div',{staticClass:\"m-import-manager__header\"},[_c('h1',[_vm._v(\"Document Capture: \"+_vm._s(_vm.id))])]),_vm._v(\" \"),(_vm.isLoaded)?_c('dl',{staticClass:\"m-import-manager__defs\"},[_c('dt',[_vm._v(\"Created\")]),_vm._v(\" \"),_c('dd',[_vm._v(_vm._s(_vm.formatDateTime(_vm.capture.createdAt)))]),_vm._v(\" \"),_c('dt',[_vm._v(\"Parser\")]),_vm._v(\" \"),_c('dd',[(_vm.parser.id)?_c('router-link',{attrs:{\"to\":_vm.routeTo('parser', _vm.parser.id)}},[_vm._v(_vm._s(_vm.parser.name))]):_vm._e()],1),_vm._v(\" \"),_c('dt',[_vm._v(\"Redirect URL\")]),_vm._v(\" \"),_c('dd',[(_vm.capture.redirectUrl)?_c('a',{attrs:{\"href\":_vm.capture.redirectUrl}},[_vm._v(_vm._s(_vm.capture.redirectUrl))]):_c('span',[_vm._v(\"N/A\")])]),_vm._v(\" \"),_c('dt',[_vm._v(\"Canonical URL\")]),_vm._v(\" \"),_c('dd',[_c('a',{attrs:{\"href\":_vm.document.canonicalUrl}},[_vm._v(_vm._s(_vm.document.canonicalUrl))])]),_vm._v(\" \"),(_vm.isCurrentImport)?[_c('dt',[_vm._v(\"Chorus URL\")]),_vm._v(\" \"),_c('dd',[_c('a',{attrs:{\"href\":_vm.document.chorusEntryUrl}},[_vm._v(_vm._s(_vm.document.chorusEntryUrl))])]),_vm._v(\" \"),_c('dt',[_vm._v(\"Content API UUID\")]),_vm._v(\" \"),_c('dd',[(_vm.document.contentApiUuid)?_c('span',[_c('a',{attrs:{\"href\":(\"/api/content/docs/\" + (_vm.document.contentApiUuid))}},[_vm._v(_vm._s(_vm.document.contentApiUuid))]),_vm._v(\"\\n            [\"),_c('a',{attrs:{\"href\":(\"/compose/\" + (_vm.document.contentApiUuid))}},[_vm._v(\"editor\")]),_vm._v(\"]\\n          \")]):_c('span',[_vm._v(\"N/A\")])])]:_vm._e(),_vm._v(\" \"),_c('dt',[_vm._v(\"Fetch\")]),_vm._v(\" \"),_c('dd',{staticClass:\"--split\"},[_c('span',[_c('res-icon',{attrs:{\"name\":_vm.processingStatusIcon(_vm.capture.fetchStatus),\"size\":\"medium\"}}),_vm._v(\" \"+_vm._s(_vm.capture.fetchStatus)+\", http status: \"+_vm._s(_vm.capture.httpStatus))],1),_vm._v(\" \"),(_vm.document.allowsCapture)?_c('res-button',{attrs:{\"disabled\":_vm.busy,\"paddingless\":\"\"},on:{\"click\":function($event){$event.preventDefault();return _vm.processAgain('FETCH')}}},[_c('res-icon',{attrs:{\"name\":\"refresh\",\"size\":\"medium\"}}),_vm._v(\" \"),_c('button',[_vm._v(\"Rerun fetch\")])],1):_vm._e()],1),_vm._v(\" \"),_c('dt',[_vm._v(\"Parse\")]),_vm._v(\" \"),_c('dd',{staticClass:\"--split\"},[_c('span',[_c('res-icon',{attrs:{\"name\":_vm.processingStatusIcon(_vm.capture.parseStatus),\"size\":\"medium\"}}),_vm._v(\" \"+_vm._s(_vm.capture.parseStatus))],1),_vm._v(\" \"),_c('res-button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isFetched),expression:\"isFetched\"}],attrs:{\"disabled\":_vm.busy,\"paddingless\":\"\"},on:{\"click\":function($event){$event.preventDefault();return _vm.processAgain('PARSE')}}},[_c('res-icon',{attrs:{\"name\":\"refresh\",\"size\":\"medium\"}}),_vm._v(\" \"),_c('button',[_vm._v(\"Rerun parse\")])],1)],1),_vm._v(\" \"),_c('dt',[_vm._v(\"Import\")]),_vm._v(\" \"),_c('dd',{staticClass:\"--split\"},[_c('span',[_c('res-icon',{attrs:{\"name\":_vm.processingStatusIcon(_vm.capture.importStatus),\"size\":\"medium\"}}),_vm._v(\" \"+_vm._s(_vm.capture.importStatus))],1),_vm._v(\" \"),_c('res-button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isParsed),expression:\"isParsed\"}],attrs:{\"disabled\":_vm.busy,\"paddingless\":\"\"},on:{\"click\":function($event){$event.preventDefault();return _vm.processAgain('IMPORT')}}},[_c('res-icon',{attrs:{\"name\":\"refresh\",\"size\":\"medium\"}}),_vm._v(\" \"),_c('button',[_vm._v(\"Rerun import\")])],1)],1),_vm._v(\" \"),_c('dt',[_vm._v(\"Redirects\")]),_vm._v(\" \"),_c('dd',[_c('res-icon',{attrs:{\"name\":_vm.processingStatusIcon(_vm.capture.redirectsStatus),\"size\":\"medium\"}}),_vm._v(\" \"+_vm._s(_vm.capture.redirectsStatus))],1)],2):_vm._e()]),_vm._v(\" \"),(_vm.capture.error)?_c('section',[_vm._m(0),_vm._v(\" \"),_c('p',[_vm._v(_vm._s(_vm.capture.errorDigest))]),_vm._v(\" \"),_c('p',[_c('res-icon',{attrs:{\"name\":\"x-circle\",\"size\":\"medium\"}}),_vm._v(\" \"),_c('strong',[_vm._v(_vm._s(_vm.capture.error)+\":\")]),_vm._v(\" \"+_vm._s(_vm.capture.errorMessage)+\"\\n    \")],1),_vm._v(\" \"),(_vm.errorTrace)?_c('textarea',{staticClass:\"m-import-manager__console\",attrs:{\"readonly\":\"\"},domProps:{\"value\":_vm.errorTrace}}):_vm._e()]):_vm._e(),_vm._v(\" \"),(_vm.capture.body)?_c('section',[_vm._m(1),_vm._v(\" \"),_c('p',[_vm._v(_vm._s(_vm.capture.fetchDigest))]),_vm._v(\" \"),_c('textarea',{staticClass:\"m-import-manager__console\",attrs:{\"readonly\":\"\"},domProps:{\"value\":_vm.capture.body}})]):_vm._e(),_vm._v(\" \"),(_vm.capture.storyJson)?_c('section',[_vm._m(2),_vm._v(\" \"),_c('p',[_vm._v(_vm._s(_vm.capture.parseDigest))]),_vm._v(\" \"),_c('textarea',{staticClass:\"m-import-manager__console\",attrs:{\"readonly\":\"\"},domProps:{\"value\":_vm.prettyStoryJson}})]):_vm._e(),_vm._v(\" \"),(_vm.capture.contentApiOps)?_c('section',[_c('div',{staticClass:\"m-import-manager__header --split\"},[_c('h2',{attrs:{\"id\":\"content-api-ops\"}},[_vm._v(\"Content API Ops (\"+_vm._s(_vm.contentApiOpsTotal)+\")\")]),_vm._v(\" \"),_c('res-button',{attrs:{\"paddingless\":\"\"},on:{\"click\":function($event){$event.preventDefault();return _vm.processAgain('RESET_DELTA')}}},[_c('res-icon',{attrs:{\"name\":\"x\",\"size\":\"medium\"}}),_vm._v(\" \"),_c('button',[_vm._v(\"Reset delta\")])],1)],1),_vm._v(\" \"),_c('p',[_vm._v(_vm._s(_vm.capture.contentApiOpsDigest))]),_vm._v(\" \"),_c('textarea',{staticClass:\"m-import-manager__console\",attrs:{\"readonly\":\"\"},domProps:{\"value\":_vm.prettyContentApiOps}})]):_vm._e()],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"m-import-manager__header\"},[_c('h2',[_vm._v(\"Error summary\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"m-import-manager__header\"},[_c('h2',{attrs:{\"id\":\"fetch\"}},[_vm._v(\"Fetched body\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"m-import-manager__header\"},[_c('h2',{attrs:{\"id\":\"parse\"}},[_vm._v(\"Parsed story\")])])}]\nexport { render, staticRenderFns }","<template>\n  <tr>\n    <td>\n      <res-icon v-if=\"isSitemap\" size=\"small\" name=\"tab\" class=\"m-r-1\"/>\n      <svg\n        v-if=\"isProject && !model.active\"\n        class=\"m-r-5\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n        xmlns:xlink=\"http://www.w3.org/1999/xlink\"\n        viewBox=\"0 0 401.998 401.998\"\n        width=\"1em\"\n        height=\"1em\"\n      >\n        <path d=\"M357.45,190.721c-5.331-5.33-11.8-7.993-19.417-7.993h-9.131v-54.821c0-35.022-12.559-65.093-37.685-90.218 C266.093,12.563,236.025,0,200.998,0c-35.026,0-65.1,12.563-90.222,37.688C85.65,62.814,73.091,92.884,73.091,127.907v54.821 h-9.135c-7.611,0-14.084,2.663-19.414,7.993c-5.33,5.326-7.994,11.799-7.994,19.417V374.59c0,7.611,2.665,14.086,7.994,19.417 c5.33,5.325,11.803,7.991,19.414,7.991H338.04c7.617,0,14.085-2.663,19.417-7.991c5.325-5.331,7.994-11.806,7.994-19.417V210.135 C365.455,202.523,362.782,196.051,357.45,190.721z M274.087,182.728H127.909v-54.821c0-20.175,7.139-37.402,21.414-51.675 c14.277-14.275,31.501-21.411,51.678-21.411c20.179,0,37.399,7.135,51.677,21.411c14.271,14.272,21.409,31.5,21.409,51.675V182.728 z\"/>\n      </svg>\n      <router-link :to=\"routerLink\">{{ model.name }}</router-link>\n    </td>\n    <td>\n      <abbr v-if=\"isSitemap && model.hasRunningCrawler\" title=\"RUNNING\">\n        <res-icon name=\"loading\" size=\"medium\"/>\n      </abbr>\n      <abbr v-else-if=\"isSitemap\" title=\"INACTIVE\">\n        <res-icon name=\"minus-circle\" size=\"medium\"/>\n      </abbr>\n    </td>\n    <td>{{ aggregate('activeDocumentsCount') }}</td>\n    <td>{{ aggregate('importedDocumentsCount') }}</td>\n    <td>{{ aggregate('failedDocumentsCount') }}</td>\n    <td>{{ aggregate('newDocumentsCount') }}</td>\n    <td class=\"--split\">\n      {{ aggregate('archivedDocumentsCount') }}\n      <res-button v-if=\"isSitemap\" :disabled=\"recounting\" paddingless @click.prevent=\"recount(model.id)\">\n        <res-icon name=\"refresh\" size=\"medium\" /><button />\n      </res-button>\n    </td>\n  </tr>\n</template>\n\n<script>\nimport { formatNumber } from '../../lib/formatting';\n\nexport default {\n  props: {\n    model: { type: Object, required: true }\n  },\n  data() {\n    return {\n      recounting: false\n    };\n  },\n  computed: {\n    isProject() {\n      return this.model._type === 'project';\n    },\n    isSitemap() {\n      return this.model._type === 'sitemap';\n    },\n    childSitemaps() {\n      return this.isProject ? this.$store.getters.sitemapModelsList.filter(sitemap => sitemap.projectId === this.model.id) : [];\n    },\n    routerLink() {\n      return {\n        name: this.model._type,\n        params: { id: this.model.id },\n        query: { community_id: this.$store.state.currentCommunity.id }\n      };\n    }\n  },\n  methods: {\n    aggregate(field) {\n      if (!this.isProject) return formatNumber(this.model[field]);\n\n      return formatNumber(this.childSitemaps.reduce((memo, sitemap) => {\n        if (memo === null || sitemap[field] === null) return null;\n        return memo += sitemap[field];\n      }, 0));\n    },\n    recount(sitemapId) {\n      this.recounting = true;\n      this.$store.dispatch('recountSitemap', { id: sitemapId, deep: true })\n        .then(() => this.recounting = false)\n        .catch(() => this.recounting = false);\n    }\n  }\n};\n</script>\n","<template>\n  <main>\n    <section>\n      <div class=\"m-import-manager__header --split\">\n        <h1>Parser: {{ parser.name || formatDateTime(parser.createdAt) }}</h1>\n        <span v-if=\"isRevision\">\n          Revision of <router-link :to=\"routeTo('parser', revisioner.id)\">{{ revisioner.name }}</router-link>\n        </span>\n        <res-split-button v-else :disabled=\"!isChanged\">\n          <ul>\n            <li active=\"#\"><a href=\"#\" @click.prevent=\"saveParser('SAVE')\">Save</a></li>\n            <li><a href=\"#\" @click.prevent=\"saveParser('SAVE_COPY')\">Save with history</a></li>\n          </ul>\n        </res-split-button>\n      </div>\n\n      <fieldset v-show=\"!isRevision\">\n        <res-input>\n          <label>Name</label>\n          <input v-model=\"mutable.name\" type=\"text\" placeholder=\"Name\" />\n        </res-input>\n      </fieldset>\n      <fieldset>\n        <res-input>\n          <label>Parser JSON</label>\n          <textarea v-model=\"mutable.parserJson\" :readonly=\"isRevision\" style=\"height:70vh;font-family:'Consolas',monospace;\" />\n        </res-input>\n      </fieldset>\n\n      <dl v-if=\"isRevision\" class=\"m-import-manager__defs\">\n        <dt>Capture type</dt>\n        <dd>{{ parser.captureType }}</dd>\n        <dt>Group taxonomy type</dt>\n        <dd>{{ parser.groupTaxonomyType || 'none' }}</dd>\n      </dl>\n      <template v-else>\n        <res-button paddingless class=\"m-b-1 m-t-1\" @click.prevent=\"advanced = !advanced\">\n          <button>Advanced</button> <res-icon :name=\"advanced ? 'minus' : 'add'\" size=\"large\" />\n        </res-button>\n        <div v-if=\"advanced\" class=\"m-import-manager__fieldset\">\n          <div class=\"m-import-manager__fieldset__input\">\n            <res-select>\n              <label>Capture type</label>\n              <select v-model=\"mutable.captureType\">\n                <option v-for=\"type in parser.captureTypes\" :key=\"type\" :value=\"type\">{{ type }}</option>\n              </select>\n            </res-select>\n          </div>\n          <div class=\"m-import-manager__fieldset__input m-l-1\">\n            <res-select>\n              <label>Group taxonomy type</label>\n              <select v-model=\"mutable.groupTaxonomyType\">\n                <option value=\"\">None</option>\n                <option v-for=\"type in parser.groupTaxonomyTypes\" :key=\"type\" :value=\"type\">{{ type }}</option>\n              </select>\n            </res-select>\n          </div>\n        </div>\n      </template>\n    </section>\n\n    <section v-if=\"!isRevision && revisions.length\" class=\"m-import-manager__table\">\n      <div class=\"m-import-manager__header\">\n        <h2>History</h2>\n      </div>\n      <res-table class=\"m-dashboard__table\">\n        <table>\n          <thead>\n            <tr>\n              <th>Time</th>\n              <th>Note</th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr v-for=\"rev in revisions\" :key=\"rev.id\">\n              <td><router-link :to=\"routeTo('parser', rev.id)\">{{ formatDateTime(rev.createdAt) }}</router-link></td>\n              <td>{{ rev.revisionNote }}</td>\n            </tr>\n          </tbody>\n        </table>\n      </res-table>\n    </section>\n  </main>\n</template>\n\n<script>\nimport { mapActions } from 'vuex';\nimport { formatDateTime } from '../lib/formatting';\nimport { formatMutable, mutableHasChanged } from '../lib/utils';\nimport { parserDefault } from '../store/models/defaults';\nimport Routing from '../components/mixins/routing';\n\nconst mutableSchema = {\n  captureType: '',\n  groupTaxonomyType: '',\n  name: '',\n  parserJson: '',\n};\n\nexport default {\n  mixins: [Routing],\n  props: {\n    id: { type: Number, required: true },\n  },\n  data() {\n    return {\n      advanced: false,\n      saving: false,\n      mutable: formatMutable(mutableSchema),\n    };\n  },\n  computed: {\n    parser() {\n      return this.$store.state.parserModels[this.id] || parserDefault;\n    },\n    revisioner() {\n      return this.$store.state.parserModels[this.parser.revisionerId] || parserDefault;\n    },\n    revisions() {\n      return this.$store.getters.parserModelsList\n        .filter(p => p.revisionerId === this.id)\n        .sort((a, b) => b.createdAt.localeCompare(a.createdAt));\n    },\n    isLoaded() {\n      return !!this.parser.id;\n    },\n    isChanged() {\n      return this.isLoaded && mutableHasChanged(this.mutable, this.parser);\n    },\n    isRevision() {\n      return !!this.revisioner.id;\n    }\n  },\n  mounted() {\n    this.fetchParser({ id: this.id })\n      .then(parser => this.mutable = formatMutable(mutableSchema, parser));\n  },\n  methods: {\n    ...mapActions([\n      'fetchParser',\n      'setDialog',\n      'updateParser',\n    ]),\n    formatDateTime,\n    saveParser(action) {\n      if (!this.isChanged || this.saving) return;\n      const noteInput = (action !== 'SAVE') ?\n        this.setDialog({ tag: 'parser-revision', action }) :\n        Promise.resolve(undefined);\n\n      noteInput.then(note => {\n        const input = Object.assign({}, this.mutable, { revisionNote: note, saveAction: action });\n\n        // transform empty selection string from form input\n        // into a null value for the graphql input...\n        // @wishlist: devise a more framework-y way of doing this.\n        input.groupTaxonomyType = input.groupTaxonomyType || null;\n\n        this.saving = true;\n        this.updateParser({ id: this.id, input })\n          .then(parser => {\n            this.mutable = formatMutable(mutableSchema, parser);\n            this.saving = false;\n          })\n          .catch(() => this.saving = false);\n      });\n    }\n  }\n};\n</script>\n","export default {\n  namespaced: true,\n  state: {\n    loading: false\n  },\n  mutations: {\n    SET_LOADING(state, payload) {\n      state.loading = Boolean(payload);\n    }\n  }\n};\n","/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./sitemaps-table.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./sitemaps-table.vue\"\n/* template */\nimport {render as __vue_render__, staticRenderFns as __vue_static_render_fns__} from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-02983acc\\\",\\\"hasScoped\\\":false,\\\"optionsId\\\":\\\"0\\\",\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./sitemaps-table.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nimport normalizeComponent from \"!../../node_modules/vue-loader/lib/runtime/component-normalizer\"\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_render__,\n  __vue_static_render_fns__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n","/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./create-project.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./create-project.vue\"\n/* template */\nimport {render as __vue_render__, staticRenderFns as __vue_static_render_fns__} from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-111c9e47\\\",\\\"hasScoped\\\":false,\\\"optionsId\\\":\\\"0\\\",\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./create-project.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nimport normalizeComponent from \"!../../../node_modules/vue-loader/lib/runtime/component-normalizer\"\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_render__,\n  __vue_static_render_fns__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n","/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./project.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./project.vue\"\n/* template */\nimport {render as __vue_render__, staticRenderFns as __vue_static_render_fns__} from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-77498f5a\\\",\\\"hasScoped\\\":false,\\\"optionsId\\\":\\\"0\\\",\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./project.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nimport normalizeComponent from \"!../../node_modules/vue-loader/lib/runtime/component-normalizer\"\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_render__,\n  __vue_static_render_fns__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n","<template>\n  <tr>\n    <td style=\"width:25%;\">\n      <span v-if=\"!editing\">{{ mutable.name }}</span>\n      <res-input v-else>\n        <input v-model.lazy=\"mutable.name\" type=\"text\" />\n      </res-input>\n    </td>\n    <td style=\"width:20%;\">\n      <span v-if=\"!editing\">{{ mutable.constituentCommunityId }}</span>\n      <res-input v-else>\n        <input v-model.lazy.number=\"mutable.constituentCommunityId\" type=\"text\" />\n      </res-input>\n    </td>\n    <td style=\"width:40%;\">\n      <span v-if=\"!editing\">{{ mutable.urlMatcher }}</span>\n      <res-input v-else>\n        <input v-model.lazy.number=\"mutable.urlMatcher\" type=\"text\" />\n      </res-input>\n    </td>\n    <td style=\"width:5%;\">\n      <res-button :style=\"editStyle\" paddingless @click.prevent=\"toggle\">\n        <res-icon name=\"edit\" size=\"medium\" /><button />\n      </res-button>\n    </td>\n  </tr>\n</template>\n\n<script>\nimport { formatMutable, mutableHasChanged } from '../../lib/utils';\n\nconst mutableSchema = {\n  constituentCommunityId: '',\n  name: '',\n  urlMatcher: '',\n};\n\nexport default {\n  props: {\n    model: { type: Object, required: true },\n  },\n  data() {\n    return {\n      editing: false,\n      mutable: formatMutable(mutableSchema, this.model),\n    };\n  },\n  computed: {\n    isChanged() {\n      return mutableHasChanged(this.mutable, this.model);\n    },\n    editStyle() {\n      return this.editing ? 'transform:rotate(45deg)' : null;\n    }\n  },\n  methods: {\n    save() {\n      if (!this.isChanged) return;\n      this.$store.dispatch('updateCommunityDelegation', { id: this.model.id, input: this.mutable })\n        .then(result => {\n          this.mutable = formatMutable(mutableSchema, result);\n        });\n    },\n    toggle() {\n      if (this.editing) this.save();\n      this.editing = !this.editing;\n    }\n  }\n};\n</script>\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('tr',[_c('td',[(_vm.isSitemap)?_c('res-icon',{staticClass:\"m-r-1\",attrs:{\"size\":\"small\",\"name\":\"tab\"}}):_vm._e(),_vm._v(\" \"),(_vm.isProject && !_vm.model.active)?_c('svg',{staticClass:\"m-r-5\",attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"xmlns:xlink\":\"http://www.w3.org/1999/xlink\",\"viewBox\":\"0 0 401.998 401.998\",\"width\":\"1em\",\"height\":\"1em\"}},[_c('path',{attrs:{\"d\":\"M357.45,190.721c-5.331-5.33-11.8-7.993-19.417-7.993h-9.131v-54.821c0-35.022-12.559-65.093-37.685-90.218 C266.093,12.563,236.025,0,200.998,0c-35.026,0-65.1,12.563-90.222,37.688C85.65,62.814,73.091,92.884,73.091,127.907v54.821 h-9.135c-7.611,0-14.084,2.663-19.414,7.993c-5.33,5.326-7.994,11.799-7.994,19.417V374.59c0,7.611,2.665,14.086,7.994,19.417 c5.33,5.325,11.803,7.991,19.414,7.991H338.04c7.617,0,14.085-2.663,19.417-7.991c5.325-5.331,7.994-11.806,7.994-19.417V210.135 C365.455,202.523,362.782,196.051,357.45,190.721z M274.087,182.728H127.909v-54.821c0-20.175,7.139-37.402,21.414-51.675 c14.277-14.275,31.501-21.411,51.678-21.411c20.179,0,37.399,7.135,51.677,21.411c14.271,14.272,21.409,31.5,21.409,51.675V182.728 z\"}})]):_vm._e(),_vm._v(\" \"),_c('router-link',{attrs:{\"to\":_vm.routerLink}},[_vm._v(_vm._s(_vm.model.name))])],1),_vm._v(\" \"),_c('td',[(_vm.isSitemap && _vm.model.hasRunningCrawler)?_c('abbr',{attrs:{\"title\":\"RUNNING\"}},[_c('res-icon',{attrs:{\"name\":\"loading\",\"size\":\"medium\"}})],1):(_vm.isSitemap)?_c('abbr',{attrs:{\"title\":\"INACTIVE\"}},[_c('res-icon',{attrs:{\"name\":\"minus-circle\",\"size\":\"medium\"}})],1):_vm._e()]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(_vm.aggregate('activeDocumentsCount')))]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(_vm.aggregate('importedDocumentsCount')))]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(_vm.aggregate('failedDocumentsCount')))]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(_vm.aggregate('newDocumentsCount')))]),_vm._v(\" \"),_c('td',{staticClass:\"--split\"},[_vm._v(\"\\n    \"+_vm._s(_vm.aggregate('archivedDocumentsCount'))+\"\\n    \"),(_vm.isSitemap)?_c('res-button',{attrs:{\"disabled\":_vm.recounting,\"paddingless\":\"\"},on:{\"click\":function($event){$event.preventDefault();return _vm.recount(_vm.model.id)}}},[_c('res-icon',{attrs:{\"name\":\"refresh\",\"size\":\"medium\"}}),_c('button')],1):_vm._e()],1)])}\nvar staticRenderFns = []\nexport { render, staticRenderFns }","<template>\n  <div v-if=\"crawlable || hasRunningCrawler\" :class=\"{ '--running': hasRunningCrawler }\" class=\"m-import-manager__crawler\">\n    <header>\n      <template v-if=\"hasRunningCrawler\">\n        <strong>\n          Crawler running in <router-link :to=\"routeTo('sitemap', crawlerSitemap.id)\">{{ crawlerSitemap.name }}</router-link>...\n          {{ crawler.percentComplete }}% complete\n        </strong>\n        <div>\n          <res-checkbox v-if=\"crawlerSitemap.parentId\">\n            <input v-model=\"autoAdvance\" type=\"checkbox\" /> <label>auto-advance</label>\n          </res-checkbox>\n          <res-button key=\"stop-crawling\" class=\"m-l-5\" paddingless @click.prevent=\"cancelCrawler()\">\n            <res-icon name=\"none\" size=\"medium\" /> <button>Stop crawling</button>\n          </res-button>\n        </div>\n      </template>\n\n      <template v-else-if=\"crawlable && hasCrawlerLock\">\n        <strong>Crawling is disabled for this project</strong>\n      </template>\n\n      <template v-else-if=\"crawlable && hasIdleCrawler\">\n        <strong>Last crawl of {{ sitemap.name }} {{ String(crawler.status).toLowerCase() }}</strong>\n        <button type=\"button\" title=\"Start new crawler\" paddingless @click.prevent=\"startCrawler()\">\n          <res-icon name=\"amp\" size=\"medium\"/> <span>Start new crawler</span>\n        </button>\n      </template>\n\n      <template v-else-if=\"crawlable && !hasCrawler\">\n        <strong>No crawler history</strong>\n        <res-button key=\"start-crawling\" paddingless @click.prevent=\"startCrawler()\">\n          <res-icon name=\"amp\" size=\"medium\" /> <button>Start crawling</button>\n        </res-button>\n      </template>\n    </header>\n\n    <div v-show=\"crawlable && hasCrawler && !hasCrawlerLock\" class=\"m-import-manager__crawler__stats\">\n      <p v-if=\"hasRunningCrawler\">Running for {{ formatHMS(crawler.duration) }}, now at ~{{ Math.round(crawler.recordsPerSecond * 100) / 100 }} documents per second</p>\n      <p v-else>Finished {{ formatDateTime(crawler.finishedAt) }}, took {{ formatHMS(crawler.duration) }}</p>\n      <p>\n        <res-icon :name=\"statusIcon(crawler.sitemapsTotal, crawler.sitemapsComplete)\" size=\"small\"/>\n        found {{ crawler.sitemapsTotal }} sitemaps, fetched {{ crawler.sitemapsComplete }} <span v-show=\"crawler.sitemapsLimit\">(limit {{ crawler.sitemapsLimit+1 }})</span>\n      </p>\n      <p>\n        <res-icon :name=\"statusIcon(crawler.documentsTotal, crawler.documentsComplete)\" size=\"small\"/>\n        found {{ crawler.documentsTotal }} documents, fetched {{ crawler.documentsComplete }} <span v-show=\"crawler.documentsLimit\">(limit {{ crawler.documentsLimit }})</span>\n      </p>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapActions } from 'vuex';\nimport { formatDateTime, formatHMS } from '../lib/formatting';\nimport { crawlerDefault, sitemapDefault } from '../store/models/defaults';\nimport Routing from './mixins/routing';\n\nconst createCrawlerForm = {\n  prompt: 'Are you sure you want to start crawling this sitemap? This may take a while.',\n  fields: {\n    sitemapsLimit: {\n      label: 'Sitemaps limit',\n      placeholder: 'all',\n      type: 'number'\n    },\n    documentsLimit: {\n      label: 'Documents per sitemap',\n      placeholder: 'all',\n      type: 'number'\n    },\n    captureMode: {\n      label: 'Capture mode',\n      options: {\n        DEFAULT: 'Capture missing/failed (default)',\n        FORCE_RECAPTURE: 'Capture all (force recapture)',\n        TAXONOMY_ONLY: 'Capture none (taxonomy only)',\n      }\n    }\n  },\n  submit: 'Start Crawler'\n};\n\nexport default {\n  mixins: [Routing],\n  props: {\n    id: {\n      type: Number,\n      default: null\n    },\n    sitemapId: {\n      type: Number,\n      default: null\n    },\n    crawlable: { type: Boolean, default: false },\n  },\n  data() {\n    const crawler = this.$store.state.crawlerModels[this.id] || crawlerDefault;\n    return { autoAdvance: crawler.autoAdvance };\n  },\n  computed: {\n    crawler() {\n      return this.$store.state.crawlerModels[this.id] || crawlerDefault;\n    },\n    crawlerSitemap() {\n      return this.$store.state.sitemapModels[this.crawler.sitemapEntryId] || sitemapDefault;\n    },\n    sitemap() {\n      return this.$store.state.sitemapModels[this.sitemapId] || sitemapDefault;\n    },\n    hasCrawler() {\n      return !!this.crawler.id;\n    },\n    hasCrawlerLock() {\n      return !this.sitemap.allowsCrawling;\n    },\n    hasIdleCrawler() {\n      return this.hasCrawler && this.crawler.status !== 'RUNNING';\n    },\n    hasRunningCrawler() {\n      return this.hasCrawler && this.crawler.status === 'RUNNING';\n    },\n    mayCrawl() {\n      return !this.hasCrawler || !this.hasRunningCrawler;\n    }\n  },\n  watch: {\n    autoAdvance() {\n      this.updateCrawler({ id: this.id, input: { autoAdvance: this.autoAdvance } })\n        .then(crawler => this.autoAdvance = crawler.autoAdvance);\n    }\n  },\n  methods: {\n    ...mapActions([\n      'createCrawler',\n      'updateCrawler',\n      'setDialog',\n      'stopCrawler',\n    ]),\n    formatHMS,\n    formatDateTime,\n    statusIcon(total, complete) {\n      if (total > 0 && total === complete) return 'check-circle';\n      if (this.hasRunningCrawler) return 'loading';\n      return 'minus-circle';\n    },\n    startCrawler() {\n      this.setDialog({ tag: 'input-form', form: createCrawlerForm })\n        .then(data => {\n          this.createCrawler({\n            captureMode: data.captureMode,\n            documentsLimit: data.documentsLimit,\n            sitemapsLimit: data.sitemapsLimit,\n            sitemapEntryId: this.sitemapId,\n          });\n        });\n    },\n    cancelCrawler() {\n      if (!this.hasRunningCrawler) return;\n      if (confirm('Stop crawling?')) {\n        this.stopCrawler({ id: this.id });\n      }\n    }\n  }\n};\n</script>\n","<template>\n  <main>\n    <div class=\"m-import-manager__header\">\n      <h1>Placeholders</h1>\n    </div>\n\n    <form class=\"m-import-manager__fieldset\" @submit.prevent>\n      <res-input>\n        <label>Lookup</label>\n        <input v-model.lazy.trim=\"lookupInput\" type=\"text\" placeholder=\"document ID or content type\" />\n        <res-icon slot=\"inner-right\" name=\"search\" />\n      </res-input>\n      <res-select class=\"m-l-1\">\n        <label>Filter</label>\n        <select v-model=\"filterInput\">\n          <option v-for=\"(value, label) in filterOptions\" :key=\"label\" :value=\"label\">{{ label }}</option>\n        </select>\n      </res-select>\n    </form>\n\n    <div class=\"m-import-manager__table\">\n      <res-table zebra=\"true\" class=\"m-dashboard__table\">\n        <table>\n          <thead>\n            <tr>\n              <th>ID</th>\n              <th>Document</th>\n              <th>Type</th>\n              <th>Data</th>\n              <th>Fulfilled</th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr v-for=\"result in results\" :key=\"result.id\">\n              <td>{{ result.id }}</td>\n              <td>\n                <router-link :to=\"routeTo('document', result.documentEntryId)\">\n                  <res-icon name=\"versions\" size=\"medium\" class=\"m-r-5\" />\n                </router-link>\n              </td>\n              <td>{{ result.contentType }}</td>\n              <td>{{ result.data }}</td>\n              <td style=\"min-width:125px;\">\n                <abbr :title=\"result.fulfilled ? 'FULFILLED' : 'UNFULFILLED'\">\n                  <res-icon :name=\"result.fulfilled ? 'check-circle' : 'minus-circle'\" size=\"medium\" />\n                </abbr>\n                <span v-if=\"result.fulfilled\" class=\"m-l-5\">{{ result.fulfilledType }}</span>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n      </res-table>\n      <footer>\n        <span v-if=\"loaded\">\n          Found {{ formatNumber(totalCount) }} results\n          <span v-show=\"totalCount > 0\">\n            [<a :href=\"downloadUrl\">download</a> / <a :href=\"downloadUrl\" @click.prevent=\"runJob\">job</a>]\n          </span>\n        </span>\n        <res-pagination\n          :page=\"page\"\n          :count=\"totalCount\"\n          :display=\"perPage\"\n          indicator=\"page\"\n          pagination=\"text-only\"\n          navigation=\"text\"\n          @change=\"page=$event.target.page\"\n        />\n      </footer>\n    </div>\n  </main>\n</template>\n\n<script>\nimport gql from 'graphql-tag';\nimport { mapState, mapActions } from 'vuex';\nimport { formatNumber, importManagerUrl } from '../lib/formatting';\nimport Routing from '../components/mixins/routing';\n\nconst filterOptions = {\n  'All': {},\n  'Unfulfilled': { fulfilled: false },\n  'Fulfilled - all': { fulfilled: true },\n  'Fulfilled - blank': { fulfilledType: 'blank' },\n  'Fulfilled - video': { fulfilledType: 'video' },\n  'Fulfilled - embed': { fulfilledType: 'embed' },\n  'Fulfilled - text': { fulfilledType: 'text' },\n};\n\nconst filterDefault = Object.keys(filterOptions)[0];\n\nconst createJobForm = {\n  prompt: 'Run a processing job on documents of the current placeholder search:',\n  params: null,\n  fields: {\n    task: {\n      label: 'Task',\n      info: 'https://github.com/voxmedia/chorus-import-manager/wiki/Document-Jobs#built-in-jobs',\n      options: {}\n    }\n  },\n  submit: 'Start Job'\n};\n\nexport default {\n  mixins: [Routing],\n  data() {\n    return {\n      filterOptions,\n      loaded: false,\n      lookup: '',\n      filter: filterDefault,\n      page: Number(this.$route.query.page) || 1,\n      perPage: 25,\n      results: [],\n      totalCount: 0,\n    };\n  },\n  computed: {\n    ...mapState([\n      'currentCommunity'\n    ]),\n    lookupInput: {\n      get() {\n        return this.lookup || '';\n      },\n      set(val) {\n        val = val || null;\n        if (this.lookup === val) return;\n        this.lookup = val;\n        this.page = 1;\n      }\n    },\n    filterInput: {\n      get() {\n        return this.filter;\n      },\n      set(val) {\n        if (this.filter === val) return;\n        this.filter = filterOptions.hasOwnProperty(val) ? val : filterDefault;\n        this.page = 1;\n      }\n    },\n    searchParams() {\n      let params = {\n        communityId: this.currentCommunity.id,\n        pageNumber: this.page,\n        perPage: this.perPage,\n      };\n\n      if (/^p\\s*\\d+$/.test(this.lookup)) {\n        params.id = [Number(this.lookup.replace(/[^\\d]*(\\d+)/, '$1'))];\n      } else if (/^\\d+$/.test(this.lookup)) {\n        params.documentEntryId = Number(this.lookup);\n        params.order = 'DOCUMENT_ENTRY';\n      } else if (this.lookup) {\n        params.contentType = this.lookup;\n        params.order = 'CONTENT_TYPE';\n      }\n\n      return Object.assign(params, filterOptions[this.filter]);\n    },\n    downloadUrl() {\n      const params = this.searchParams;\n      const url = [importManagerUrl(), `/reports/placeholders?community_id=${ params.communityId }`];\n      if (params.id) url.push(`&id=${ params.id }`);\n      if (params.documentEntryId) url.push(`&document_entry_id=${ params.documentEntryId }`);\n      if (params.contentType) url.push(`&content_type=${ params.contentType }`);\n      if (params.order) url.push(`&order=${ params.order }`);\n      url.push('&columns=id,community_id,document_entry_id,content_type,data');\n      return url.join('');\n    }\n  },\n  watch: {\n    page() {\n      this.$router.replace({\n        query: {\n          community_id: this.currentCommunity.id,\n          page: this.page,\n        }\n      });\n    }\n  },\n  methods: {\n    ...mapActions([\n      'createJob',\n      'fetchJobTasks',\n      'setDialog',\n    ]),\n    formatNumber,\n    jobParams() {\n      const search = Object.assign({}, this.searchParams);\n      delete search.pageNumber;\n      delete search.perPage;\n      delete search.order;\n      return search;\n    },\n    async runJob() {\n      createJobForm.params = JSON.stringify(this.jobParams());\n      createJobForm.fields.task.options = await this.fetchJobTasks();\n\n      this.setDialog({ tag: 'input-form', form: createJobForm })\n        .then(async (form) => {\n          const jobId = await this.createJob({\n            search: {\n              communityId: this.currentCommunity.id,\n              placeholders: this.jobParams()\n            },\n            task: form.task,\n          });\n\n          this.$router.replace({\n            name: 'jobs',\n            query: { community_id: this.currentCommunity.id, job: jobId }\n          });\n        });\n    }\n  },\n  apollo: {\n    results: {\n      client: 'importer',\n      query: gql`\n        query SearchPlaceholders($input: SearchImporterStoryPlaceholdersInput!) {\n          search: searchImporterStoryPlaceholders(input: $input) {\n            pageNumber\n            results {\n              id\n              contentType\n              data\n              documentEntryId\n              fulfilled\n              fulfilledType\n            }\n            totalCount\n          }\n        }\n      `,\n      variables() {\n        return {\n          input: this.searchParams\n        };\n      },\n      update(data) {\n        this.loaded = true;\n        this.page = data.search.pageNumber;\n        this.totalCount = data.search.totalCount;\n        return data.search.results;\n      }\n    }\n  }\n};\n</script>\n","<template>\n  <div>\n    <textarea :value=\"currentDialog.value\" class=\"m-import-manager__console\" readonly />\n    <footer>\n      <res-button design=\"secondary\" @click.prevent=\"close()\">\n        <button type=\"button\">Okay</button>\n      </res-button>\n    </footer>\n  </div>\n</template>\n\n<script>\nimport { mapState, mapActions } from 'vuex';\n\nexport default {\n  computed: {\n    ...mapState([\n      'currentDialog',\n    ])\n  },\n  methods: {\n    ...mapActions([\n      'setDialog',\n    ]),\n    close() {\n      this.setDialog(null);\n    }\n  }\n};\n</script>\n","<template>\n  <main>\n    <section>\n      <div class=\"m-import-manager__header --split\">\n        <h1>Projects</h1>\n        <res-button paddingless @click.prevent=\"newProject()\">\n          <res-icon name=\"add\" size=\"medium\" /> <button>New Project</button>\n        </res-button>\n      </div>\n      <res-table zebra=\"true\" class=\"m-dashboard__table\">\n        <table>\n          <thead>\n            <tr>\n              <th>Title</th>\n              <th>Crawler</th>\n              <th>Documents</th>\n              <th>Imported</th>\n              <th>Failed</th>\n              <th>New</th>\n              <th>Archived</th>\n            </tr>\n          </thead>\n          <tbody>\n            <projects-row v-for=\"item in projectsTableItems\" :key=\"[item._type, item.id].join(':')\" :model=\"item\"/>\n          </tbody>\n        </table>\n      </res-table>\n    </section>\n\n    <documents-search :projects=\"projectSearchOptions\">\n      <h1>Document Search</h1>\n    </documents-search>\n  </main>\n</template>\n\n<script>\nimport { mapState, mapGetters, mapActions } from 'vuex';\nimport DocumentsSearch from '../components/documents-search.vue';\nimport ProjectsRow from '../components/tables/projects-row.vue';\n\nexport default {\n  components: {\n    DocumentsSearch,\n    ProjectsRow,\n  },\n  data() {\n    return {};\n  },\n  computed: {\n    ...mapState([\n      'currentCommunity'\n    ]),\n    ...mapGetters([\n      'projectModelsList',\n      'sitemapModelsList',\n    ]),\n    projectsTableItems() {\n      return this.projectModelsList.reduce((memo, project) => {\n        memo.push(project);\n        memo = memo.concat(this.sitemapsForProject(project));\n        return memo;\n      }, []);\n    },\n    projectSearchOptions() {\n      return this.projectModelsList.reduce((memo, project) => {\n        memo[project.id] = {\n          id: project.id,\n          name: project.name,\n          sitemaps: this.sitemapsForProject(project),\n        };\n        return memo;\n      }, {});\n    },\n  },\n  mounted() {\n    this.fetchProjects();\n  },\n  methods: {\n    ...mapActions([\n      'fetchProjects',\n      'setDialog',\n    ]),\n    sitemapsForProject(project) {\n      return this.sitemapModelsList.filter(sitemap => sitemap.projectId === project.id);\n    },\n    newProject() {\n      this.setDialog({ tag: 'create-project' });\n    }\n  }\n};\n</script>\n","/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport {render as __vue_render__, staticRenderFns as __vue_static_render_fns__} from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-ab5a74e2\\\",\\\"hasScoped\\\":false,\\\"optionsId\\\":\\\"0\\\",\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nimport normalizeComponent from \"!../../../node_modules/vue-loader/lib/runtime/component-normalizer\"\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_render__,\n  __vue_static_render_fns__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n","/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./communities.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./communities.vue\"\n/* template */\nimport {render as __vue_render__, staticRenderFns as __vue_static_render_fns__} from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-fb21e3b6\\\",\\\"hasScoped\\\":false,\\\"optionsId\\\":\\\"0\\\",\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./communities.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nimport normalizeComponent from \"!../../node_modules/vue-loader/lib/runtime/component-normalizer\"\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_render__,\n  __vue_static_render_fns__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n","var stringify = require('json-stable-stringify');\nvar md5 = require('js-md5');\n\nmodule.exports = function(contents) {\n  return md5(stringify(contents));\n};\n","/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./projects-row.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./projects-row.vue\"\n/* template */\nimport {render as __vue_render__, staticRenderFns as __vue_static_render_fns__} from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-65a2b251\\\",\\\"hasScoped\\\":false,\\\"optionsId\\\":\\\"0\\\",\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./projects-row.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nimport normalizeComponent from \"!../../../node_modules/vue-loader/lib/runtime/component-normalizer\"\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_render__,\n  __vue_static_render_fns__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n","import Vue from 'vue';\nimport Vuex from 'vuex';\nimport VueRouter from 'vue-router';\nimport VueApollo from 'vue-apollo';\nimport App from './app.vue';\nimport store from './store';\nimport router from './router';\nimport { towerClient, importerClient } from '../shared/vue/lib/apollo_client';\n\nconst configEl = document.querySelector('script[type=\"config\"]');\nconst config = JSON.parse(configEl.textContent);\n\nVue.use(Vuex);\nVue.use(VueApollo);\nVue.use(VueRouter);\n\nconst apolloProvider = new VueApollo({\n  defaultClient: towerClient,\n  clients: {\n    importer: importerClient,\n    tower: towerClient,\n  }\n});\n\nnew Vue({\n  router,\n  apolloProvider,\n  store: store(config),\n  el: '#app',\n  ignoredElements: res.manifest.tags.all, // eslint-disable-line no-undef\n  data: () => { return { config }; }, // << kludge for community menu.\n  render: h => h(App),\n});\n","import * as cmd from './commands';\n\nexport default {\n  [cmd.SET_CONTEXT](state, { community, user, entitlements }) {\n    // currentCommunity\n    if (community && community.id && community.network) {\n      state.currentCommunity = community;\n\n      // store network at the same level as currentCommunity to\n      // avoid deeply nested data in global state\n      if (Object.keys(community.network).length) {\n        state.network = community.network;\n      }\n    }\n\n    // currentUser\n    if (user) {\n      state.currentUser = user;\n    }\n\n    // entitlements\n    if (entitlements !== undefined) {\n      state.entitlements = entitlements;\n    }\n  }\n};\n","import Vuex from 'vuex';\nimport captureActions from './actions/captures';\nimport communityActions from './actions/communities';\nimport crawlerActions from './actions/crawlers';\nimport documentActions from './actions/documents';\nimport generalActions from './actions/general';\nimport identityActions from './actions/identities';\nimport jobActions from './actions/jobs';\nimport parserActions from './actions/parsers';\nimport projectActions from './actions/projects';\nimport searchActions from './actions/search';\nimport sitemapActions from './actions/sitemaps';\nimport getters from './getters';\nimport mutations from './mutations';\n\nexport default (seed={}) => {\n  return new Vuex.Store({\n    actions: {\n      ...captureActions,\n      ...communityActions,\n      ...crawlerActions,\n      ...documentActions,\n      ...generalActions,\n      ...identityActions,\n      ...jobActions,\n      ...parserActions,\n      ...projectActions,\n      ...searchActions,\n      ...sitemapActions,\n    },\n    getters,\n    mutations,\n    state: Object.assign({\n      // model sets\n      captureModels: {},\n      communityModels: {},\n      crawlerModels: {},\n      documentModels: {},\n      jobModels: {},\n      parserModels: {},\n      placeholderModels: {},\n      projectModels: {},\n      sitemapModels: {},\n      // application state\n      currentDialog: null,\n      currentCommunity: {\n        id: null,\n        name: null,\n      },\n      currentUser: {\n        id: null,\n        networkRoles: [],\n        memberships: [],\n        roles: [],\n      },\n      documentJobTasks: null,\n      entitlements: null,\n      notifications: [],\n    }, seed),\n  });\n};\n","/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./crawler-status.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./crawler-status.vue\"\n/* template */\nimport {render as __vue_render__, staticRenderFns as __vue_static_render_fns__} from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2e7671d4\\\",\\\"hasScoped\\\":false,\\\"optionsId\\\":\\\"0\\\",\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./crawler-status.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nimport normalizeComponent from \"!../../node_modules/vue-loader/lib/runtime/component-normalizer\"\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_render__,\n  __vue_static_render_fns__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n","/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./app-notifications.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./app-notifications.vue\"\n/* template */\nimport {render as __vue_render__, staticRenderFns as __vue_static_render_fns__} from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-60935526\\\",\\\"hasScoped\\\":false,\\\"optionsId\\\":\\\"0\\\",\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./app-notifications.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nimport normalizeComponent from \"!../../node_modules/vue-loader/lib/runtime/component-normalizer\"\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_render__,\n  __vue_static_render_fns__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n","<template>\n  <main>\n    <app-breadcrumbs :project=\"project\" :sitemap=\"sitemap\" :document=\"document\" :capture=\"capture\"/>\n    <section>\n      <div class=\"m-import-manager__header\">\n        <h1>Document Capture: {{ id }}</h1>\n      </div>\n      <dl v-if=\"isLoaded\" class=\"m-import-manager__defs\">\n        <dt>Created</dt>\n        <dd>{{ formatDateTime(capture.createdAt) }}</dd>\n        <dt>Parser</dt>\n        <dd><router-link v-if=\"parser.id\" :to=\"routeTo('parser', parser.id)\">{{ parser.name }}</router-link></dd>\n        <dt>Redirect URL</dt>\n        <dd>\n          <a v-if=\"capture.redirectUrl\" :href=\"capture.redirectUrl\">{{ capture.redirectUrl }}</a>\n          <span v-else>N/A</span>\n        </dd>\n        <dt>Canonical URL</dt>\n        <dd><a :href=\"document.canonicalUrl\">{{ document.canonicalUrl }}</a></dd>\n        <template v-if=\"isCurrentImport\">\n          <dt>Chorus URL</dt>\n          <dd><a :href=\"document.chorusEntryUrl\">{{ document.chorusEntryUrl }}</a></dd>\n          <dt>Content API UUID</dt>\n          <dd>\n            <span v-if=\"document.contentApiUuid\">\n              <a :href=\"`/api/content/docs/${ document.contentApiUuid }`\">{{ document.contentApiUuid }}</a>\n              [<a :href=\"`/compose/${ document.contentApiUuid }`\">editor</a>]\n            </span>\n            <span v-else>N/A</span>\n          </dd>\n        </template>\n        <dt>Fetch</dt>\n        <dd class=\"--split\">\n          <span><res-icon :name=\"processingStatusIcon(capture.fetchStatus)\" size=\"medium\" /> {{ capture.fetchStatus }}, http status: {{ capture.httpStatus }}</span>\n          <res-button v-if=\"document.allowsCapture\" :disabled=\"busy\" paddingless @click.prevent=\"processAgain('FETCH')\">\n            <res-icon name=\"refresh\" size=\"medium\" /> <button>Rerun fetch</button>\n          </res-button>\n        </dd>\n        <dt>Parse</dt>\n        <dd class=\"--split\">\n          <span><res-icon :name=\"processingStatusIcon(capture.parseStatus)\" size=\"medium\" /> {{ capture.parseStatus }}</span>\n          <res-button v-show=\"isFetched\" :disabled=\"busy\" paddingless @click.prevent=\"processAgain('PARSE')\">\n            <res-icon name=\"refresh\" size=\"medium\" /> <button>Rerun parse</button>\n          </res-button>\n        </dd>\n        <dt>Import</dt>\n        <dd class=\"--split\">\n          <span><res-icon :name=\"processingStatusIcon(capture.importStatus)\" size=\"medium\" /> {{ capture.importStatus }}</span>\n          <res-button v-show=\"isParsed\" :disabled=\"busy\" paddingless @click.prevent=\"processAgain('IMPORT')\">\n            <res-icon name=\"refresh\" size=\"medium\" /> <button>Rerun import</button>\n          </res-button>\n        </dd>\n        <dt>Redirects</dt>\n        <dd><res-icon :name=\"processingStatusIcon(capture.redirectsStatus)\" size=\"medium\" /> {{ capture.redirectsStatus }}</dd>\n      </dl>\n    </section>\n\n    <section v-if=\"capture.error\">\n      <div class=\"m-import-manager__header\">\n        <h2>Error summary</h2>\n      </div>\n      <p>{{ capture.errorDigest }}</p>\n      <p>\n        <res-icon name=\"x-circle\" size=\"medium\"/>\n        <strong>{{ capture.error }}:</strong> {{ capture.errorMessage }}\n      </p>\n      <textarea v-if=\"errorTrace\" :value=\"errorTrace\" class=\"m-import-manager__console\" readonly />\n    </section>\n\n    <section v-if=\"capture.body\">\n      <div class=\"m-import-manager__header\">\n        <h2 id=\"fetch\">Fetched body</h2>\n      </div>\n      <p>{{ capture.fetchDigest }}</p>\n      <textarea :value=\"capture.body\" class=\"m-import-manager__console\" readonly />\n    </section>\n\n    <section v-if=\"capture.storyJson\">\n      <div class=\"m-import-manager__header\">\n        <h2 id=\"parse\">Parsed story</h2>\n      </div>\n      <p>{{ capture.parseDigest }}</p>\n      <textarea :value=\"prettyStoryJson\" class=\"m-import-manager__console\" readonly />\n    </section>\n\n    <section v-if=\"capture.contentApiOps\">\n      <div class=\"m-import-manager__header --split\">\n        <h2 id=\"content-api-ops\">Content API Ops ({{ contentApiOpsTotal }})</h2>\n        <res-button paddingless @click.prevent=\"processAgain('RESET_DELTA')\">\n          <res-icon name=\"x\" size=\"medium\" /> <button>Reset delta</button>\n        </res-button>\n      </div>\n      <p>{{ capture.contentApiOpsDigest }}</p>\n      <textarea :value=\"prettyContentApiOps\" class=\"m-import-manager__console\" readonly />\n    </section>\n  </main>\n</template>\n\n<script>\nimport AppBreadcrumbs from '../components/app-breadcrumbs.vue';\nimport Routing from '../components/mixins/routing';\nimport { mapActions } from 'vuex';\nimport { formatDateTime, processingStatusIcons } from '../lib/formatting';\nimport {\n  captureDefault,\n  documentDefault,\n  parserDefault,\n  projectDefault,\n  sitemapDefault\n} from '../store/models/defaults';\n\nexport default {\n  components: {\n    AppBreadcrumbs\n  },\n  mixins: [Routing],\n  props: {\n    id: { type: Number, required: true },\n  },\n  data() {\n    return {\n      busy: false,\n    };\n  },\n  computed: {\n    capture() {\n      return this.$store.state.captureModels[this.id] || captureDefault;\n    },\n    document() {\n      return this.$store.state.documentModels[this.capture.documentEntryId] || documentDefault;\n    },\n    sitemap() {\n      return this.$store.state.sitemapModels[this.document.sitemapEntryId] || sitemapDefault;\n    },\n    project() {\n      return this.$store.state.projectModels[this.document.projectId] || projectDefault;\n    },\n    parser() {\n      return this.$store.state.parserModels[this.project.documentParserId] || parserDefault;\n    },\n    isCurrentImport() {\n      return this.id === this.document.importedDocumentCaptureId;\n    },\n    isLoaded() {\n      return !!this.capture.id;\n    },\n    isFetched() {\n      return this.capture.fetchStatus === 'COMPLETE';\n    },\n    isParsed() {\n      return this.capture.parseStatus === 'COMPLETE';\n    },\n    errorTrace() {\n      if (this.capture.errorTrace) {\n        try {\n          let trace = JSON.parse(this.capture.errorTrace);\n          if (Array.isArray(trace)) return trace.join('\\n');\n        } catch(e) {\n          // do nothing\n        }\n      }\n      return this.capture.errorTrace || '';\n    },\n    prettyStoryJson() {\n      const storyData = JSON.parse(this.capture.storyJson);\n      return JSON.stringify(storyData, null, 2);\n    },\n    prettyContentApiOps() {\n      const ops = JSON.parse(this.capture.contentApiOps);\n      return JSON.stringify(ops, null, 2);\n    },\n    contentApiOpsTotal() {\n      return JSON.parse(this.capture.contentApiOps).length;\n    }\n  },\n  mounted() {\n    this.fetchCapture({ id: this.id });\n  },\n  destroyed() {\n    this.unloadCapture({ id: this.id });\n  },\n  methods: {\n    ...mapActions([\n      'fetchCapture',\n      'processCapture',\n      'unloadCapture',\n    ]),\n    formatDateTime,\n    processingStatusIcon(status) {\n      return processingStatusIcons[status] || processingStatusIcons.UNATTEMPTED;\n    },\n    processAgain(action) {\n      this.busy = true;\n      this.processCapture({ id: this.id, action })\n        .then(() => this.busy = false);\n    }\n  }\n};\n</script>\n","<template>\n  <tr>\n    <td style=\"width:45%;\">\n      <span v-if=\"!editing\">{{ mutable.identity }}</span>\n      <res-input v-else>\n        <input v-model.lazy=\"mutable.identity\" type=\"text\" />\n      </res-input>\n    </td>\n    <td style=\"width:25%;\">\n      <span v-if=\"!editing\">{{ mutable.chorusId }}</span>\n      <res-input v-else>\n        <input v-model.lazy.number=\"mutable.chorusId\" type=\"text\" />\n      </res-input>\n    </td>\n    <td style=\"width:25%;\">{{ model.communityId }}</td>\n    <td style=\"width:5%;\">\n      <res-button :style=\"editStyle\" paddingless @click.prevent=\"toggle\">\n        <res-icon name=\"edit\" size=\"medium\" /><button />\n      </res-button>\n    </td>\n  </tr>\n</template>\n\n<script>\nimport { mapActions } from 'vuex';\nimport { formatMutable, mutableHasChanged } from '../../lib/utils';\n\nconst mutableSchema = {\n  chorusId: '',\n  identity: '',\n};\n\nexport default {\n  props: {\n    model: { type: Object, required: true },\n  },\n  data() {\n    return {\n      editing: false,\n      mutable: formatMutable(mutableSchema, this.model),\n    };\n  },\n  computed: {\n    isChanged() {\n      return mutableHasChanged(this.mutable, this.model);\n    },\n    editStyle() {\n      return this.editing ? 'transform:rotate(45deg)' : null;\n    }\n  },\n  methods: {\n    ...mapActions([\n      'updateIdentity'\n    ]),\n    save() {\n      if (!this.isChanged) return;\n      this.updateIdentity({ id: this.model.id, input: this.mutable })\n        .then(result => {\n          this.mutable = formatMutable(mutableSchema, result);\n        });\n    },\n    toggle() {\n      if (this.editing) this.save();\n      this.editing = !this.editing;\n    }\n  }\n};\n</script>\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"p-flex--v l-fullheight\"},[_c('app-notifications'),_vm._v(\" \"),_c('nav',{staticClass:\"m-nav m-nav--dashboard\"},[(_vm.community && _vm.currentUser)?_c('community-select',{staticClass:\"m-community-select\",attrs:{\"community\":_vm.community,\"user\":_vm.currentUser,\"entitlements\":_vm.entitlements,\"allowedRoles\":{}},model:{value:(_vm.communityId),callback:function ($$v) {_vm.communityId=$$v},expression:\"communityId\"}}):_vm._e(),_vm._v(\" \"),(_vm.accessGranted)?_c('div',{staticClass:\"m-nav__right\"},[_c('res-button',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.isDashboard),expression:\"!isDashboard\"}],staticClass:\"m-r-1\",on:{\"click\":function($event){$event.preventDefault();return _vm.goToDashboard()}}},[_c('button',[_vm._v(\"Dashboard\")])]),_vm._v(\" \"),_c('res-button',{staticClass:\"m-r-1\",attrs:{\"id\":\"dropdown-manage\"}},[_c('button',[_vm._v(\"Manage\")]),_vm._v(\" \"),_c('res-icon',{attrs:{\"name\":\"down\"}})],1),_vm._v(\" \"),_c('res-dropdown',{ref:\"dropdownManage\",attrs:{\"for\":\"dropdown-manage\"},on:{\"click\":function($event){return _vm.closeDropdown($event)}}},[_c('a',{attrs:{\"href\":((_vm.importManagerUrl()) + \"/sidekiq\"),\"target\":\"_blank\"}},[_vm._v(\"Sidekiq queue\")]),_vm._v(\" \"),_c('router-link',{attrs:{\"to\":_vm.routeTo('jobs')}},[_vm._v(\"Document jobs\")]),_vm._v(\" \"),_c('router-link',{attrs:{\"to\":_vm.routeTo('communities')}},[_vm._v(\"Communities\")]),_vm._v(\" \"),_c('router-link',{attrs:{\"to\":_vm.routeTo('placeholders')}},[_vm._v(\"Placeholders\")]),_vm._v(\" \"),_c('router-link',{attrs:{\"to\":_vm.routeTo('asset-identities')}},[_vm._v(\"Asset identities\")]),_vm._v(\" \"),_c('router-link',{attrs:{\"to\":_vm.routeTo('gallery-identities')}},[_vm._v(\"Gallery identities\")]),_vm._v(\" \"),_c('router-link',{attrs:{\"to\":_vm.routeTo('group-identities')}},[_vm._v(\"Group identities\")]),_vm._v(\" \"),_c('router-link',{attrs:{\"to\":_vm.routeTo('user-identities')}},[_vm._v(\"User identities\")])],1),_vm._v(\" \"),_c('res-input',{ref:\"quickSearch\",staticClass:\"m-import-manager__quick-search\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model.lazy\",value:(_vm.quickSearch),expression:\"quickSearch\",modifiers:{\"lazy\":true}}],attrs:{\"type\":\"text\",\"placeholder\":\"URL or Error Code\"},domProps:{\"value\":(_vm.quickSearch)},on:{\"change\":function($event){_vm.quickSearch=$event.target.value}}})])],1):_vm._e()],1),_vm._v(\" \"),_c('div',{staticClass:\"l-content p-flex is-compose\"},[_c('div',{staticClass:\"l-content__inner p-flex--v\",attrs:{\"id\":\"viewport\"}},[(_vm.accessGranted)?_c('router-view',{key:_vm.routeKey,staticClass:\"m-dashboard__content m-import-manager\"}):_vm._e()],1)]),_vm._v(\" \"),_c('app-modal'),_vm._v(\" \"),_c('app-loader',{attrs:{\"iconName\":\"more\",\"animation\":\"static\"}})],1)}\nvar staticRenderFns = []\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('main',[_c('section',[_c('div',{staticClass:\"m-import-manager__header --split\"},[_c('h1',[_vm._v(\"Projects\")]),_vm._v(\" \"),_c('res-button',{attrs:{\"paddingless\":\"\"},on:{\"click\":function($event){$event.preventDefault();return _vm.newProject()}}},[_c('res-icon',{attrs:{\"name\":\"add\",\"size\":\"medium\"}}),_vm._v(\" \"),_c('button',[_vm._v(\"New Project\")])],1)],1),_vm._v(\" \"),_c('res-table',{staticClass:\"m-dashboard__table\",attrs:{\"zebra\":\"true\"}},[_c('table',[_c('thead',[_c('tr',[_c('th',[_vm._v(\"Title\")]),_vm._v(\" \"),_c('th',[_vm._v(\"Crawler\")]),_vm._v(\" \"),_c('th',[_vm._v(\"Documents\")]),_vm._v(\" \"),_c('th',[_vm._v(\"Imported\")]),_vm._v(\" \"),_c('th',[_vm._v(\"Failed\")]),_vm._v(\" \"),_c('th',[_vm._v(\"New\")]),_vm._v(\" \"),_c('th',[_vm._v(\"Archived\")])])]),_vm._v(\" \"),_c('tbody',_vm._l((_vm.projectsTableItems),function(item){return _c('projects-row',{key:[item._type, item.id].join(':'),attrs:{\"model\":item}})}),1)])])],1),_vm._v(\" \"),_c('documents-search',{attrs:{\"projects\":_vm.projectSearchOptions}},[_c('h1',[_vm._v(\"Document Search\")])])],1)}\nvar staticRenderFns = []\nexport { render, staticRenderFns }","import gql from 'graphql-tag';\nimport * as cmd from '../commands';\nimport { importerClient } from '../../../shared/vue/lib/apollo_client';\n\nexport const CaptureBaseAttrs = gql`\n  fragment CaptureBaseAttrs on ImporterDocumentCapture {\n    contentApiOpsDigest\n    createdAt\n    documentEntryId\n    error\n    errorDigest\n    fetchDigest\n    fetchStatus\n    id\n    importStatus\n    parseDigest\n    parseStatus\n    redirectsStatus\n  }\n`;\n\nconst DocumentDisplayAttrs = gql`\n  fragment DocumentDisplayAttrs on ImporterDocumentEntry {\n    archived\n    archivalStatus\n    canonicalUrl\n    chorusEntryId\n    chorusEntryUrl\n    contentApiUuid\n    fetchedAt\n    id\n    importedDocumentCaptureId\n    status\n  }\n`;\n\nexport default {\n\n  async fetchCapture({ state }, params) {\n    const { data } = await importerClient.query({\n      query: gql`\n        query FetchDocumentCapture($id: Int!) {\n          capture: importerDocumentCapture(id: $id) {\n            ...CaptureBaseAttrs\n            body\n            documentEntry {\n              ...DocumentDisplayAttrs\n              allowsCapture\n              project {\n                id\n                name\n                documentParser {\n                  id\n                  name\n                }\n              }\n              sitemapEntry {\n                id\n                name\n                parentSitemap {\n                  id\n                  name\n                }\n              }\n            }\n            errorMessage\n            errorTrace\n            httpStatus\n            redirectUrl\n            storyJson\n            contentApiOps\n          }\n        }\n        ${ CaptureBaseAttrs }\n        ${ DocumentDisplayAttrs }\n      `,\n      variables: { id: params.id }\n    }).catch(err => this.commit(cmd.PUT_NOTICE, err));\n\n    this.commit(cmd.SET_MODELS, {\n      data,\n      documentModels: 'capture.documentEntry',\n      captureModels: 'capture',\n      sitemapModels: ['capture.documentEntry.sitemapEntry', 'capture.documentEntry.sitemapEntry.parentSitemap'],\n      parserModels: 'capture.documentEntry.project.documentParser',\n      projectModels: 'capture.documentEntry.project',\n    });\n    return Promise.resolve(state.captureModels[data.capture.id]);\n  },\n\n  async processCapture({ state }, params) {\n    // params.id = Int\n    // params.action = ImporterDocumentCaptureAction\n    const { data } = await importerClient.mutate({\n      mutation: gql`\n        mutation ProcessDocumentCapture($id: Int!, $action: ImporterDocumentCaptureAction!) {\n          capture: processImporterDocumentCapture(id: $id, action: $action) {\n            ...CaptureBaseAttrs\n            documentEntry {\n              ...DocumentDisplayAttrs\n            }\n            errorMessage\n            errorTrace\n            httpStatus\n            storyJson\n            contentApiOps\n          }\n        }\n        ${ CaptureBaseAttrs }\n        ${ DocumentDisplayAttrs }\n      `,\n      variables: params\n    }).catch(err => this.commit(cmd.PUT_NOTICE, err));\n\n    this.commit(cmd.PATCH_MODELS, {\n      captureModels: data.capture,\n      documentModels: data.capture.documentEntry,\n    });\n    return Promise.resolve(state.captureModels[params.id]);\n  },\n\n  unloadCapture({ state }, params) {\n    const model = state.captureModels[params.id];\n    this.commit(cmd.DELETE_MODELS, {\n      captureModels: model,\n      documentModels: state.documentModels[model.documentEntryId],\n    });\n  }\n};\n","/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./input-form.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./input-form.vue\"\n/* template */\nimport {render as __vue_render__, staticRenderFns as __vue_static_render_fns__} from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-711328f9\\\",\\\"hasScoped\\\":false,\\\"optionsId\\\":\\\"0\\\",\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./input-form.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nimport normalizeComponent from \"!../../../node_modules/vue-loader/lib/runtime/component-normalizer\"\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_render__,\n  __vue_static_render_fns__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n","/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./dashboard.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./dashboard.vue\"\n/* template */\nimport {render as __vue_render__, staticRenderFns as __vue_static_render_fns__} from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-a4a3f510\\\",\\\"hasScoped\\\":false,\\\"optionsId\\\":\\\"0\\\",\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./dashboard.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nimport normalizeComponent from \"!../../node_modules/vue-loader/lib/runtime/component-normalizer\"\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_render__,\n  __vue_static_render_fns__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n","<template>\n  <section>\n    <div v-if=\"$slots.default || label\" class=\"m-import-manager__header\">\n      <slot><h1>{{ label }}</h1></slot>\n      <res-button v-if=\"collapsable\" paddingless class=\"m-l-1\" @click.prevent=\"searchActive = !searchActive\">\n        <button>Search</button> <res-icon :name=\"searchActive ? 'minus' : 'add'\" size=\"large\" />\n      </res-button>\n    </div>\n    <form v-if=\"searchActive\" class=\"m-import-manager__fieldset\" @submit.prevent>\n      <res-select>\n        <label>Filter</label>\n        <select v-model=\"filterSelection\">\n          <option v-for=\"(value, label) in filterOptions\" :key=\"label\" :value=\"label\">{{ label }}</option>\n        </select>\n      </res-select>\n    </form>\n\n    <sitemaps-table\n      :parentId=\"parentId\"\n      :projectId=\"projectId\"\n      :status=\"filters.status\"\n      :version=\"version\"/>\n  </section>\n</template>\n\n\n<script>\nimport SitemapsTable from './sitemaps-table.vue';\n\nconst filters = {\n  status: null,\n};\n\nexport default {\n  components: {\n    SitemapsTable\n  },\n  props: {\n    label: {\n      type: String,\n      default: null\n    },\n    collapsable: {\n      type: Boolean,\n      default: false\n    },\n    // scoping\n    parentId: {\n      type: Number,\n      default: null\n    },\n    projectId: {\n      type: Number,\n      default: null\n    },\n    version: {\n      type: Number,\n      default: null\n    }\n  },\n  data() {\n    return {\n      filterSelection: 'All',\n      filterOptions: {\n        'All': {},\n        'New': { status: 'CREATED' },\n        'Capturing': { status: 'CAPTURING' },\n        'Fetched': { status: 'CAPTURED' },\n        'Failed': { status: 'FAILED' },\n      },\n      filters: Object.assign({}, filters),\n      searchActive: !this.collapsable,\n    };\n  },\n  watch: {\n    filterSelection() {\n      const params = this.filterOptions[this.filterSelection];\n      this.filters = Object.assign({}, filters, params);\n    }\n  }\n};\n</script>\n","<template>\n  <form @submit.prevent>\n    <fieldset>\n      <res-input count=\"75\">\n        <label>Note</label>\n        <input v-model=\"revisionNote\" type=\"text\" />\n      </res-input>\n    </fieldset>\n    <footer>\n      <res-button design=\"primary\" @click.prevent=\"save()\">\n        <button type=\"submit\">Save copy</button>\n      </res-button>\n      <res-button design=\"secondary\" class=\"m-l-1\" @click.prevent=\"close()\">\n        <button type=\"button\">Cancel</button>\n      </res-button>\n    </footer>\n  </form>\n</template>\n\n<script>\nimport { mapState, mapActions } from 'vuex';\n\nexport default {\n  data() {\n    return {\n      revisionNote: ''\n    };\n  },\n  computed: {\n    ...mapState([\n      'currentDialog',\n    ])\n  },\n  methods: {\n    ...mapActions([\n      'setDialog',\n    ]),\n    save() {\n      this.currentDialog.resolve(this.revisionNote || undefined);\n      this.setDialog(null);\n    },\n    close() {\n      this.setDialog(null);\n    }\n  }\n};\n</script>\n","<template>\n  <main>\n    <div class=\"m-import-manager__header --split\">\n      <h1>Document jobs</h1>\n    </div>\n    <p class=\"--italic\">start jobs from the documents search table</p>\n    <div class=\"m-import-manager__table\">\n      <res-table class=\"m-dashboard__table\">\n        <table>\n          <thead>\n            <tr>\n              <th>Job</th>\n              <th>Task</th>\n              <th>Documents</th>\n              <th colspan=\"2\">Status</th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr v-for=\"job in jobs\" v-show=\"isVisible(job)\" :key=\"job.id\" :class=\"{ '--child-row': !job.workers }\">\n              <td>\n                <template v-if=\"job.workers\">\n                  <res-button :style=\"{ transform: `rotate(${ activeJobId === job.id ? '0' : '-90deg' })` }\" paddingless @click.prevent=\"toggleJob(job)\">\n                    <res-icon name=\"down\" size=\"medium\" /><button />\n                  </res-button>\n                  <a\n                    :href=\"jobLogUrl(job)\"\n                    :title=\"`Logs for job ${ job.jobId }`\"\n                    target=\"_blank\"\n                    class=\"m-import-manager__digest m-r-5\"\n                  >\n                    job {{ job.jobId.split('-')[0] }}\n                  </a>\n                  <span>{{ formatDateTime(job.createdAt) }}</span>\n                </template>\n                <template v-else>\n                  <res-icon size=\"small\" name=\"tab\" class=\"m-r-1\"/>\n                  <a\n                    :href=\"jobLogUrl(job)\"\n                    :title=\"`Logs for worker ${ job.id }`\"\n                    :data-id=\"job.id\"\n                    target=\"_blank\"\n                    class=\"m-import-manager__digest m-r-5\"\n                  >\n                    worker {{ job.id }}\n                  </a>\n                  <span v-show=\"job.status === 'RUNNING' && job.lastDocumentId\">@ {{ job.lastDocumentId }}</span>\n                </template>\n              </td>\n              <td>\n                <template v-if=\"job.workers\">\n                  <res-button paddingless class=\"m-r-5\" @click.prevent=\"setDialog({ tag: 'text-console', value: job.searchJson })\">\n                    <res-icon name=\"publish\" size=\"medium\" /><button />\n                  </res-button>\n                  <span>{{ job.task.replace(/^perform_/i, '') }}</span>\n                </template>\n                <template v-else>\n                  <span class=\"--italic\">{{ job.startAt || '&lt;' }}..{{ job.finishAt || '&gt;' }}</span>\n                </template>\n              </td>\n              <td>\n                <span :class=\"{ '--italic': !job.workers }\">{{ job.documentsTotal }}</span>\n              </td>\n              <td>\n                <a :title=\"job.status\"><res-icon :name=\"statusIcon(job.status)\" size=\"medium\" /></a>\n                <span :class=\"{ '--italic': !job.workers }\">{{ job.percentComplete }}%</span>\n              </td>\n              <td>\n                <res-button v-show=\"mayCancel(job)\" paddingless title=\"Cancel\" @click.prevent=\"confirmCancelJob(job)\">\n                  <res-icon name=\"none\" size=\"medium\" /><button>Cancel</button>\n                </res-button>\n                <res-button v-show=\"mayResume(job)\" paddingless title=\"Resume\" @click.prevent=\"resumeJob(job.id)\">\n                  <res-icon name=\"refresh\" size=\"medium\" /><button>Resume</button>\n                </res-button>\n                <res-button\n                  v-if=\"job.workers\"\n                  v-show=\"mayTrash(job)\"\n                  paddingless\n                  title=\"Delete\"\n                  @click.prevent=\"confirmDeleteJob(job)\"\n                >\n                  <res-icon name=\"trash\" size=\"medium\" /><button />\n                </res-button>\n                <res-button\n                  v-if=\"!job.workers\"\n                  v-show=\"job.errorMessage\"\n                  paddingless\n                  title=\"Errors\"\n                  @click.prevent=\"setDialog({ tag: 'text-console', value: job.errorMessage })\"\n                >\n                  <res-icon name=\"warning\" size=\"medium\" /><button />\n                </res-button>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n      </res-table>\n      <footer>\n        <span v-if=\"loaded && jobs.length\">\n          Found {{ formatNumber(jobRollups.length) }} jobs\n        </span>\n        <span v-else-if=\"loaded\">\n          No results\n        </span>\n      </footer>\n    </div>\n  </main>\n</template>\n\n<script>\nimport { mapActions } from 'vuex';\nimport { formatNumber, formatDateTime, crawlerIcons, importManagerUrl } from '../lib/formatting';\nimport Polling from '../components/mixins/polling';\n\nexport default {\n  mixins: [Polling],\n  data() {\n    return {\n      loaded: false,\n      activeJobId: this.$route.query.job,\n    };\n  },\n  computed: {\n    jobRollups() {\n      const jobsById = Object.values(this.$store.state.jobModels).reduce((memo, job) => {\n        memo[job.jobId] = memo[job.jobId] || [];\n        memo[job.jobId].push(job);\n        return memo;\n      }, {});\n\n      return Object.keys(jobsById).map(id => {\n        const workers = jobsById[id];\n        const statuses = ['PENDING', 'RUNNING', 'FAILED', 'CANCELLED'];\n        let status = 'COMPLETED';\n\n        for (let s of statuses) {\n          if (workers.some(j => j.status === s)) {\n            status = s;\n            break;\n          }\n        }\n\n        return Object.assign({}, workers[0], {\n          id: workers[0].jobId,\n          documentsTotal: workers.reduce((t, j) => t += j.documentsTotal, 0),\n          percentComplete: Math.floor(workers.reduce((t, j) => t += j.percentComplete, 0) / workers.length),\n          status,\n          workers,\n        });\n      });\n    },\n    jobs() {\n      return this.jobRollups.reduce((memo, job) => {\n        memo.push(job);\n        return memo.concat(job.workers);\n      }, []);\n    }\n  },\n  watch: {\n    activeJobId() {\n      const query = { community_id: this.$store.state.currentCommunity.id };\n      if (this.activeJobId) query.job = this.activeJobId;\n      this.$router.replace({ query });\n    },\n    '$route.query'() {\n      const query = this.$route.query;\n      if (query.job) this.activeJobId = query.job;\n    }\n  },\n  mounted() {\n    this.startImmediatePolling(() => {\n      this.fetchJobs().then(() => this.loaded = true);\n    }, 10000);\n  },\n  methods: {\n    ...mapActions([\n      'cancelJob',\n      'deleteJob',\n      'fetchJobs',\n      'resumeJob',\n      'setDialog',\n    ]),\n    formatDateTime,\n    formatNumber,\n    statusIcon(status) {\n      return crawlerIcons[status];\n    },\n    toggleJob(job) {\n      this.activeJobId = (job.jobId === this.activeJobId) ? null : job.jobId;\n    },\n    isVisible(job) {\n      return job.workers || job.jobId === this.activeJobId;\n    },\n    mayCancel(job) {\n      return job.status === 'RUNNING' || (job.workers && job.workers.some(j => j.status === 'RUNNING'));\n    },\n    mayResume(job) {\n      return !job.workers && ['CANCELLED', 'FAILED'].includes(job.status);\n    },\n    mayTrash(job) {\n      return ['COMPLETED', 'CANCELLED', 'FAILED'].includes(job.status);\n    },\n    confirm(job, action) {\n      const workers = job.workers ? ' and all of its workers' : '';\n      return confirm(`${ action } this job${ workers }?`);\n    },\n    confirmCancelJob(job) {\n      if (this.confirm(job, 'Cancel')) {\n        this.cancelJob(job.id);\n      }\n    },\n    confirmDeleteJob(job) {\n      if (this.confirm(job, 'Delete')) {\n        this.deleteJob(job.id);\n      }\n    },\n    jobLogUrl(job) {\n      const path = [importManagerUrl()];\n      path.push(job.workers ? `reports/job/${ job.jobId }` : `reports/job/worker/${ job.id }`);\n      return path.join('/');\n    }\n  }\n};\n</script>\n","export const captureDefault = {\n  _type: 'capture',\n  createdAt: null,\n  documentEntryId: null,\n  body: null,\n  contentApiOps: null,\n  contentApiOpsDigest: null,\n  error: null,\n  errorDigest: null,\n  errorMessage: null,\n  errorTrace: null,\n  fetchDigest: null,\n  fetchStatus: null,\n  httpStatus: null,\n  id: null,\n  importStatus: null,\n  parseDigest: null,\n  parseStatus: null,\n  redirectsStatus: null,\n  redirectUrl: null,\n  storyJson: null\n};\n\nexport const communityDefault = {\n  _type: 'community',\n  id: null, // id of the delegation record\n  constituentCommunityId: null,\n  delegateCommunityId: null,\n  name: null,\n  urlMatcher: null,\n};\n\nexport const crawlerDefault = {\n  _type: 'crawler',\n  autoAdvance: true,\n  documentsComplete: null,\n  documentsLimit: null,\n  documentsTotal: null,\n  duration: null,\n  finishedAt: null,\n  id: null,\n  percentComplete: null,\n  recordsPerSecond: null,\n  sitemapEntryId: null,\n  sitemapsComplete: null,\n  sitemapsLimit: null,\n  sitemapsTotal: null,\n  status: null,\n};\n\nexport const documentDefault = {\n  _type: 'document',\n  allowsCapture: null,\n  archived: null,\n  archivalStatus: null,\n  canonicalUrl: null,\n  communityId: null,\n  chorusEntryId: null,\n  chorusEntryUrl: null,\n  clickabilityUrl: null,\n  contentApiUuid: null,\n  fetchedAt: null,\n  id: null,\n  importedDocumentCaptureId: null,\n  modifiedAt: null,\n  projectId: null,\n  sitemapEntryId: null,\n  status: null,\n  towerUrl: null,\n  watched: false,\n};\n\nexport const identityDefault = {\n  _type: 'identity',\n  chorusId: null,\n  identity: null,\n  type: null,\n};\n\nexport const jobDefault = {\n  _type: 'job',\n  createdAt: null,\n  documentsTotal: null,\n  documentsComplete: null,\n  errorMessage: null,\n  errorTrace: null,\n  finishAt: null,\n  id: null,\n  jobId: null,\n  lastDocumentId: null,\n  percentComplete: null,\n  searchJson: null,\n  status: null,\n  startAt: null,\n  task: null,\n};\n\nexport const parserDefault = {\n  _type: 'parser',\n  captureType: null,\n  captureTypes: [],\n  createdAt: null,\n  groupTaxonomyType: null,\n  groupTaxonomyTypes: [],\n  id: null,\n  name: null,\n  parserJson: null,\n  revisionerId: null,\n  revisionNote: null,\n  schemaJson: null,\n};\n\nexport const placeholderDefault = {\n  _type: 'placeholder',\n  contentType: null,\n  data: null,\n  documentEntryId: null,\n  id: null,\n  fulfilled: null,\n  fulfilledType: null,\n  fulfilledValue: null,\n};\n\nexport const projectDefault = {\n  _type: 'project',\n  active: null,\n  createRedirects: null,\n  createAuthors: null,\n  documentParserId: null,\n  enableFrontPage: null,\n  id: null,\n  name: null,\n};\n\nexport const sitemapDefault = {\n  _type: 'sitemap',\n  activeDocumentsCount: null,\n  allowsCrawling: null,\n  archivedDocumentsCount: null,\n  blacklistUrls: null,\n  communityDelegationId: null,\n  communityDelegationMode: null,\n  crawlerId: null,\n  currentCrawlerId: null,\n  error: null,\n  errorMessage: null,\n  failedDocumentsCount: null,\n  fetchedAt: null,\n  hasRunningCrawler: false,\n  id: null,\n  importedDocumentsCount: null,\n  name: null,\n  newDocumentsCount: null,\n  parentId: null,\n  projectId: null,\n  status: null,\n  type: null,\n  url: null,\n};\n\nexport const defaultsByModelSet = {\n  captureModels: captureDefault,\n  crawlerModels: crawlerDefault,\n  documentModels: documentDefault,\n  jobModels: jobDefault,\n  communityModels: communityDefault,\n  parserModels: parserDefault,\n  placeholderModels: placeholderDefault,\n  projectModels: projectDefault,\n  sitemapModels: sitemapDefault,\n};\n","import { schemaMerge, schemaFilter, resolveObject } from '../../lib/utils';\nimport * as defs from './defaults';\n\nconst PATCH = { patch: true };\n\nexport function newCapture(data, options={}) {\n  const model = options.patch ?\n    schemaFilter(defs.captureDefault, data) :\n    schemaMerge(defs.captureDefault, data);\n  if (data.documentEntry) model.documentEntryId = data.documentEntry.id;\n  return Object.freeze(model);\n}\n\nexport function newCrawler(data, options={}) {\n  const model = options.patch ?\n    schemaFilter(defs.crawlerDefault, data) :\n    schemaMerge(defs.crawlerDefault, data);\n  if (data.sitemapEntry) model.sitemapEntryId = data.sitemapEntry.id;\n  return Object.freeze(model);\n}\n\nexport function newDocument(data, options={}) {\n  const model = options.patch ?\n    schemaFilter(defs.documentDefault, data) :\n    schemaMerge(defs.documentDefault, data);\n  if (data.sitemapEntry) model.sitemapEntryId = data.sitemapEntry.id;\n  if (data.project) model.projectId = data.project.id;\n  return Object.freeze(model);\n}\n\nexport function newIdentity(data, options={}) {\n  const model = options.patch ?\n    schemaFilter(defs.identityDefault, data) :\n    schemaMerge(defs.identityDefault, data);\n  return Object.freeze(model);\n}\n\nexport function newJob(data, options={}) {\n  const model = options.patch ?\n    schemaFilter(defs.jobDefault, data) :\n    schemaMerge(defs.jobDefault, data);\n  return Object.freeze(model);\n}\n\nexport function newParser(data, options={}) {\n  const model = options.patch ?\n    schemaFilter(defs.parserDefault, data) :\n    schemaMerge(defs.parserDefault, data);\n  if (data.revisioner) model.revisionerId = data.revisioner.id;\n  return Object.freeze(model);\n}\n\nexport function newPlaceholder(data, options={}) {\n  const model = options.patch ?\n    schemaFilter(defs.placeholderDefault, data) :\n    schemaMerge(defs.placeholderDefault, data);\n  if (data.documentEntry) model.documentEntryId = data.documentEntry.id;\n  return Object.freeze(model);\n}\n\nexport function newProject(data, options={}) {\n  const model = options.patch ?\n    schemaFilter(defs.projectDefault, data) :\n    schemaMerge(defs.projectDefault, data);\n  if (data.documentParser) model.documentParserId = data.documentParser.id;\n  return Object.freeze(model);\n}\n\nexport function newSitemap(data, options={}) {\n  const model = options.patch ?\n    schemaFilter(defs.sitemapDefault, data) :\n    schemaMerge(defs.sitemapDefault, data);\n  if (data.parentSitemap) model.parentId = data.parentSitemap.id;\n  if (data.project) model.projectId = data.project.id;\n  if (data.crawler) model.crawlerId = data.crawler.id;\n  if (data.currentCrawler) model.currentCrawlerId = data.currentCrawler.id;\n  return Object.freeze(model);\n}\n\nconst factoriesByModelSet = {\n  captureModels: newCapture,\n  communityModels: obj => obj,\n  crawlerModels: newCrawler,\n  documentModels: newDocument,\n  jobModels: newJob,\n  parserModels: newParser,\n  placeholderModels: newPlaceholder,\n  projectModels: newProject,\n  sitemapModels: newSitemap,\n};\n\nexport function buildModels(mapping, options={}) {\n  const models = {};\n\n  for (let [key, value] of Object.entries(mapping)) {\n    if (key === 'data') continue;\n    const refs = Array.isArray(value) ? value : [value];\n    const factory = factoriesByModelSet[key];\n    if (!factory) throw 'invalid model namespace';\n\n    for (let obj of refs) {\n      if (typeof obj === 'string') {\n        if (!mapping.data) throw 'string reference requires a data param';\n        obj = resolveObject(mapping.data, obj);\n      }\n      if (obj) {\n        if (!Array.isArray(obj)) obj = [obj];\n        models[key] = models[key] || [];\n        for (let o of obj) {\n          models[key].push(factory(o, options));\n        }\n      }\n    }\n  }\n\n  return models;\n}\n\nexport function buildPatches(mapping) {\n  return buildModels(mapping, PATCH);\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('tr',[_c('td',{staticStyle:{\"width\":\"45%\"}},[(!_vm.editing)?_c('span',[_vm._v(_vm._s(_vm.mutable.identity))]):_c('res-input',[_c('input',{directives:[{name:\"model\",rawName:\"v-model.lazy\",value:(_vm.mutable.identity),expression:\"mutable.identity\",modifiers:{\"lazy\":true}}],attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.mutable.identity)},on:{\"change\":function($event){return _vm.$set(_vm.mutable, \"identity\", $event.target.value)}}})])],1),_vm._v(\" \"),_c('td',{staticStyle:{\"width\":\"25%\"}},[(!_vm.editing)?_c('span',[_vm._v(_vm._s(_vm.mutable.chorusId))]):_c('res-input',[_c('input',{directives:[{name:\"model\",rawName:\"v-model.lazy.number\",value:(_vm.mutable.chorusId),expression:\"mutable.chorusId\",modifiers:{\"lazy\":true,\"number\":true}}],attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.mutable.chorusId)},on:{\"change\":function($event){_vm.$set(_vm.mutable, \"chorusId\", _vm._n($event.target.value))},\"blur\":function($event){return _vm.$forceUpdate()}}})])],1),_vm._v(\" \"),_c('td',{staticStyle:{\"width\":\"25%\"}},[_vm._v(_vm._s(_vm.model.communityId))]),_vm._v(\" \"),_c('td',{staticStyle:{\"width\":\"5%\"}},[_c('res-button',{style:(_vm.editStyle),attrs:{\"paddingless\":\"\"},on:{\"click\":function($event){$event.preventDefault();return _vm.toggle($event)}}},[_c('res-icon',{attrs:{\"name\":\"edit\",\"size\":\"medium\"}}),_c('button')],1)],1)])}\nvar staticRenderFns = []\nexport { render, staticRenderFns }","<template>\n  <res-modal v-if=\"currentDialog\" :open=\"!!currentDialog\" background=\"darken\">\n    <component :is=\"currentDialog.tag\" class=\"m-import-manager__dialog\" />\n  </res-modal>\n</template>\n\n<script>\nimport { mapState } from 'vuex';\nimport CreateProject from './create-project.vue';\nimport ParserRevision from './parser-revision.vue';\nimport TextConsole from './text-console.vue';\nimport InputForm from './input-form.vue';\n\nexport default {\n  components: {\n    CreateProject,\n    InputForm,\n    ParserRevision,\n    TextConsole,\n  },\n  computed: {\n    ...mapState([\n      'currentDialog'\n    ])\n  }\n};\n</script>\n","import gql from 'graphql-tag';\nimport * as cmd from '../commands';\nimport { importerClient } from '../../../shared/vue/lib/apollo_client';\nimport { CaptureBaseAttrs } from './captures';\n\nconst DocumentBaseAttrs = gql`\n  fragment DocumentBaseAttrs on ImporterDocumentEntry {\n    archived\n    archivalStatus\n    canonicalUrl\n    chorusEntryId\n    chorusEntryUrl\n    clickabilityUrl\n    fetchedAt\n    id\n    modifiedAt\n    status\n    towerUrl\n    watched\n  }\n`;\n\nexport default {\n\n  async fetchDocument({ state }, params) {\n    const { data } = await importerClient.query({\n      query: gql`\n        query FetchDocument($id: Int!) {\n          document: importerDocumentEntry(id: $id) {\n            ...DocumentBaseAttrs\n            allowsCapture\n            communityId\n            contentApiUuid\n            documentCaptures {\n              ...CaptureBaseAttrs\n            }\n            importedDocumentCaptureId\n            project {\n              id\n              name\n              communityDelegations {\n                constituentCommunityId\n                id\n                name\n              }\n            }\n            sitemapEntry {\n              id\n              name\n              parentSitemap {\n                id\n                name\n              }\n            }\n            storyPlaceholders {\n              contentType\n              data\n              documentEntryId\n              id\n              fulfilled\n            }\n          }\n        }\n        ${ DocumentBaseAttrs }\n        ${ CaptureBaseAttrs }\n      `,\n      variables: { id: params.id }\n    }).catch(err => this.commit(cmd.PUT_NOTICE, err));\n\n    this.commit(cmd.SET_MODELS, {\n      data,\n      documentModels: 'document',\n      captureModels: 'document.documentCaptures',\n      placeholderModels: 'document.storyPlaceholders',\n      sitemapModels: ['document.sitemapEntry', 'document.sitemapEntry.parentSitemap'],\n      projectModels: 'document.project',\n      communityModels: 'document.project.communityDelegations',\n    });\n    return Promise.resolve(state.documentModels[params.id]);\n  },\n\n  async findOrCreateDocument({ state }, input) {\n    const { data } = await importerClient.mutate({\n      mutation: gql`\n        mutation FindOrCreateDocument($input: CreateImporterDocumentEntryInput!) {\n          document: findOrCreateImporterDocumentEntry(input: $input) {\n            id\n          }\n        }\n      `,\n      variables: { input }\n    }).catch(err => this.commit(cmd.PUT_NOTICE, err));\n\n    this.commit(cmd.PATCH_MODELS, { documentModels: data.document });\n    return Promise.resolve(state.documentModels[data.document.id]);\n  },\n\n  async updateDocument({ state }, params) {\n    // params.id = Int\n    // params.input = UpdateImporterDocumentEntryInput\n    const { data } = await importerClient.mutate({\n      mutation: gql`\n        mutation UpdateDocument($id: Int!, $input: UpdateImporterDocumentEntryInput!) {\n          document: updateImporterDocumentEntry(id: $id, input: $input) {\n            archived\n            archivalStatus\n            id\n            watched\n          }\n        }\n      `,\n      variables: params\n    }).catch(err => this.commit(cmd.PUT_NOTICE, err));\n\n    this.commit(cmd.PATCH_MODELS, { documentModels: data.document });\n    return Promise.resolve(state.documentModels[params.id]);\n  },\n\n  async captureDocument({ state }, params) {\n    const { data } = await importerClient.mutate({\n      mutation: gql`\n        mutation CaptureDocument($id: Int!) {\n          document: captureImporterDocumentEntry(id: $id) {\n            documentCaptures {\n              ...CaptureBaseAttrs\n            }\n            id\n            status\n          }\n        }\n        ${ CaptureBaseAttrs }\n      `,\n      variables: { id: params.id }\n    }).catch(err => this.commit(cmd.PUT_NOTICE, err));\n\n    this.commit(cmd.PATCH_MODELS, { documentModels: data.document });\n    this.commit(cmd.SET_MODELS, { captureModels: data.document.documentCaptures });\n    return Promise.resolve(state.documentModels[params.id]);\n  },\n\n  async changeDocumentCommunity({ state }, params) {\n    const { data } = await importerClient.mutate({\n      mutation: gql`\n        mutation ChangeDocumentCommunity($id: Int!, $communityId: Int!) {\n          document: changeImporterDocumentEntryCommunity(id: $id, communityId: $communityId) {\n            communityId\n            contentApiUuid\n            chorusEntryId\n            chorusEntryUrl\n            id\n            modifiedAt\n          }\n        }\n      `,\n      variables: {\n        id: params.id,\n        communityId: params.communityId,\n      }\n    }).catch(err => this.commit(cmd.PUT_NOTICE, err));\n\n    this.commit(cmd.PATCH_MODELS, { documentModels: data.document });\n    return Promise.resolve(state.documentModels[params.id]);\n  },\n\n  unloadDocument({ getters }, params) {\n    this.commit(cmd.DELETE_MODELS, {\n      captureModels: getters.captureModelsList.filter(d => d.documentEntryId === params.id),\n      documentModels: getters.documentModelsList.filter(d => d.id === params.id),\n      placeholderModels: getters.placeholderModelsList.filter(d => d.documentEntryId === params.id),\n    });\n  }\n};\n","/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./identities.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./identities.vue\"\n/* template */\nimport {render as __vue_render__, staticRenderFns as __vue_static_render_fns__} from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2200ef02\\\",\\\"hasScoped\\\":false,\\\"optionsId\\\":\\\"0\\\",\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./identities.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nimport normalizeComponent from \"!../../node_modules/vue-loader/lib/runtime/component-normalizer\"\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_render__,\n  __vue_static_render_fns__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n","/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./sitemaps-search.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./sitemaps-search.vue\"\n/* template */\nimport {render as __vue_render__, staticRenderFns as __vue_static_render_fns__} from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-f6cdd790\\\",\\\"hasScoped\\\":false,\\\"optionsId\\\":\\\"0\\\",\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./sitemaps-search.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nimport normalizeComponent from \"!../../node_modules/vue-loader/lib/runtime/component-normalizer\"\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_render__,\n  __vue_static_render_fns__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n","/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./documents-search.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./documents-search.vue\"\n/* template */\nimport {render as __vue_render__, staticRenderFns as __vue_static_render_fns__} from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-439c109c\\\",\\\"hasScoped\\\":false,\\\"optionsId\\\":\\\"0\\\",\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./documents-search.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nimport normalizeComponent from \"!../../node_modules/vue-loader/lib/runtime/component-normalizer\"\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_render__,\n  __vue_static_render_fns__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n","<template>\n  <div :style=\"fullHeight\" class=\"m-community-select__menu-wrap\">\n    <ul v-if=\"networks\" class=\"m-community-select__list\">\n      <template v-for=\"network in networks\">\n        <community-cell\n          v-if=\"network.communities.length === 1\"\n          :community=\"network.communities[0]\"\n          :defaultLogoUrl=\"defaultLogoUrl\"\n          :selectionId=\"selectionId\"\n          :key=\"network.name\"\n          @communityId=\"selectCommunity($event)\"\n        />\n        <ul v-else :key=\"network.name\" class=\"m-community-select__list\">\n          <li :class=\"expandedNetworks[network.id] ? 'is-expanded' : 'is-collapsed'\" class=\"m-community-select__network\">\n            <div class=\"m-community-select__item\" @click.prevent=\"expandNetwork(network.id)\">\n              <div class=\"m-community-select__avatar\">\n                <div v-if=\"network.logo\" v-html=\"network.logo\"/>\n                <img v-else :src=\"defaultLogoUrl\" class=\"m-community-select__icon\" style=\"height:20px\" />\n              </div>\n              <span class=\"m-community-select__name\">{{ network.name }}</span>\n              <res-icon size=\"medium\" name=\"add-circle\"/>\n              <res-icon size=\"medium\" name=\"minus-circle\"/>\n            </div>\n            <ul class=\"m-community-select__sub-list\">\n              <community-cell\n                v-for=\"community in network.communities\"\n                :key=\"community.id\"\n                :community=\"community\"\n                :defaultLogoUrl=\"defaultLogoUrl\"\n                :selectionId=\"selectionId\"\n                @communityId=\"selectCommunity($event)\"\n              />\n            </ul>\n          </li>\n        </ul>\n      </template>\n    </ul>\n  </div>\n</template>\n\n<script>\nimport { mapState } from 'vuex';\nimport CommunityCell from './community-cell.vue';\n\nexport default {\n  components: {\n    CommunityCell\n  },\n  props: {\n    allowedRoles: {\n      type: Object,\n      required: true\n    },\n    activeMemberships: {\n      type: Array,\n      default: () => ([])\n    },\n    defaultLogoUrl: {\n      type: String,\n      required: true,\n    },\n    networks: {\n      type: Array,\n      default: null\n    },\n    menuOpen: {\n      type: Boolean,\n      required: true\n    }\n  },\n  data() {\n    return {\n      selectionId: null,\n      expandedNetworks: {},\n      fullHeight: null\n    };\n  },\n  computed: {\n    ...mapState(['currentUser'])\n  },\n  mounted() {\n    this.setHeight();\n    window.addEventListener('click', this.closeMenu, true);\n    window.addEventListener('resize', this.setHeight);\n  },\n  beforeDestroy() {\n    window.removeEventListener('click', this.closeMenu, true);\n    window.removeEventListener('resize', this.setHeight);\n  },\n  methods: {\n    closeMenu(e) {\n      if (!e) return;\n      const communityMenu = document.querySelector('.m-community-select__list');\n      const communityMenuTrigger = document.querySelector('.m-community-select__menu-trigger');\n      if (this.menuOpen && !communityMenu.contains(e.target) && !communityMenuTrigger.contains(e.target)) {\n        this.$emit('closeMenu');\n      }\n    },\n    setHeight() {\n      this.fullHeight = `height: ${window.innerHeight}px`;\n    },\n    expandNetwork(id) {\n      this.expandedNetworks[id] = !this.expandedNetworks[id];\n      this.expandedNetworks = Object.assign({}, this.expandedNetworks);\n    },\n    isAuthorized(id) {\n      return this.currentUser.networkRoles.some(r => r in this.allowedRoles)\n        || this.activeMemberships.some(m => m.community.id === id);\n    },\n    async selectCommunity(id) {\n      if (!id) return;\n      if (id && id === this.selectionId) return;\n      if (this.activeMemberships.length === 0 && this.currentUser.networkRoles.length === 0) return;\n      if (!this.isAuthorized(id)) id = this.activeMemberships[0].community.id;\n\n      this.selectionId = id;\n      localStorage.setItem('dashboardCommunityId', id);\n      this.$router.push({ query: { community_id: id } });\n      this.$emit('closeMenu');\n    }\n  }\n};\n</script>\n","/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./community-menu.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./community-menu.vue\"\n/* template */\nimport {render as __vue_render__, staticRenderFns as __vue_static_render_fns__} from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2d9ee641\\\",\\\"hasScoped\\\":false,\\\"optionsId\\\":\\\"0\\\",\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./community-menu.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nimport normalizeComponent from \"!../../../../node_modules/vue-loader/lib/runtime/component-normalizer\"\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_render__,\n  __vue_static_render_fns__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n","import gql from 'graphql-tag';\nimport * as cmd from '../commands';\nimport { importerClient } from '../../../shared/vue/lib/apollo_client';\n\nconst ProjectBaseAttrs = gql`\n  fragment ProjectBaseAttrs on ImporterProject {\n    active\n    createRedirects\n    createAuthors\n    documentParserId\n    enableFrontPage\n    id\n    name\n  }\n`;\n\nexport default {\n\n  // fetch all projects\n  async fetchProjects({ state }) {\n    const { data } = await importerClient.query({\n      query: gql`\n        query FetchProjectsAndParsers($communityId: Int!) {\n          communities: importerCommunityDelegations(delegateId: $communityId) {\n            constituentCommunityId\n            id\n            name\n          }\n          parsers: importerDocumentParsers(communityId: $communityId) {\n            id\n            name\n          }\n          projects: importerProjects(communityId: $communityId) {\n            ...ProjectBaseAttrs\n            sitemapEntries(root: true) {\n              activeDocumentsCount\n              archivedDocumentsCount\n              failedDocumentsCount\n              hasRunningCrawler\n              id\n              importedDocumentsCount\n              name\n              newDocumentsCount\n              projectId\n            }\n          }\n        }\n        ${ ProjectBaseAttrs }\n      `,\n      variables: {\n        communityId: state.currentCommunity.id,\n      }\n    }).catch(err => this.commit(cmd.PUT_NOTICE, err));\n\n    const sitemapsData = data.projects.reduce((memo, p) => memo.concat(p.sitemapEntries), []);\n\n    this.commit(cmd.PATCH_MODELS, {\n      parserModels: data.parsers,\n      projectModels: data.projects,\n      sitemapModels: sitemapsData,\n      communityModels: data.communities,\n    });\n    return Promise.resolve();\n  },\n\n  // fetch all projects, but return a single one\n  async fetchProject({ state }, params) {\n    return await this.dispatch('fetchProjects')\n      .then(() => Promise.resolve(state.projectModels[params.id]));\n  },\n\n  async createProject({ state }, input) {\n    const { data } = await importerClient.mutate({\n      mutation: gql`\n        mutation CreateProject($input: CreateImporterProjectInput!) {\n          project: createImporterProject(input: $input) {\n            ...ProjectBaseAttrs\n          }\n        }\n        ${ ProjectBaseAttrs }\n      `,\n      variables: {\n        input: Object.assign({\n          communityId: state.currentCommunity.id,\n          networkId: state.network.id,\n        }, input)\n      }\n    }).catch(err => this.commit(cmd.PUT_NOTICE, err));\n\n    this.commit(cmd.PATCH_MODELS, { projectModels: data.project });\n    return Promise.resolve(state.projectModels[data.project.id]);\n  },\n\n  async updateProject({ state }, params) {\n    const { data } = await importerClient.mutate({\n      mutation: gql`\n        mutation UpdateProject($id: Int!, $input: UpdateImporterProjectInput!) {\n          project: updateImporterProject(id: $id, input: $input) {\n            ...ProjectBaseAttrs\n          }\n        }\n        ${ ProjectBaseAttrs }\n      `,\n      variables: params\n    }).catch(err => this.commit(cmd.PUT_NOTICE, err));\n\n    this.commit(cmd.PATCH_MODELS, { projectModels: data.project });\n    return Promise.resolve(state.projectModels[params.id]);\n  }\n};\n","import gql from 'graphql-tag';\nimport * as cmd from '../commands';\nimport { importerClient } from '../../../shared/vue/lib/apollo_client';\nimport { CrawlerBaseAttrs } from './crawlers';\n\nconst SitemapBaseAttrs = gql`\n  fragment SitemapBaseAttrs on ImporterSitemapEntry {\n    blacklistUrls\n    id\n    name\n    status\n    type\n    url\n  }\n`;\n\nexport default {\n\n  async fetchSitemap({ state }, params) {\n    const { data } = await importerClient.query({\n      query: gql`\n        query FetchSitemap($id: Int!) {\n          sitemap: importerSitemapEntry(id: $id) {\n            ...SitemapBaseAttrs\n            allowsCrawling\n            communityDelegationId\n            communityDelegationMode\n            error\n            errorMessage\n            fetchedAt\n            parentSitemap {\n              id\n              name\n            }\n            project {\n              id\n              name\n              communityDelegations {\n                constituentCommunityId\n                id\n                name\n              }\n            }\n            currentCrawler {\n              ...CrawlerBaseAttrs\n              sitemapEntry {\n                id\n                name\n                parentId\n              }\n            }\n          }\n        }\n        ${ SitemapBaseAttrs }\n        ${ CrawlerBaseAttrs }\n      `,\n      variables: { id: params.id }\n    }).catch(err => this.commit(cmd.PUT_NOTICE, err));\n\n    this.commit(cmd.SET_MODELS, {\n      sitemapModels: [data.sitemap, data.sitemap.parentSitemap],\n      projectModels: data.sitemap.project,\n      crawlerModels: data.sitemap.currentCrawler,\n      communityModels: data.sitemap.project.communityDelegations,\n    });\n    this.commit(cmd.PATCH_MODELS, {\n      data,\n      sitemapModels: 'sitemap.currentCrawler.sitemapEntry',\n    });\n    return Promise.resolve(state.sitemapModels[params.id]);\n  },\n\n  async createSitemap({ state }, input) {\n    // input = CreateImporterSitemapEntryInput\n    const { data } = await importerClient.mutate({\n      mutation: gql`\n        mutation CreateSitemap($input: CreateImporterSitemapEntryInput!) {\n          sitemap: createImporterSitemapEntry(input: $input) {\n            ...SitemapBaseAttrs\n          }\n        }\n        ${ SitemapBaseAttrs }\n      `,\n      variables: { input }\n    }).catch(err => this.commit(cmd.PUT_NOTICE, err));\n\n    this.commit(cmd.SET_MODELS, { sitemapModels: data.sitemap });\n    return Promise.resolve(state.sitemapModels[data.sitemap.id]);\n  },\n\n  async updateSitemap({ state }, params) {\n    // params.id = Int\n    // params.input = UpdateImporterSitemapEntryInput\n    const { data } = await importerClient.mutate({\n      mutation: gql`\n        mutation UpdateSitemap($id: Int!, $input: UpdateImporterSitemapEntryInput!) {\n          sitemap: updateImporterSitemapEntry(id: $id, input: $input) {\n            ...SitemapBaseAttrs\n            communityDelegationId\n            communityDelegationMode\n          }\n        }\n        ${ SitemapBaseAttrs }\n      `,\n      variables: params\n    }).catch(err => this.commit(cmd.PUT_NOTICE, err));\n\n    this.commit(cmd.PATCH_MODELS, { sitemapModels: data.sitemap });\n    return Promise.resolve(state.sitemapModels[params.id]);\n  },\n\n  async recountSitemap({ state }, params) {\n    // params.id = Int\n    // params.deep = Boolean\n    const { data } = await importerClient.mutate({\n      mutation: gql`\n        mutation RecountSitemap($id: Int!, $deep: Boolean=false) {\n          sitemap: recountImporterSitemapEntry(id: $id, deep: $deep) {\n            ...SitemapBaseAttrs\n            activeDocumentsCount\n            archivedDocumentsCount\n            failedDocumentsCount\n            importedDocumentsCount\n            newDocumentsCount\n          }\n        }\n        ${ SitemapBaseAttrs }\n      `,\n      variables: params\n    }).catch(err => this.commit(cmd.PUT_NOTICE, err));\n\n    this.commit(cmd.PATCH_MODELS, { sitemapModels: data.sitemap });\n    return Promise.resolve(state.sitemapModels[params.id]);\n  },\n\n  async captureSitemap({ state }, params) {\n    const { data } = await importerClient.mutate({\n      mutation: gql`\n        mutation CaptureSitemap($id: Int!) {\n          sitemap: captureImporterSitemapEntry(id: $id) {\n            ...SitemapBaseAttrs\n          }\n        }\n        ${ SitemapBaseAttrs }\n      `,\n      variables: { id: params.id }\n    }).catch(err => this.commit(cmd.PUT_NOTICE, err));\n\n    this.commit(cmd.PATCH_MODELS, { sitemapModels: data.sitemap });\n    return Promise.resolve(state.sitemapModels[params.id]);\n  },\n\n  unloadSitemap({ state }, params) {\n    const model = state.sitemapModels[params.id];\n    this.commit(cmd.SET_MODELS, {\n      sitemapModels: { id: model.id, name: model.name },\n    });\n  }\n};\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('main',[_c('section',[_c('div',{staticClass:\"m-import-manager__header\"},[_c('h1',[_vm._v(\"Project: \"+_vm._s(_vm.project.name))]),_vm._v(\" \"),(_vm.saving)?_c('res-icon',{staticClass:\"m-l-1\",attrs:{\"name\":\"more\",\"size\":\"medium\"}}):_vm._e()],1),_vm._v(\" \"),_c('form',[_c('fieldset',[_c('div',{staticClass:\"m-import-manager__fieldset\"},[_c('div',{staticClass:\"m-import-manager__fieldset__input\"},[_c('res-input',[_c('label',[_vm._v(\"Name\")]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model.lazy\",value:(_vm.mutable.name),expression:\"mutable.name\",modifiers:{\"lazy\":true}}],attrs:{\"type\":\"text\",\"placeholder\":\"Name\"},domProps:{\"value\":(_vm.mutable.name)},on:{\"change\":function($event){return _vm.$set(_vm.mutable, \"name\", $event.target.value)}}})])],1),_vm._v(\" \"),_c('div',{staticClass:\"m-import-manager__fieldset__input m-l-1\"},[(_vm.isLoaded)?_c('div',{staticClass:\"m-import-manager__actionset\"},[_c('res-button',{attrs:{\"paddingless\":\"\"},on:{\"click\":function($event){$event.preventDefault();return _vm.newParser()}}},[_c('res-icon',{attrs:{\"name\":\"add\",\"size\":\"medium\"}}),_vm._v(\" \"),_c('button',[_vm._v(\"New parser\")])],1),_vm._v(\" \"),_c('res-button',{staticClass:\"m-l-1\",attrs:{\"paddingless\":\"\"},on:{\"click\":function($event){$event.preventDefault();return _vm.editParser()}}},[_c('res-icon',{attrs:{\"name\":\"edit\",\"size\":\"medium\"}}),_vm._v(\" \"),_c('button',[_vm._v(\"Edit parser\")])],1)],1):_vm._e(),_vm._v(\" \"),_c('res-select',[_c('label',[_vm._v(\"Markup Parser\")]),_vm._v(\" \"),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.mutable.documentParserId),expression:\"mutable.documentParserId\"}],attrs:{\"name\":\"parser\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.mutable, \"documentParserId\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])}}},_vm._l((_vm.parserModelsList),function(parser){return _c('option',{key:parser.id,domProps:{\"value\":parser.id}},[_vm._v(_vm._s(parser.name))])}),0)])],1)])]),_vm._v(\" \"),_c('dl',{staticClass:\"m-import-manager__defs\"},[_c('dt',[_c('res-switch',{attrs:{\"checked\":_vm.mutable.createRedirects},on:{\"change\":function($event){_vm.mutable.createRedirects=$event.target.checked}}},[_c('input',{attrs:{\"type\":\"checkbox\"}}),_vm._v(\" \"),_c('label',[_vm._v(\"Create redirects\")])])],1),_vm._v(\" \"),_c('dd',[_vm._v(\"Create redirects for canonical URLs and AMP pages.\")]),_vm._v(\" \"),_c('dt',[_c('res-switch',{attrs:{\"checked\":_vm.mutable.createAuthors},on:{\"change\":function($event){_vm.mutable.createAuthors=$event.target.checked}}},[_c('input',{attrs:{\"type\":\"checkbox\"}}),_vm._v(\" \"),_c('label',[_vm._v(\"Create authors\")])])],1),_vm._v(\" \"),_c('dd',[_vm._v(\"Add author permissions and profiles to users with email addresses.\")]),_vm._v(\" \"),_c('dt',[_c('res-switch',{attrs:{\"checked\":_vm.mutable.enableFrontPage},on:{\"change\":function($event){_vm.mutable.enableFrontPage=$event.target.checked}}},[_c('input',{attrs:{\"type\":\"checkbox\"}}),_vm._v(\" \"),_c('label',[_vm._v(\"Add to front page\")])])],1),_vm._v(\" \"),_c('dd',[_vm._v(\"Automatically add documents to the \\\"Front Page\\\" group.\")]),_vm._v(\" \"),_c('dt',[_c('res-switch',{attrs:{\"checked\":!_vm.mutable.active},on:{\"change\":function($event){_vm.mutable.active=!$event.target.checked}}},[_c('input',{attrs:{\"type\":\"checkbox\"}}),_vm._v(\" \"),_c('label',[_vm._v(\"Disable capture\")])])],1),_vm._v(\" \"),_c('dd',[_vm._v(\"Prevents further captures from the remote site.\")])])])]),_vm._v(\" \"),_c('section',[_c('div',{staticClass:\"m-import-manager__header --split\"},[_c('h2',[_vm._v(\"Sitemaps\")]),_vm._v(\" \"),_c('res-button',{attrs:{\"paddingless\":\"\"},on:{\"click\":function($event){$event.preventDefault();return _vm.newSitemap()}}},[_c('res-icon',{attrs:{\"name\":\"add\",\"size\":\"medium\"}}),_vm._v(\" \"),_c('button',[_vm._v(\"New sitemap\")])],1)],1),_vm._v(\" \"),(_vm.isLoaded)?_c('sitemaps-table',{attrs:{\"projectId\":_vm.id,\"parentId\":null}}):_vm._e()],1)])}\nvar staticRenderFns = []\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('textarea',{staticClass:\"m-import-manager__console\",attrs:{\"readonly\":\"\"},domProps:{\"value\":_vm.currentDialog.value}}),_vm._v(\" \"),_c('footer',[_c('res-button',{attrs:{\"design\":\"secondary\"},on:{\"click\":function($event){$event.preventDefault();return _vm.close()}}},[_c('button',{attrs:{\"type\":\"button\"}},[_vm._v(\"Okay\")])])],1)])}\nvar staticRenderFns = []\nexport { render, staticRenderFns }","<template>\n  <div>\n    <div class=\"m-community-select__menu-trigger\" @click.prevent=\"toggleMenu\">\n      <div :class=\"{ 'is-open': menuOpen && hasMenu, 'm-community-select__lockup--openable': hasMenu }\" class=\"m-community-select__lockup\">\n        <div class=\"m-community-select__avatar\">\n          <img :src=\"community.faviconUrl || defaultLogoUrl\" class=\"m-community-select__icon\" />\n        </div>\n        <span class=\"m-community-select__name\">{{ community.name }}</span>\n      </div>\n    </div>\n    <community-menu\n      v-if=\"networks && networks.length\"\n      ref=\"communityMenu\"\n      :allowedRoles=\"allowedRoles\"\n      :activeMemberships=\"activeMemberships\"\n      :defaultLogoUrl=\"defaultLogoUrl\"\n      :networks=\"networks\"\n      :menuOpen=\"menuOpen\"\n      :class=\"{ 'is-active': menuOpen }\"\n      class=\"m-community-select__menu\"\n      @closeMenu=\"closeMenu\"\n    />\n  </div>\n</template>\n\n<script>\nimport { mapState } from 'vuex';\nimport groupSortNetworkMemberships from '../../group_sort_network_memberships';\nimport CommunityMenu from './components/community-menu.vue';\n\nexport default {\n  components: {\n    CommunityMenu\n  },\n  props: {\n    value: {\n      type: Number,\n    },\n    community: {\n      type: Object,\n      required: true\n    },\n    user: {\n      type: Object,\n      required: true\n    },\n    allowedRoles: {\n      type: Object,\n      required: true\n    },\n    activeMemberships: {\n      type: Array,\n      default: () => ([])\n    },\n  },\n  data() {\n    return {\n      menuOpen: false,\n    };\n  },\n  computed: {\n    ...mapState(['defaultLogoUrl']),\n    networks() {\n      return groupSortNetworkMemberships(this.activeMemberships);\n    },\n    hasMenu() {\n      // only allow community menu to open when user is a member\n      // of > 1 network OR > 1 communities within a network\n      return this.networks.length > 1 || this.networks.some(n => n.communities.length > 1);\n    },\n  },\n  watch: {\n    // External value changes internal selection state.\n    value() {\n      if (this.$refs.communityMenu) this.$refs.communityMenu.selectCommunity(this.value);\n    }\n  },\n  methods: {\n    closeMenu() {\n      this.menuOpen = false;\n    },\n    toggleMenu() {\n      this.menuOpen = !this.menuOpen;\n    }\n  }\n};\n</script>\n","/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./app-breadcrumbs.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./app-breadcrumbs.vue\"\n/* template */\nimport {render as __vue_render__, staticRenderFns as __vue_static_render_fns__} from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4e754c6e\\\",\\\"hasScoped\\\":false,\\\"optionsId\\\":\\\"0\\\",\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./app-breadcrumbs.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nimport normalizeComponent from \"!../../node_modules/vue-loader/lib/runtime/component-normalizer\"\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_render__,\n  __vue_static_render_fns__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n","/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./jobs.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./jobs.vue\"\n/* template */\nimport {render as __vue_render__, staticRenderFns as __vue_static_render_fns__} from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-d0cc459e\\\",\\\"hasScoped\\\":false,\\\"optionsId\\\":\\\"0\\\",\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./jobs.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nimport normalizeComponent from \"!../../node_modules/vue-loader/lib/runtime/component-normalizer\"\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_render__,\n  __vue_static_render_fns__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n","function HttpStatusError(message, response) {\n  Error.call(this);\n  if (typeof Error.captureStackTrace === 'function') {\n    Error.captureStackTrace(this, HttpStatusError);\n  } else {\n    this.stack = (new Error(message)).stack;\n  }\n\n  this.message = message;\n  this.response = response;\n  this.name = this.constructor.name;\n}\n\nHttpStatusError.prototype = Object.create(Error.prototype);\nHttpStatusError.prototype.constructor = HttpStatusError;\n\nexport default HttpStatusError;\n","<template>\n  <div v-show=\"loading\" :class=\"`m-app-loader m-app-loader__${animation}`\">\n    <res-icon :name=\"iconName\" size=\"large\"/>\n  </div>\n</template>\n\n<script>\nimport store from './store.js';\nimport { mapState } from 'vuex';\n\nexport default {\n  name: 'AppLoader',\n  props: {\n    iconName: {\n      type: String,\n      default: 'loading'\n    },\n    animation: {\n      type: String,\n      default: 'spin'\n    }\n  },\n  computed: {\n    ...mapState('appLoader', ['loading'])\n  },\n  created() {\n    // check to see if module is already registered before registering again\n    // because HMR re-registers this during development\n    if (!this.$store.state.appLoader) this.$store.registerModule('appLoader', store);\n  }\n};\n</script>\n","/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./app.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./app.vue\"\n/* template */\nimport {render as __vue_render__, staticRenderFns as __vue_static_render_fns__} from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-5fc9817c\\\",\\\"hasScoped\\\":false,\\\"optionsId\\\":\\\"0\\\",\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./app.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nimport normalizeComponent from \"!../node_modules/vue-loader/lib/runtime/component-normalizer\"\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_render__,\n  __vue_static_render_fns__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n","import Vue from 'vue';\nimport VueApollo from 'vue-apollo';\nimport { ApolloClient } from 'apollo-client';\nimport { HttpLink } from 'apollo-link-http';\nimport { InMemoryCache } from 'apollo-cache-inmemory';\n\nlet tower = new URL(window.location);\ntower.pathname = '/api/tower/graphql';\ntower.search = '';\n\nconst httpLink = new HttpLink({\n  uri: tower.toString(),\n  credentials: 'include'\n});\n\nexport const towerClient = new ApolloClient({\n  link: httpLink,\n  cache: new InMemoryCache(),\n  connectToDevTools: true,\n  shouldBatch: true,\n});\n\nVue.use(VueApollo);\n\nexport const apolloProvider = new VueApollo({\n  defaultClient: towerClient,\n});\n\nlet importer = new URL(window.location);\nimporter.pathname = '/api/chorus-import-manager/graphql';\nimporter.search = '';\n\nexport const importerClient = new ApolloClient({\n  link: new HttpLink({\n    uri: importer.toString(),\n    credentials: 'include'\n  }),\n  cache: new InMemoryCache(),\n  connectToDevTools: true,\n  defaultOptions: {\n    watchQuery: { fetchPolicy: 'network-only' },\n    query: { fetchPolicy: 'network-only' },\n  }\n});\n","<template>\n  <div class=\"m-import-manager__table\">\n    <res-table zebra=\"true\" class=\"m-dashboard__table\">\n      <table>\n        <thead>\n          <tr>\n            <th>Name</th>\n            <th>{{ (results[0] || {}).allowsCrawling ? 'Crawler' : 'Status' }}</th>\n            <th>Documents</th>\n            <th>Imported</th>\n            <th>Failed</th>\n            <th>New</th>\n            <th>Archived</th>\n            <th>Fetched</th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr v-for=\"sitemap in results\" :key=\"sitemap.id\">\n            <td><router-link :to=\"routeTo('sitemap', sitemap.id)\">{{ sitemap.name }}</router-link></td>\n            <td>\n              <a v-if=\"sitemap.queued\" title=\"QUEUED\">\n                <res-icon name=\"clock\" size=\"medium\" />\n              </a>\n              <a v-if=\"sitemap.allowsCrawling\" :title=\"sitemap.crawler ? sitemap.crawler.status : 'UNCRAWLED'\">\n                <res-icon :name=\"crawlerIconName(sitemap)\" :key=\"crawlerIconName(sitemap)\" size=\"medium\" />\n              </a>\n              <a v-else :title=\"sitemap.status\">\n                <res-icon :name=\"statusIconName(sitemap.status)\" :key=\"statusIconName(sitemap.status)\" :class=\"sitemap.status.toLowerCase()\" size=\"medium\" />\n              </a>\n              <span v-if=\"sitemap.allowsCrawling && sitemap.crawler\">{{ sitemap.crawler.percentComplete }}%</span>\n            </td>\n            <td>{{ formatNumber(sitemap.activeDocumentsCount) }}</td>\n            <td>{{ formatNumber(sitemap.importedDocumentsCount) }}</td>\n            <td>{{ formatNumber(sitemap.failedDocumentsCount) }}</td>\n            <td>{{ formatNumber(sitemap.newDocumentsCount) }}</td>\n            <td>{{ formatNumber(sitemap.archivedDocumentsCount) }}</td>\n            <td :data-convert-to-relative=\"sitemap.fetchedAt\">{{ sitemap.fetchedAt ? formatDateTime(sitemap.fetchedAt) : 'N/A' }}</td>\n          </tr>\n        </tbody>\n      </table>\n    </res-table>\n    <footer>\n      <span v-if=\"loaded\">Found {{ formatNumber(totalCount) }} results</span>\n      <res-pagination\n        :page=\"page\"\n        :count=\"totalCount\"\n        :display=\"perPage\"\n        indicator=\"page\"\n        pagination=\"text-only\"\n        navigation=\"text\"\n        @change=\"page=$event.target.page\"\n      />\n    </footer>\n  </div>\n</template>\n\n<script>\nimport gql from 'graphql-tag';\nimport { mapGetters } from 'vuex';\nimport { formatDateTime, formatNumber, stripURIHost, entryStatusIcons, crawlerIcons } from '../lib/formatting';\nimport Routing from './mixins/routing';\n\nexport default {\n  mixins: [Routing],\n  props: {\n    version: {\n      type: Number,\n      default: null\n    },\n    parentId: {\n      type: Number,\n      default: null\n    },\n    projectId: {\n      type: Number,\n      default: null\n    },\n    status: {\n      type: String,\n      default: null\n    }\n  },\n  data() {\n    return {\n      loaded: false,\n      page: 1,\n      perPage: 25,\n      results: [],\n      totalCount: 0,\n    };\n  },\n  computed: {\n    ...mapGetters([\n      'sitemapModelsList',\n    ])\n  },\n  watch: {\n    version() {\n      this.$apollo.queries.results.refetch();\n    },\n    sitemapModelsList(current, previous) {\n      if (current.length !== previous.length) {\n        this.$apollo.queries.results.refetch();\n      }\n    }\n  },\n  methods: {\n    formatDateTime,\n    formatNumber,\n    stripURIHost,\n    statusIconName(status) {\n      return entryStatusIcons[status] || entryStatusIcons.CREATED;\n    },\n    crawlerIconName(sitemap) {\n      if (!sitemap.crawler) return crawlerIcons.NOT_CRAWLED;\n      return crawlerIcons[sitemap.crawler.status] || crawlerIcons.NOT_CRAWLED;\n    }\n  },\n  apollo: {\n    results: {\n      client: 'importer',\n      query: gql`\n        query SearchSitemaps($input: SearchImporterSitemapEntriesInput!) {\n          search: searchImporterSitemapEntries(input: $input) {\n            pageNumber\n            results {\n              activeDocumentsCount\n              allowsCrawling\n              archivedDocumentsCount\n              crawler {\n                id\n                percentComplete\n                status\n              }\n              failedDocumentsCount\n              importedDocumentsCount\n              fetchedAt\n              id\n              name\n              newDocumentsCount\n              queued\n              status\n              url\n            }\n            totalCount\n          }\n        }\n      `,\n      variables() {\n        const input = {\n          pageNumber: this.page,\n          parentId: this.parentId,\n          perPage: this.perPage,\n        };\n\n        if (this.projectId !== null) input.projectId = this.projectId;\n        if (this.status !== null) input.status = this.status;\n        return { input };\n      },\n      update(data) {\n        this.loaded = true;\n        this.page = data.search.pageNumber;\n        this.totalCount = data.search.totalCount;\n        const results = data.search.results;\n        return results;\n      }\n    }\n  }\n};\n</script>\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',[(_vm.$slots.default || _vm.label)?_c('div',{staticClass:\"m-import-manager__header\"},[_vm._t(\"default\",[_c('h1',[_vm._v(_vm._s(_vm.label))])]),_vm._v(\" \"),(_vm.collapsable)?_c('res-button',{staticClass:\"m-l-1\",attrs:{\"paddingless\":\"\"},on:{\"click\":function($event){$event.preventDefault();_vm.searchActive = !_vm.searchActive}}},[_c('button',[_vm._v(\"Search\")]),_vm._v(\" \"),_c('res-icon',{attrs:{\"name\":_vm.searchActive ? 'minus' : 'add',\"size\":\"large\"}})],1):_vm._e()],2):_vm._e(),_vm._v(\" \"),(_vm.searchActive)?_c('form',{staticClass:\"m-import-manager__fieldset\",on:{\"submit\":function($event){$event.preventDefault();}}},[_c('res-select',[_c('label',[_vm._v(\"Filter\")]),_vm._v(\" \"),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.filterSelection),expression:\"filterSelection\"}],on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.filterSelection=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},_vm._l((_vm.filterOptions),function(value,label){return _c('option',{key:label,domProps:{\"value\":label}},[_vm._v(_vm._s(label))])}),0)])],1):_vm._e(),_vm._v(\" \"),_c('sitemaps-table',{attrs:{\"parentId\":_vm.parentId,\"projectId\":_vm.projectId,\"status\":_vm.filters.status,\"version\":_vm.version}})],1)}\nvar staticRenderFns = []\nexport { render, staticRenderFns }","<template>\n  <div>\n    <res-banner\n      v-for=\"notice in notifications\"\n      :key=\"notice.id\"\n      :design=\"designForNotice(notice)\"\n      :timeout=\"notice.type === 'success'\"\n      inert\n      @close=\"deleteNotice(notice)\"\n    >\n      <res-icon v-if=\"notice.type === 'success'\" name=\"check\" />\n      <span><strong v-if=\"notice.count > 1\">({{ notice.count }})</strong> {{ notice.message }}</span>\n    </res-banner>\n  </div>\n</template>\n\n<script>\nimport { DELETE_NOTICE } from '../store/commands';\nimport { mapState } from 'vuex';\n\nconst notificationDesign = {\n  error: 'negative',\n  success: 'positive',\n};\n\nexport default {\n  computed: {\n    ...mapState([\n      'notifications',\n    ])\n  },\n  methods: {\n    deleteNotice(notice) {\n      this.$store.commit(DELETE_NOTICE, notice.id);\n    },\n    designForNotice(notice) {\n      return notificationDesign[notice.type] || 'neutral';\n    },\n  }\n};\n</script>\n","export const SET_CONTEXT = 'setContext';\nexport const ACTIVE_MEMBERSHIPS = 'activeMemberships';\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',_vm._l((_vm.notifications),function(notice){return _c('res-banner',{key:notice.id,attrs:{\"design\":_vm.designForNotice(notice),\"timeout\":notice.type === 'success',\"inert\":\"\"},on:{\"close\":function($event){return _vm.deleteNotice(notice)}}},[(notice.type === 'success')?_c('res-icon',{attrs:{\"name\":\"check\"}}):_vm._e(),_vm._v(\" \"),_c('span',[(notice.count > 1)?_c('strong',[_vm._v(\"(\"+_vm._s(notice.count)+\")\")]):_vm._e(),_vm._v(\" \"+_vm._s(notice.message))])],1)}),1)}\nvar staticRenderFns = []\nexport { render, staticRenderFns }","module.exports = function wait(howLong) {\n  return new Promise(function(resolve) {\n    setTimeout(resolve, howLong);\n  });\n};\n","<template>\n  <main>\n    <app-breadcrumbs :project=\"project\" :sitemap=\"sitemap\"/>\n\n    <section>\n      <div class=\"m-import-manager__header\">\n        <h1>Sitemap <span v-if=\"isLoaded\">{{ isIndex ? 'Index' : 'Urlset' }}: {{ sitemap.name }}</span></h1>\n        <res-icon v-if=\"saving\" class=\"m-l-1\" name=\"more\" size=\"medium\" />\n      </div>\n      <div class=\"m-import-manager__fieldset\">\n        <div class=\"m-import-manager__fieldset__input\">\n          <res-input>\n            <label>Name</label>\n            <input v-model.lazy=\"mutable.name\" type=\"text\" placeholder=\"Name\" />\n          </res-input>\n        </div>\n        <div v-if=\"communityOptions\" class=\"m-import-manager__fieldset__input m-l-1\">\n          <res-select>\n            <label>Community Selection</label>\n            <select v-model=\"communityMode\">\n              <option v-for=\"(opt, index) in communityOptions\" :key=\"index\" :value=\"opt.value\">{{ opt.label }}</option>\n            </select>\n          </res-select>\n        </div>\n      </div>\n\n      <res-button paddingless class=\"m-b-1 m-t-1\" @click.prevent=\"advanced = !advanced\">\n        <button>Advanced</button> <res-icon :name=\"advanced ? 'minus' : 'add'\" size=\"large\" />\n      </res-button>\n      <div v-if=\"advanced\">\n        <res-input>\n          <label>Exclude URLs\n            <res-button id=\"exclude-urls-tooltip\" paddingless @click.prevent>\n              <res-icon size=\"small\" name=\"tooltip\"/><button/>\n            </res-button>\n            <res-dropdown for=\"exclude-urls-tooltip\" placement=\"top\" design=\"dark\">URLs that should be ignored<br /> while processing this sitemap.</res-dropdown>\n          </label>\n          <textarea v-model.lazy=\"mutable.blacklistUrls\" placeholder=\"URLs, one per line...\" />\n        </res-input>\n      </div>\n    </section>\n\n    <section>\n      <div class=\"m-import-manager__header\">\n        <h2>Details</h2>\n      </div>\n      <crawler-status :id=\"sitemap.currentCrawlerId\" :crawlable=\"sitemap.allowsCrawling\" :sitemapId=\"id\"/>\n      <dl class=\"m-import-manager__defs\">\n        <dt>Status</dt>\n        <dd>\n          <span><res-icon :name=\"statusIcon\" size=\"medium\" /> {{ sitemap.status }}</span>\n        </dd>\n        <dt>URL</dt>\n        <dd><a :href=\"sitemap.url\" target=\"_blank\">{{ sitemap.url }}</a></dd>\n        <dt>Last fetched</dt>\n        <dd>{{ sitemap.fetchedAt ? formatDateTime(sitemap.fetchedAt) : 'N/A' }}</dd>\n        <dt v-if=\"sitemap.error\">Error</dt>\n        <dd v-if=\"sitemap.error\">{{ sitemap.error }}: {{ sitemap.errorMessage }}</dd>\n      </dl>\n    </section>\n\n    <sitemaps-search v-if=\"isIndex\" :parentId=\"id\" :collapsable=\"true\" :version=\"lastFetch\">\n      <h2>Urlsets</h2>\n    </sitemaps-search>\n    <documents-search\n      v-if=\"isUrlset\"\n      :sitemapEntryId=\"id\"\n      :communityScopeId=\"communityScopeId\"\n      :collapsable=\"true\"\n      :version=\"lastFetch\"\n    >\n      <h2>Documents</h2>\n    </documents-search>\n  </main>\n</template>\n\n<script>\nimport Polling from '../components/mixins/polling';\nimport { mapActions } from 'vuex';\nimport { formatDateTime, entryStatusIcons } from '../lib/formatting';\nimport { formatMutable, mutableHasChanged, compactMutable } from '../lib/utils';\nimport { sitemapDefault, projectDefault } from '../store/models/defaults';\nimport AppBreadcrumbs from '../components/app-breadcrumbs.vue';\nimport CrawlerStatus from '../components/crawler-status.vue';\nimport DocumentsSearch from '../components/documents-search.vue';\nimport SitemapsSearch from '../components/sitemaps-search.vue';\n\nconst mutableSchema = {\n  blacklistUrls: '',\n  communityDelegationId: null,\n  communityDelegationMode: null,\n  name: '',\n};\n\nexport default {\n  components: {\n    AppBreadcrumbs,\n    CrawlerStatus,\n    DocumentsSearch,\n    SitemapsSearch,\n  },\n  mixins: [Polling],\n  props: {\n    id: { type: Number, required: true }\n  },\n  data() {\n    return {\n      advanced: false,\n      lastFetch: null,\n      mutable: formatMutable(mutableSchema),\n      saving: false,\n    };\n  },\n  computed: {\n    sitemap() {\n      return this.$store.state.sitemapModels[this.id] || sitemapDefault;\n    },\n    parent() {\n      return this.$store.state.sitemapModels[this.sitemap.parentId] || sitemapDefault;\n    },\n    project() {\n      return this.$store.state.projectModels[this.sitemap.projectId] || projectDefault;\n    },\n    communityDelegation() {\n      return this.$store.state.communityModels[this.mutable.communityDelegationId] || null;\n    },\n    isLoaded() {\n      return !!this.sitemap.id;\n    },\n    isRoot() {\n      return this.isLoaded && !this.parent.id;\n    },\n    isIndex() {\n      return this.isRoot && this.sitemap.type !== 'SITEMAP_URLSET';\n    },\n    isUrlset() {\n      return this.isLoaded && this.sitemap.type === 'SITEMAP_URLSET';\n    },\n    isChanged() {\n      return this.isLoaded && mutableHasChanged(this.mutable, this.sitemap);\n    },\n    statusIcon() {\n      return entryStatusIcons[this.sitemap.status] || entryStatusIcons.CREATED;\n    },\n    communityScopeId() {\n      if (this.communityDelegation) {\n        return this.communityDelegation.constituentCommunityId;\n      } else if (this.mutable.communityDelegationMode === 'AUTO_DELEGATION') {\n        return this.$store.state.currentCommunity.id;\n      }\n      return null;\n    },\n    communityOptions() {\n      const delegations = this.$store.getters.communityDelegationsList;\n      if (!delegations.length) return null;\n      return [\n        {\n          value: 'URL_DELEGATION',\n          label: 'Import into URL-matched community'\n        },\n        {\n          value: 'AUTO_DELEGATION',\n          label: `Import into ${ this.$store.state.currentCommunity.name }`\n        }\n      ].concat(delegations.map(d => ({\n        value: `AUTO_DELEGATION:${ d.id }`,\n        label: `Import into ${ d.name }`\n      })));\n    },\n    communityMode: {\n      get() {\n        const fields = [this.mutable.communityDelegationMode];\n        if (this.mutable.communityDelegationId) {\n          fields.push(this.mutable.communityDelegationId);\n        }\n        return fields.join(':');\n      },\n      set(val) {\n        const fields = val.split(':');\n        this.mutable = Object.assign({}, this.mutable, {\n          communityDelegationMode: fields[0],\n          communityDelegationId: fields[1] ? Number(fields[1]) : null\n        });\n      }\n    }\n  },\n  mounted() {\n    this.startImmediatePolling(() => {\n      this.lastFetch = Date.now();\n      this.fetchSitemap({ id: this.id, detail: true })\n        .then(sitemap => this.mutable = formatMutable(mutableSchema, sitemap));\n    }, 15000);\n\n    for (let field of Object.keys(mutableSchema)) {\n      this.$watch(`mutable.${field}`, this.save);\n    }\n  },\n  destroyed() {\n    if (!this.isRoot) {\n      this.unloadSitemap({ id: this.id });\n    }\n  },\n  methods: {\n    ...mapActions([\n      'fetchSitemap',\n      'unloadSitemap',\n      'updateSitemap',\n    ]),\n    formatDateTime,\n    save() {\n      if (this.isChanged && !this.saving) {\n        this.saving = true;\n        this.updateSitemap({ id: this.id, input: compactMutable(mutableSchema, this.mutable) })\n          .then(sitemap => {\n            this.saving = false;\n            this.mutable = formatMutable(mutableSchema, sitemap);\n            this.lastFetch = Date.now();\n          });\n      }\n    }\n  }\n};\n</script>\n","export default {\n  data() {\n    return {\n      _pollId: null,\n    };\n  },\n  methods: {\n    startPolling(handler, interval) {\n      this.stopPolling();\n      this._pollId = setInterval(handler, interval);\n    },\n    startImmediatePolling(handler, interval) {\n      this.startPolling(handler, interval);\n      handler();\n    },\n    stopPolling() {\n      if (this._pollId) {\n        clearInterval(this._pollId);\n        this._pollId = null;\n      }\n    }\n  },\n  beforeDestroy() {\n    this.stopPolling();\n  }\n};\n","import gql from 'graphql-tag';\nimport * as cmd from '../commands';\nimport { importerClient } from '../../../shared/vue/lib/apollo_client';\n\nexport default {\n  async createCommunityDelegation(store, input) {\n    const { data } = await importerClient.mutate({\n      mutation: gql`\n        mutation CreateCommunityDelegation($input: CreateImporterCommunityDelegationInput!) {\n          delegation: createImporterCommunityDelegation(input: $input) {\n            constituentCommunityId\n            delegateCommunityId\n            id\n            name\n            urlMatcher\n          }\n        }\n      `,\n      variables: { input }\n    }).catch(err => this.commit(cmd.PUT_NOTICE, err));\n\n    return Promise.resolve(data.delegation);\n  },\n\n  async updateCommunityDelegation(store, params) {\n    // params.id = Int\n    // params.input = UpdateImporterCommunityDelegationInput\n    const { data } = await importerClient.mutate({\n      mutation: gql`\n        mutation UpdateCommunityDelegation($id: Int!, $input: UpdateImporterCommunityDelegationInput!) {\n          delegation: updateImporterCommunityDelegation(id: $id, input: $input) {\n            constituentCommunityId\n            delegateCommunityId\n            id\n            name\n            urlMatcher\n          }\n        }\n      `,\n      variables: params\n    }).catch(err => this.commit(cmd.PUT_NOTICE, err));\n\n    return Promise.resolve(data.delegation);\n  },\n\n  async lookupCommunityDelegate(store, communityId) {\n    const { data } = await importerClient.query({\n      query: gql`\n        query LookupCommunityDelegate($id: Int!) {\n          delegateId: importerLookupCommunityDelegate(constituentId: $id)\n        }\n      `,\n      variables: { id: communityId }\n    }).catch(err => this.commit(cmd.PUT_NOTICE, err));\n\n    return Promise.resolve(data.delegateId);\n  }\n};\n","export default {\n  captureModelsList(state) {\n    return Object.values(state.captureModels);\n  },\n  documentModelsList(state) {\n    return Object.values(state.documentModels);\n  },\n  communityDelegationsList(state) {\n    return Object.values(state.communityModels);\n  },\n  communityNameById(state) {\n    return Object.values(state.communityModels).reduce((memo, model) => {\n      memo[model.constituentCommunityId] = model.name;\n      return memo;\n    }, { [state.currentCommunity.id]: state.currentCommunity.name });\n  },\n  parserModelsList(state) {\n    return Object.values(state.parserModels).sort((a, b) => String(a.name).localeCompare(b.name));\n  },\n  placeholderModelsList(state) {\n    return Object.values(state.placeholderModels);\n  },\n  projectModelsList(state) {\n    return Object.values(state.projectModels).sort((a, b) => String(a.name).localeCompare(b.name));\n  },\n  sitemapModelsList(state) {\n    return Object.values(state.sitemapModels).sort((a, b) => String(a.name).localeCompare(b.name));\n  }\n};\n","<template>\n  <main>\n    <div class=\"m-import-manager__header --split\">\n      <h1>Imported {{ type }} identities</h1>\n      <res-button paddingless @click.prevent=\"newIdentity()\">\n        <res-icon name=\"add\" size=\"medium\" /> <button>New identity</button>\n      </res-button>\n    </div>\n\n    <form class=\"m-import-manager__fieldset\" @submit.prevent>\n      <res-input>\n        <label>Search</label>\n        <input v-model.lazy=\"identity\" type=\"text\" placeholder=\"Search...\" />\n        <res-icon slot=\"inner-right\" name=\"search\" />\n      </res-input>\n    </form>\n\n    <div class=\"m-import-manager__table\">\n      <res-table zebra=\"true\" class=\"m-dashboard__table\">\n        <table>\n          <thead>\n            <tr>\n              <th>Identity</th>\n              <th>Chorus ID</th>\n              <th colspan=\"2\">Community ID</th>\n            </tr>\n          </thead>\n          <tbody>\n            <identities-row v-for=\"result in results\" :key=\"result.id\" :model=\"result\"/>\n          </tbody>\n        </table>\n      </res-table>\n      <footer>\n        <span v-if=\"loaded\">\n          Found {{ formatNumber(totalCount) }} results\n        </span>\n        <res-pagination\n          :page=\"page\"\n          :count=\"totalCount\"\n          :display=\"perPage\"\n          indicator=\"page\"\n          pagination=\"text-only\"\n          navigation=\"text\"\n          @change=\"page=$event.target.page\"\n        />\n      </footer>\n    </div>\n  </main>\n</template>\n\n<script>\nimport gql from 'graphql-tag';\nimport { mapState, mapActions } from 'vuex';\nimport { formatNumber } from '../lib/formatting';\nimport IdentitiesRow from '../components/tables/identities-row.vue';\n\nconst createForm = {\n  fields: {\n    identity: {\n      label: 'Identity',\n      type: 'text'\n    },\n    chorusId: {\n      label: 'Chorus ID',\n      type: 'number'\n    }\n  },\n  submit: 'Create Identity'\n};\n\nexport default {\n  components: {\n    IdentitiesRow\n  },\n  props: {\n    type: { type: String, required: true }\n  },\n  data() {\n    return {\n      loaded: false,\n      identity: '',\n      page: 1,\n      perPage: 25,\n      results: [],\n      totalCount: 0,\n    };\n  },\n  computed: {\n    ...mapState([\n      'currentCommunity'\n    ]),\n    apiType() {\n      return `${ this.type.toUpperCase() }_IDENTITY`;\n    }\n  },\n  methods: {\n    ...mapActions([\n      'createIdentity',\n      'setDialog',\n    ]),\n    formatNumber,\n    newIdentity() {\n      this.setDialog({ tag: 'input-form', form: createForm })\n        .then(async (data) => {\n          if (!data.identity || !data.chorusId) return;\n          await this.createIdentity({\n            communityId: this.currentCommunity.id,\n            identity: data.identity,\n            chorusId: Number(data.chorusId),\n            type: this.apiType,\n          });\n          this.$apollo.queries.results.refresh();\n        });\n    }\n  },\n  apollo: {\n    results: {\n      client: 'importer',\n      query: gql`\n        query SearchIdentities($input: SearchImporterMappedIdentitiesInput!) {\n          search: searchImporterMappedIdentities(input: $input) {\n            pageNumber\n            results {\n              id\n              identity\n              communityId\n              chorusId\n              type\n            }\n            totalCount\n          }\n        }\n      `,\n      variables() {\n        return {\n          input: {\n            communityId: this.currentCommunity.id,\n            identity: this.identity || undefined,\n            pageNumber: this.page,\n            perPage: this.perPage,\n            type: this.apiType,\n          }\n        };\n      },\n      update(data) {\n        this.loaded = true;\n        this.page = data.search.pageNumber;\n        this.totalCount = data.search.totalCount;\n        return data.search.results;\n      }\n    }\n  }\n};\n</script>\n","import gql from 'graphql-tag';\nimport * as cmd from '../commands';\nimport { importerClient } from '../../../shared/vue/lib/apollo_client';\n\nconst JobBaseAttrs = gql`\n  fragment JobBaseAttrs on ImporterDocumentJob {\n    createdAt\n    documentsTotal\n    documentsComplete\n    finishAt\n    id\n    jobId\n    lastDocumentId\n    percentComplete\n    searchJson\n    status\n    startAt\n    task\n  }\n`;\n\nexport default {\n  async fetchJobTasks({ state }) {\n    if (!state.documentJobTasks) {\n      const { data } = await importerClient.query({\n        query: gql`\n          query FetchJobTasks($communityId: Int!) {\n            tasks: importerDocumentJobTasks(communityId: $communityId)\n          }\n        `,\n        variables: {\n          communityId: state.currentCommunity.id\n        }\n      }).catch(err => this.commit(cmd.PUT_NOTICE, err));\n\n      this.commit(cmd.SET_TASKS, data.tasks);\n    }\n    return Promise.resolve(state.documentJobTasks);\n  },\n\n  async fetchJobs({ state }) {\n    const { data } = await importerClient.query({\n      query: gql`\n        query FetchJobs($communityId: Int!) {\n          jobs: importerDocumentJobs(communityId: $communityId) {\n            ...JobBaseAttrs\n            errorMessage\n          }\n        }\n        ${ JobBaseAttrs }\n      `,\n      variables: {\n        communityId: state.currentCommunity.id\n      }\n    }).catch(err => this.commit(cmd.PUT_NOTICE, err));\n\n    this.commit(cmd.SET_MODELS, { jobModels: data.jobs });\n    return Promise.resolve();\n  },\n\n  async createJob(store, input) {\n    const { data } = await importerClient.mutate({\n      mutation: gql`\n        mutation CreateJob($input: CreateImporterDocumentJobInput!) {\n          jobs: createImporterDocumentJob(input: $input) {\n            ...JobBaseAttrs\n          }\n        }\n        ${ JobBaseAttrs }\n      `,\n      variables: { input }\n    }).catch(err => this.commit(cmd.PUT_NOTICE, err));\n\n    this.commit(cmd.SET_MODELS, { jobModels: data.jobs });\n    return Promise.resolve(data.jobs[0].jobId);\n  },\n\n  async cancelJob(store, ref) {\n    const { data } = await importerClient.mutate({\n      mutation: gql`\n        mutation CancelJob($id: ID!) {\n          jobs: cancelImporterDocumentJob(id: $id) {\n            ...JobBaseAttrs\n          }\n        }\n        ${ JobBaseAttrs }\n      `,\n      variables: {\n        id: String(ref)\n      }\n    }).catch(err => this.commit(cmd.PUT_NOTICE, err));\n\n    this.commit(cmd.PATCH_MODELS, { jobModels: data.jobs });\n    return Promise.resolve();\n  },\n\n  async resumeJob(store, ref) {\n    const { data } = await importerClient.mutate({\n      mutation: gql`\n        mutation ResumeJob($id: ID!) {\n          jobs: resumeImporterDocumentJob(id: $id) {\n            ...JobBaseAttrs\n          }\n        }\n        ${ JobBaseAttrs }\n      `,\n      variables: {\n        id: String(ref)\n      }\n    }).catch(err => this.commit(cmd.PUT_NOTICE, err));\n\n    this.commit(cmd.PATCH_MODELS, { jobModels: data.jobs });\n    return Promise.resolve();\n  },\n\n  async deleteJob(store, ref) {\n    const { data } = await importerClient.mutate({\n      mutation: gql`\n        mutation DeleteJob($id: ID!) {\n          jobs: deleteImporterDocumentJob(id: $id) {\n            id\n          }\n        }\n      `,\n      variables: {\n        id: String(ref)\n      }\n    }).catch(err => this.commit(cmd.PUT_NOTICE, err));\n\n    this.commit(cmd.DELETE_MODELS, { jobModels: data.jobs });\n    return Promise.resolve();\n  }\n};\n","/**\n* Merges data into a schema of allowlisted keys, creating a new object.\n* builds an object with keys of the first (schema) combined with values of the second (data).\n* @param schema Object. A schema of keys to build, with values set to EMPTY defaults.\n* @param data Object. A set of data to apply. Schema will be filled in with values from this object.\n*/\nexport function schemaMerge(schema, data) {\n  return Object.keys(schema).reduce((memo, key) => {\n    memo[key] = data.hasOwnProperty(key) ? data[key] : schema[key];\n    return memo;\n  }, {});\n}\n\n/**\n* Filters a blob of data down to allowlisted fields.\n* builds an object with values of the second (data) for keys in the first (schema).\n*/\nexport function schemaFilter(schema, data) {\n  return Object.keys(schema).reduce((memo, key) => {\n    if (data.hasOwnProperty(key)) memo[key] = data[key];\n    return memo;\n  }, {});\n}\n\n/**\n* Resolves an object from a deeply-nested structure by namespace string.\n* Namespace is a dot-notation string of fields to follow through data.\n*/\nexport function resolveObject(data, ns) {\n  const path = ns.split('.');\n  let obj = data;\n\n  for (let p of path) {\n    obj = obj[p];\n    if (!obj) break;\n  }\n  return obj || null;\n}\n\n/**\n * @param {number} fn - function to debounce.\n * @param {number} delay - milliseconds to wait after last call before running.\n * @param {number} delay - function invocation context.\n * @return {Function} debounced function that will only run after it has stopped being called.\n */\nexport function debounce(fn, delay=0, options={}) {\n  let timer;\n  return function() {\n    const callTarget = options.context || this;\n    const callArgs = arguments;\n    clearTimeout(timer);\n    if (options.immediate && !timer) fn.apply(callTarget, callArgs);\n    timer = setTimeout(function() {\n      fn.apply(callTarget, callArgs);\n      timer = null;\n    }, delay);\n  };\n}\n\nconst empty = [undefined, null, ''];\n\nexport function formatMutable(schema, data={}) {\n  return Object.keys(schema).reduce((memo, key) => {\n    memo[key] = !empty.includes(data[key]) ? data[key] : '';\n    return memo;\n  }, {});\n}\n\nexport function compactMutable(schema, data) {\n  return Object.keys(schema).reduce((memo, key) => {\n    if (!data.hasOwnProperty(key)) return memo;\n    memo[key] = empty.includes(data[key]) ? schema[key] : data[key];\n    return memo;\n  }, {});\n}\n\nexport function mutableHasChanged(mutable, source) {\n  return Object.keys(mutable).some(key => {\n    const emptied = source[key] && empty.includes(mutable[key]);\n    const filled = mutable[key] !== source[key] && !empty.includes(mutable[key]);\n    return emptied || filled;\n  });\n}\n","\n    var doc = {\"kind\":\"Document\",\"definitions\":[{\"kind\":\"OperationDefinition\",\"operation\":\"query\",\"name\":{\"kind\":\"Name\",\"value\":\"CurrentCommunity\"},\"variableDefinitions\":[{\"kind\":\"VariableDefinition\",\"variable\":{\"kind\":\"Variable\",\"name\":{\"kind\":\"Name\",\"value\":\"id\"}},\"type\":{\"kind\":\"NonNullType\",\"type\":{\"kind\":\"NamedType\",\"name\":{\"kind\":\"Name\",\"value\":\"Int\"}}}}],\"directives\":[],\"selectionSet\":{\"kind\":\"SelectionSet\",\"selections\":[{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"community\"},\"arguments\":[{\"kind\":\"Argument\",\"name\":{\"kind\":\"Name\",\"value\":\"id\"},\"value\":{\"kind\":\"Variable\",\"name\":{\"kind\":\"Name\",\"value\":\"id\"}}}],\"directives\":[],\"selectionSet\":{\"kind\":\"SelectionSet\",\"selections\":[{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"id\"},\"arguments\":[],\"directives\":[]},{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"name\"},\"arguments\":[],\"directives\":[]},{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"slug\"},\"arguments\":[],\"directives\":[]},{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"url\"},\"arguments\":[],\"directives\":[]},{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"domain\"},\"arguments\":[],\"directives\":[]},{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"schemaDomain\"},\"arguments\":[],\"directives\":[]},{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"faviconUrl\"},\"arguments\":[],\"directives\":[]},{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"timeZone\"},\"arguments\":[],\"directives\":[]},{\"kind\":\"Field\",\"alias\":{\"kind\":\"Name\",\"value\":\"featuresEnabled\"},\"name\":{\"kind\":\"Name\",\"value\":\"siteConfigBoolean\"},\"arguments\":[{\"kind\":\"Argument\",\"name\":{\"kind\":\"Name\",\"value\":\"key\"},\"value\":{\"kind\":\"StringValue\",\"value\":\"features_enabled\",\"block\":false}}],\"directives\":[]},{\"kind\":\"Field\",\"alias\":{\"kind\":\"Name\",\"value\":\"printSlugEnabled\"},\"name\":{\"kind\":\"Name\",\"value\":\"siteConfigBoolean\"},\"arguments\":[{\"kind\":\"Argument\",\"name\":{\"kind\":\"Name\",\"value\":\"key\"},\"value\":{\"kind\":\"StringValue\",\"value\":\"print_slug_enabled\",\"block\":false}}],\"directives\":[]},{\"kind\":\"Field\",\"alias\":{\"kind\":\"Name\",\"value\":\"svgLogo\"},\"name\":{\"kind\":\"Name\",\"value\":\"siteConfigString\"},\"arguments\":[{\"kind\":\"Argument\",\"name\":{\"kind\":\"Name\",\"value\":\"key\"},\"value\":{\"kind\":\"StringValue\",\"value\":\"svg_small_mark_full_color\",\"block\":false}}],\"directives\":[]},{\"kind\":\"Field\",\"alias\":{\"kind\":\"Name\",\"value\":\"hasImagePlaceholder\"},\"name\":{\"kind\":\"Name\",\"value\":\"hasSiteConfig\"},\"arguments\":[{\"kind\":\"Argument\",\"name\":{\"kind\":\"Name\",\"value\":\"key\"},\"value\":{\"kind\":\"StringValue\",\"value\":\"replacement_image_url\",\"block\":false}},{\"kind\":\"Argument\",\"name\":{\"kind\":\"Name\",\"value\":\"type\"},\"value\":{\"kind\":\"StringValue\",\"value\":\"string\",\"block\":false}}],\"directives\":[]},{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"network\"},\"arguments\":[],\"directives\":[],\"selectionSet\":{\"kind\":\"SelectionSet\",\"selections\":[{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"id\"},\"arguments\":[],\"directives\":[]},{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"name\"},\"arguments\":[],\"directives\":[]},{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"slug\"},\"arguments\":[],\"directives\":[]},{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"schemaDomain\"},\"arguments\":[],\"directives\":[]},{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"organization\"},\"arguments\":[],\"directives\":[],\"selectionSet\":{\"kind\":\"SelectionSet\",\"selections\":[{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"id\"},\"arguments\":[],\"directives\":[]},{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"slug\"},\"arguments\":[],\"directives\":[]}]}}]}}]}}]}}],\"loc\":{\"start\":0,\"end\":557}};\n    doc.loc.source = {\"body\":\"query CurrentCommunity($id: Int!) {\\n  community(id: $id) {\\n    id\\n    name\\n    slug\\n    url\\n    domain\\n    schemaDomain\\n    faviconUrl\\n    timeZone\\n    featuresEnabled: siteConfigBoolean(key: \\\"features_enabled\\\")\\n    printSlugEnabled: siteConfigBoolean(key: \\\"print_slug_enabled\\\")\\n    svgLogo: siteConfigString(key: \\\"svg_small_mark_full_color\\\")\\n    hasImagePlaceholder: hasSiteConfig(key: \\\"replacement_image_url\\\", type: \\\"string\\\")\\n    network {\\n      id\\n      name\\n      slug\\n      schemaDomain\\n      organization {\\n        id\\n        slug\\n      }\\n    }\\n  }\\n}\\n\",\"name\":\"GraphQL request\",\"locationOffset\":{\"line\":1,\"column\":1}};\n  \n\n    var names = {};\n    function unique(defs) {\n      return defs.filter(\n        function(def) {\n          if (def.kind !== 'FragmentDefinition') return true;\n          var name = def.name.value\n          if (names[name]) {\n            return false;\n          } else {\n            names[name] = true;\n            return true;\n          }\n        }\n      )\n    }\n  \n\n    // Collect any fragment/type references from a node, adding them to the refs Set\n    function collectFragmentReferences(node, refs) {\n      if (node.kind === \"FragmentSpread\") {\n        refs.add(node.name.value);\n      } else if (node.kind === \"VariableDefinition\") {\n        var type = node.type;\n        if (type.kind === \"NamedType\") {\n          refs.add(type.name.value);\n        }\n      }\n\n      if (node.selectionSet) {\n        node.selectionSet.selections.forEach(function(selection) {\n          collectFragmentReferences(selection, refs);\n        });\n      }\n\n      if (node.variableDefinitions) {\n        node.variableDefinitions.forEach(function(def) {\n          collectFragmentReferences(def, refs);\n        });\n      }\n\n      if (node.definitions) {\n        node.definitions.forEach(function(def) {\n          collectFragmentReferences(def, refs);\n        });\n      }\n    }\n\n    var definitionRefs = {};\n    (function extractReferences() {\n      doc.definitions.forEach(function(def) {\n        if (def.name) {\n          var refs = new Set();\n          collectFragmentReferences(def, refs);\n          definitionRefs[def.name.value] = refs;\n        }\n      });\n    })();\n\n    function findOperation(doc, name) {\n      for (var i = 0; i < doc.definitions.length; i++) {\n        var element = doc.definitions[i];\n        if (element.name && element.name.value == name) {\n          return element;\n        }\n      }\n    }\n\n    function oneQuery(doc, operationName) {\n      // Copy the DocumentNode, but clear out the definitions\n      var newDoc = {\n        kind: doc.kind,\n        definitions: [findOperation(doc, operationName)]\n      };\n      if (doc.hasOwnProperty(\"loc\")) {\n        newDoc.loc = doc.loc;\n      }\n\n      // Now, for the operation we're running, find any fragments referenced by\n      // it or the fragments it references\n      var opRefs = definitionRefs[operationName] || new Set();\n      var allRefs = new Set();\n      var newRefs = new Set();\n\n      // IE 11 doesn't support \"new Set(iterable)\", so we add the members of opRefs to newRefs one by one\n      opRefs.forEach(function(refName) {\n        newRefs.add(refName);\n      });\n\n      while (newRefs.size > 0) {\n        var prevRefs = newRefs;\n        newRefs = new Set();\n\n        prevRefs.forEach(function(refName) {\n          if (!allRefs.has(refName)) {\n            allRefs.add(refName);\n            var childRefs = definitionRefs[refName] || new Set();\n            childRefs.forEach(function(childRef) {\n              newRefs.add(childRef);\n            });\n          }\n        });\n      }\n\n      allRefs.forEach(function(refName) {\n        var op = findOperation(doc, refName);\n        if (op) {\n          newDoc.definitions.push(op);\n        }\n      });\n\n      return newDoc;\n    }\n\n    module.exports = doc;\n    \n        module.exports[\"CurrentCommunity\"] = oneQuery(doc, \"CurrentCommunity\");\n        \n","const { sortBy } = require('lodash');\n\n// Takes a list of user community memberships and returns a list grouped by\n// network and sorted alphabetically by network name. This transformation is used\n// by both the Editorial and Asset dashboard community pickers.\nmodule.exports = function groupSortNetworkMemberships(memberships = []) {\n  let grouped = memberships.reduce((grouped, membership) => {\n    let community = membership.community;\n    let network = community.network;\n\n    // if the network grouping exists in the result, add the membership community\n    // otherwise, create a new network grouping with the current membership community\n    let networkIndex = grouped.findIndex(({ id }) => id === network.id);\n    if (networkIndex > -1) {\n      grouped[networkIndex].communities.push(community);\n    } else {\n      grouped.push({\n        id: network.id,\n        name: network.name,\n        logo: network.svgLogo,\n        communities: [community]\n      });\n    }\n\n    return grouped;\n  }, []);\n\n  // sort alphabetically by network name and return\n  return sortBy(grouped, 'name');\n};\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"m-import-manager__table\"},[_c('res-table',{staticClass:\"m-dashboard__table\",attrs:{\"zebra\":\"true\"}},[_c('table',[_c('thead',[_c('tr',[_c('th',[_vm._v(\"Name\")]),_vm._v(\" \"),_c('th',[_vm._v(_vm._s((_vm.results[0] || {}).allowsCrawling ? 'Crawler' : 'Status'))]),_vm._v(\" \"),_c('th',[_vm._v(\"Documents\")]),_vm._v(\" \"),_c('th',[_vm._v(\"Imported\")]),_vm._v(\" \"),_c('th',[_vm._v(\"Failed\")]),_vm._v(\" \"),_c('th',[_vm._v(\"New\")]),_vm._v(\" \"),_c('th',[_vm._v(\"Archived\")]),_vm._v(\" \"),_c('th',[_vm._v(\"Fetched\")])])]),_vm._v(\" \"),_c('tbody',_vm._l((_vm.results),function(sitemap){return _c('tr',{key:sitemap.id},[_c('td',[_c('router-link',{attrs:{\"to\":_vm.routeTo('sitemap', sitemap.id)}},[_vm._v(_vm._s(sitemap.name))])],1),_vm._v(\" \"),_c('td',[(sitemap.queued)?_c('a',{attrs:{\"title\":\"QUEUED\"}},[_c('res-icon',{attrs:{\"name\":\"clock\",\"size\":\"medium\"}})],1):_vm._e(),_vm._v(\" \"),(sitemap.allowsCrawling)?_c('a',{attrs:{\"title\":sitemap.crawler ? sitemap.crawler.status : 'UNCRAWLED'}},[_c('res-icon',{key:_vm.crawlerIconName(sitemap),attrs:{\"name\":_vm.crawlerIconName(sitemap),\"size\":\"medium\"}})],1):_c('a',{attrs:{\"title\":sitemap.status}},[_c('res-icon',{key:_vm.statusIconName(sitemap.status),class:sitemap.status.toLowerCase(),attrs:{\"name\":_vm.statusIconName(sitemap.status),\"size\":\"medium\"}})],1),_vm._v(\" \"),(sitemap.allowsCrawling && sitemap.crawler)?_c('span',[_vm._v(_vm._s(sitemap.crawler.percentComplete)+\"%\")]):_vm._e()]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(_vm.formatNumber(sitemap.activeDocumentsCount)))]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(_vm.formatNumber(sitemap.importedDocumentsCount)))]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(_vm.formatNumber(sitemap.failedDocumentsCount)))]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(_vm.formatNumber(sitemap.newDocumentsCount)))]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(_vm.formatNumber(sitemap.archivedDocumentsCount)))]),_vm._v(\" \"),_c('td',{attrs:{\"data-convert-to-relative\":sitemap.fetchedAt}},[_vm._v(_vm._s(sitemap.fetchedAt ? _vm.formatDateTime(sitemap.fetchedAt) : 'N/A'))])])}),0)])]),_vm._v(\" \"),_c('footer',[(_vm.loaded)?_c('span',[_vm._v(\"Found \"+_vm._s(_vm.formatNumber(_vm.totalCount))+\" results\")]):_vm._e(),_vm._v(\" \"),_c('res-pagination',{attrs:{\"page\":_vm.page,\"count\":_vm.totalCount,\"display\":_vm.perPage,\"indicator\":\"page\",\"pagination\":\"text-only\",\"navigation\":\"text\"},on:{\"change\":function($event){_vm.page=$event.target.page}}})],1)],1)}\nvar staticRenderFns = []\nexport { render, staticRenderFns }","<template>\n  <form @submit.prevent>\n    <fieldset>\n      <res-input>\n        <label>Project Name</label>\n        <input v-model=\"name\" type=\"text\" />\n      </res-input>\n    </fieldset>\n    <fieldset>\n      <res-select v-if=\"parserModelsList.length\">\n        <label>Parser</label>\n        <select v-model=\"documentParserId\">\n          <option v-for=\"parser in parserModelsList\" :key=\"parser.id\" :value=\"parser.id\">{{ parser.name }}</option>\n        </select>\n      </res-select>\n      <res-input v-else>\n        <label>Parser Name</label>\n        <input v-model=\"documentParserName\" type=\"text\" />\n      </res-input>\n    </fieldset>\n    <footer>\n      <res-button design=\"primary\" @click.prevent=\"create()\">\n        <button type=\"submit\">Create Project</button>\n      </res-button>\n      <res-button design=\"secondary\" class=\"m-l-1\" @click.prevent=\"close()\">\n        <button type=\"button\">Cancel</button>\n      </res-button>\n    </footer>\n  </form>\n</template>\n\n<script>\nimport { mapState, mapGetters, mapActions } from 'vuex';\n\nexport default {\n  data() {\n    const parsers = this.$store.getters.parserModelsList;\n    return {\n      name: '',\n      documentParserId: parsers.length ? parsers[0].id : '',\n      documentParserName: '',\n    };\n  },\n  computed: {\n    ...mapState([\n      'currentCommunity'\n    ]),\n    ...mapGetters([\n      'parserModelsList'\n    ])\n  },\n  methods: {\n    ...mapActions([\n      'createParser',\n      'createProject',\n      'setDialog',\n    ]),\n    create() {\n      this.prebuildParser()\n        .then(parser => this.createProject({ name: this.name, documentParserId: parser.id }))\n        .then(this.close);\n    },\n    prebuildParser() {\n      const parser = this.$store.state.parserModels[this.documentParserId];\n      if (parser) return Promise.resolve(parser);\n      return this.createParser({ name: this.documentParserName });\n    },\n    close() {\n      this.setDialog(null);\n    }\n  }\n};\n</script>\n","<template>\n  <form @submit.prevent>\n    <p v-if=\"form.prompt\">{{ form.prompt }}</p>\n    <p v-if=\"form.params\">\n      <input :value=\"form.params\" class=\"m-import-manager__console\" type=\"text\" readonly />\n    </p>\n    <fieldset v-for=\"(field, fieldName) in fields\" :key=\"fieldName\">\n      <res-select v-if=\"field.options\">\n        <label>{{ field.label }}\n          <a v-if=\"field.info\" :href=\"field.info\" target=\"_blank\"><res-icon name=\"info\" size=\"small\" /></a>\n        </label>\n        <select :name=\"fieldName\">\n          <option v-for=\"(label, value) in field.options\" :key=\"value\" :value=\"value\">{{ label || value }}</option>\n        </select>\n      </res-select>\n      <res-input v-else-if=\"field.type === 'textarea'\">\n        <label v-if=\"field.label\">{{ field.label }}</label>\n        <textarea :name=\"fieldName\" :placeholder=\"field.placeholder\" />\n      </res-input>\n      <res-input v-else>\n        <label v-if=\"field.label\">{{ field.label }}</label>\n        <input :type=\"field.type || 'text'\" :name=\"fieldName\" :placeholder=\"field.placeholder\"/>\n      </res-input>\n    </fieldset>\n    <footer>\n      <res-button design=\"primary\" @click.prevent=\"submit()\">\n        <button type=\"submit\">{{ form.submit }}</button>\n      </res-button>\n      <res-button design=\"secondary\" class=\"m-l-1\" @click.prevent=\"close()\">\n        <button type=\"button\">Cancel</button>\n      </res-button>\n    </footer>\n  </form>\n</template>\n\n<script>\nimport { mapState, mapActions } from 'vuex';\n\nexport default {\n  computed: {\n    ...mapState([\n      'currentDialog',\n    ]),\n    form() {\n      return this.currentDialog.form || {};\n    },\n    fields() {\n      return this.form.fields || {};\n    }\n  },\n  methods: {\n    ...mapActions([\n      'setDialog',\n    ]),\n    numericInput(input) {\n      // non-zero falsey values are undefined...\n      // check these in raw form, because they may cast into zeros.\n      if (!input && input !== 0) return undefined;\n      input = Number(input);\n      return Number.isInteger(input) ? Math.max(0, input) : undefined;\n    },\n    submit() {\n      const data = Object.keys(this.fields).reduce((memo, fieldName) => {\n        const field = this.fields[fieldName];\n        const el = this.$el.querySelector(`[name=\"${fieldName}\"]`);\n        if (el) {\n          if (field.type === 'number') {\n            memo[fieldName] = this.numericInput(el.value);\n          } else {\n            memo[fieldName] = el.value;\n          }\n        }\n        return memo;\n      }, {});\n\n      this.currentDialog.resolve(data);\n      this.close();\n    },\n    close() {\n      this.setDialog(null);\n    }\n  }\n};\n</script>\n","const { merge, omit } = require('lodash');\nconst qs = require('qs');\nconst wait = require('./wait');\nconst HttpStatusError = require('./errors/http_status_error');\nconst messageActions = require('../actions/messages');\nconst { reportError } = require('../actions/sentry');\nconst hash = require('../../shared/content-hash');\n\nconst STORAGE = {};\n\nfunction checkStatus(response) {\n  if (response.ok) {\n    return response;\n  } else {\n    var error = new HttpStatusError(`Response status not within range: ${response.status}`, response);\n    return Promise.reject(error);\n  }\n}\n\nfunction parseBody(response, accepts, withHeaders) {\n  if (response.status === 204) {\n    return Promise.resolve();\n  }\n  if (accepts === 'text/html') {\n    return response.text().then(data => returnWithHeaders(response, data, withHeaders));\n  }\n  return response.json().then(data => returnWithHeaders(response, data, withHeaders));\n}\n\nfunction returnWithHeaders(response, data, withHeaders) {\n  if (withHeaders) {\n    return {\n      data,\n      headers: response.headers\n    };\n  }\n  return data;\n}\n\n// Handles error based on supplied options\nfunction handleError(error, url, reqOpts, opts) {\n  var status = error.response && error.response.status;\n  if (\n    opts.retry &&\n    opts.retry.delay < opts.retry.maxDelay &&\n    (!status || status === 502 || status === 503)\n  ) {\n    var { retry } = opts;\n    var delay = Math.min(retry.delay + 1000, retry.maxDelay);\n    retry.delay = delay;\n    return wait(delay).then(() => request(url, reqOpts, opts));\n  } else {\n    if (opts.handleError) {\n      if (window.app && window.app.state) {\n        // Show a flash message, but don't send to sentry. Uses `window.top` so\n        // that app is accessible by requests from within object iframes\n        messageActions.showError();\n      } else {\n        console.warn('An unexpected error occurred while making a request, but the app is not able to display it');\n        reportError(error, false);\n      }\n    }\n    return Promise.reject(error);\n  }\n}\n\nfunction request(url, reqOpts, opts) {\n  let cacheKey = getCacheKey(url, reqOpts);\n  if (opts.cache && !opts.force && cacheKey in STORAGE) {\n    return Promise.resolve(STORAGE[cacheKey]);\n  }\n\n  return fetch(url, reqOpts)\n    .then(checkStatus)\n    .then(res => parseBody(res, reqOpts.headers.Accept, opts.withHeaders))\n    .then(body => {\n      if (opts.cache) {\n        STORAGE[cacheKey] = body;\n      }\n      return body;\n    })\n    .catch(err => handleError(err, url, reqOpts, opts));\n}\n\n// For GET requests, all the unique request data should be in the URL\n// For non-GET requests with body, also hash that to get a unique cache key\nfunction getCacheKey(url, { method, body }) {\n  let cacheKey = url;\n  if (method && method !== 'GET' && body) {\n    cacheKey += hash(body);\n  }\n\n  return cacheKey;\n}\n\nfunction loadOpts(url, reqOpts) {\n  // Defaults\n  var defaultReqOpts = {\n    credentials: 'include',\n    headers: { Accept: 'application/json' }\n  };\n  var defaultOpts = {\n    handleError: true,\n    cache: false,\n    retry: { delay: 0, maxDelay: 3000 }\n  };\n\n  // Pull out non-request options, if any\n  var opts = reqOpts.opts || {};\n  var requestOpts = omit(reqOpts, 'opts');\n\n  // Parse the request options\n  if (requestOpts.method && requestOpts.method.toUpperCase() !== 'GET') {\n    defaultReqOpts.headers['Content-Type'] = 'application/json';\n  }\n  if (requestOpts.query) {\n    url = url + '?' + qs.stringify(requestOpts.query);\n    delete requestOpts.query;\n  }\n  if (requestOpts.body && typeof requestOpts.body !== 'string') {\n    requestOpts.body = JSON.stringify(requestOpts.body);\n  }\n  if (requestOpts.credentials === false) {\n    delete defaultReqOpts.credentials;\n    delete requestOpts.credentials;\n  }\n\n  // Parse additional options\n  if (!opts.retry) {\n    defaultOpts.retry = false;\n  }\n  if (typeof opts.retry === 'boolean') { delete opts.retry; }\n\n  return {\n    url,\n    opts: merge(defaultOpts, opts),\n    reqOpts: merge(defaultReqOpts, requestOpts)\n  };\n}\n\n/**\n * Makes AJAX requests and handles errors based on supplied options\n *\n * @param {string} url\n * @param {object} reqOpts: fetch request object\n * @param {object} opts: handler options, with the shape:\n *   {\n *    {boolean} handleError: defaults to true\n *    {boolean} cache: defaults to false\n *    {boolean} withHeaders: optional\n *    {boolean} retry: optional\n *    {object} retry: optional, custom retry params of `delay` and `maxDelay`\n *   }\n */\nexport default function(url, reqOpts = {}) {\n  var parsed = loadOpts(url, reqOpts);\n  return request(parsed.url, parsed.reqOpts, parsed.opts);\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.currentDialog)?_c('res-modal',{attrs:{\"open\":!!_vm.currentDialog,\"background\":\"darken\"}},[_c(_vm.currentDialog.tag,{tag:\"component\",staticClass:\"m-import-manager__dialog\"})],1):_vm._e()}\nvar staticRenderFns = []\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('main',[_c('div',{staticClass:\"m-import-manager__header --split\"},[_c('h1',[_vm._v(\"Communities\")]),_vm._v(\" \"),_c('res-button',{attrs:{\"paddingless\":\"\"},on:{\"click\":function($event){$event.preventDefault();return _vm.add($event)}}},[_c('res-icon',{attrs:{\"name\":\"add\",\"size\":\"medium\"}}),_vm._v(\" \"),_c('button',[_vm._v(\"New community\")])],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"m-import-manager__table\"},[_c('res-table',{staticClass:\"m-dashboard__table\",attrs:{\"zebra\":\"true\"}},[_c('table',[_c('thead',[_c('tr',[_c('th',[_vm._v(\"Community name\")]),_vm._v(\" \"),_c('th',[_vm._v(\"Community ID\")]),_vm._v(\" \"),_c('th',{attrs:{\"colspan\":\"2\"}},[_vm._v(\"URL matcher\")])])]),_vm._v(\" \"),_c('tbody',_vm._l((_vm.results),function(result){return _c('communities-row',{key:result.id,attrs:{\"model\":result}})}),1)])]),_vm._v(\" \"),(_vm.loaded)?_c('footer',[(_vm.results.length)?_c('span',[_vm._v(\"Found \"+_vm._s(_vm.results.length)+\" results\")]):_c('span',[_vm._v(\"No results\")])]):_vm._e()],1)])}\nvar staticRenderFns = []\nexport { render, staticRenderFns }","var { defaults } = require('lodash');\nvar hash = require('../../shared/content-hash');\nvar messages = require('../config/messages');\n\nconst DEFAULTS = {\n  dismissible: true,\n  type: 'negative'\n};\n\nexport function showMessage(data) {\n  var id = hash(data.message);\n  if (findMessageIndex(id) === -1 && validatePersistence(data)) {\n    data.id = id;\n    data = defaults(data, DEFAULTS);\n    app.state.select(['messages']).push(data);\n  }\n\n  return id;\n}\n\nfunction validatePersistence(data) {\n  // Non-persistent messages don't already have a `id` attr, we should display\n  if (!data.id) {\n    return true;\n  }\n\n  // This is a persistent message that the user has seen before, don't display\n  var storageKey = `message-${data.id}`;\n  if (window.localStorage.getItem(storageKey) === 'shown') {\n    return false;\n  }\n\n  // This is a new persistent message, record + display\n  window.localStorage.setItem(storageKey, 'shown');\n  return true;\n}\n\nexport function removeMessage(id) {\n  var index = findMessageIndex(id);\n  app.state.select(['messages']).splice([index, 1]);\n}\n\nfunction findMessageIndex(id) {\n  return app.state.get(['messages']).findIndex(message => message.id === id);\n}\n\nexport function showError(error = messages.UNEXPECTED) {\n  var hasError = app.state.get(['messages']).some(message => message.isError);\n  if (!hasError) {\n    showMessage({\n      message: error,\n      type: 'negative',\n      isError: true\n    });\n  }\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('main',[_c('app-breadcrumbs',{attrs:{\"project\":_vm.project,\"sitemap\":_vm.sitemap}}),_vm._v(\" \"),_c('section',[_c('div',{staticClass:\"m-import-manager__header\"},[_c('h1',[_vm._v(\"Sitemap \"),(_vm.isLoaded)?_c('span',[_vm._v(_vm._s(_vm.isIndex ? 'Index' : 'Urlset')+\": \"+_vm._s(_vm.sitemap.name))]):_vm._e()]),_vm._v(\" \"),(_vm.saving)?_c('res-icon',{staticClass:\"m-l-1\",attrs:{\"name\":\"more\",\"size\":\"medium\"}}):_vm._e()],1),_vm._v(\" \"),_c('div',{staticClass:\"m-import-manager__fieldset\"},[_c('div',{staticClass:\"m-import-manager__fieldset__input\"},[_c('res-input',[_c('label',[_vm._v(\"Name\")]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model.lazy\",value:(_vm.mutable.name),expression:\"mutable.name\",modifiers:{\"lazy\":true}}],attrs:{\"type\":\"text\",\"placeholder\":\"Name\"},domProps:{\"value\":(_vm.mutable.name)},on:{\"change\":function($event){return _vm.$set(_vm.mutable, \"name\", $event.target.value)}}})])],1),_vm._v(\" \"),(_vm.communityOptions)?_c('div',{staticClass:\"m-import-manager__fieldset__input m-l-1\"},[_c('res-select',[_c('label',[_vm._v(\"Community Selection\")]),_vm._v(\" \"),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.communityMode),expression:\"communityMode\"}],on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.communityMode=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},_vm._l((_vm.communityOptions),function(opt,index){return _c('option',{key:index,domProps:{\"value\":opt.value}},[_vm._v(_vm._s(opt.label))])}),0)])],1):_vm._e()]),_vm._v(\" \"),_c('res-button',{staticClass:\"m-b-1 m-t-1\",attrs:{\"paddingless\":\"\"},on:{\"click\":function($event){$event.preventDefault();_vm.advanced = !_vm.advanced}}},[_c('button',[_vm._v(\"Advanced\")]),_vm._v(\" \"),_c('res-icon',{attrs:{\"name\":_vm.advanced ? 'minus' : 'add',\"size\":\"large\"}})],1),_vm._v(\" \"),(_vm.advanced)?_c('div',[_c('res-input',[_c('label',[_vm._v(\"Exclude URLs\\n          \"),_c('res-button',{attrs:{\"id\":\"exclude-urls-tooltip\",\"paddingless\":\"\"},on:{\"click\":function($event){$event.preventDefault();}}},[_c('res-icon',{attrs:{\"size\":\"small\",\"name\":\"tooltip\"}}),_c('button')],1),_vm._v(\" \"),_c('res-dropdown',{attrs:{\"for\":\"exclude-urls-tooltip\",\"placement\":\"top\",\"design\":\"dark\"}},[_vm._v(\"URLs that should be ignored\"),_c('br'),_vm._v(\" while processing this sitemap.\")])],1),_vm._v(\" \"),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model.lazy\",value:(_vm.mutable.blacklistUrls),expression:\"mutable.blacklistUrls\",modifiers:{\"lazy\":true}}],attrs:{\"placeholder\":\"URLs, one per line...\"},domProps:{\"value\":(_vm.mutable.blacklistUrls)},on:{\"change\":function($event){return _vm.$set(_vm.mutable, \"blacklistUrls\", $event.target.value)}}})])],1):_vm._e()],1),_vm._v(\" \"),_c('section',[_vm._m(0),_vm._v(\" \"),_c('crawler-status',{attrs:{\"id\":_vm.sitemap.currentCrawlerId,\"crawlable\":_vm.sitemap.allowsCrawling,\"sitemapId\":_vm.id}}),_vm._v(\" \"),_c('dl',{staticClass:\"m-import-manager__defs\"},[_c('dt',[_vm._v(\"Status\")]),_vm._v(\" \"),_c('dd',[_c('span',[_c('res-icon',{attrs:{\"name\":_vm.statusIcon,\"size\":\"medium\"}}),_vm._v(\" \"+_vm._s(_vm.sitemap.status))],1)]),_vm._v(\" \"),_c('dt',[_vm._v(\"URL\")]),_vm._v(\" \"),_c('dd',[_c('a',{attrs:{\"href\":_vm.sitemap.url,\"target\":\"_blank\"}},[_vm._v(_vm._s(_vm.sitemap.url))])]),_vm._v(\" \"),_c('dt',[_vm._v(\"Last fetched\")]),_vm._v(\" \"),_c('dd',[_vm._v(_vm._s(_vm.sitemap.fetchedAt ? _vm.formatDateTime(_vm.sitemap.fetchedAt) : 'N/A'))]),_vm._v(\" \"),(_vm.sitemap.error)?_c('dt',[_vm._v(\"Error\")]):_vm._e(),_vm._v(\" \"),(_vm.sitemap.error)?_c('dd',[_vm._v(_vm._s(_vm.sitemap.error)+\": \"+_vm._s(_vm.sitemap.errorMessage))]):_vm._e()])],1),_vm._v(\" \"),(_vm.isIndex)?_c('sitemaps-search',{attrs:{\"parentId\":_vm.id,\"collapsable\":true,\"version\":_vm.lastFetch}},[_c('h2',[_vm._v(\"Urlsets\")])]):_vm._e(),_vm._v(\" \"),(_vm.isUrlset)?_c('documents-search',{attrs:{\"sitemapEntryId\":_vm.id,\"communityScopeId\":_vm.communityScopeId,\"collapsable\":true,\"version\":_vm.lastFetch}},[_c('h2',[_vm._v(\"Documents\")])]):_vm._e()],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"m-import-manager__header\"},[_c('h2',[_vm._v(\"Details\")])])}]\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('main',[_c('section',[_c('div',{staticClass:\"m-import-manager__header --split\"},[_c('h1',[_vm._v(\"Parser: \"+_vm._s(_vm.parser.name || _vm.formatDateTime(_vm.parser.createdAt)))]),_vm._v(\" \"),(_vm.isRevision)?_c('span',[_vm._v(\"\\n        Revision of \"),_c('router-link',{attrs:{\"to\":_vm.routeTo('parser', _vm.revisioner.id)}},[_vm._v(_vm._s(_vm.revisioner.name))])],1):_c('res-split-button',{attrs:{\"disabled\":!_vm.isChanged}},[_c('ul',[_c('li',{attrs:{\"active\":\"#\"}},[_c('a',{attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.saveParser('SAVE')}}},[_vm._v(\"Save\")])]),_vm._v(\" \"),_c('li',[_c('a',{attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.saveParser('SAVE_COPY')}}},[_vm._v(\"Save with history\")])])])])],1),_vm._v(\" \"),_c('fieldset',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.isRevision),expression:\"!isRevision\"}]},[_c('res-input',[_c('label',[_vm._v(\"Name\")]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.mutable.name),expression:\"mutable.name\"}],attrs:{\"type\":\"text\",\"placeholder\":\"Name\"},domProps:{\"value\":(_vm.mutable.name)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.mutable, \"name\", $event.target.value)}}})])],1),_vm._v(\" \"),_c('fieldset',[_c('res-input',[_c('label',[_vm._v(\"Parser JSON\")]),_vm._v(\" \"),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.mutable.parserJson),expression:\"mutable.parserJson\"}],staticStyle:{\"height\":\"70vh\",\"font-family\":\"'Consolas',monospace\"},attrs:{\"readonly\":_vm.isRevision},domProps:{\"value\":(_vm.mutable.parserJson)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.mutable, \"parserJson\", $event.target.value)}}})])],1),_vm._v(\" \"),(_vm.isRevision)?_c('dl',{staticClass:\"m-import-manager__defs\"},[_c('dt',[_vm._v(\"Capture type\")]),_vm._v(\" \"),_c('dd',[_vm._v(_vm._s(_vm.parser.captureType))]),_vm._v(\" \"),_c('dt',[_vm._v(\"Group taxonomy type\")]),_vm._v(\" \"),_c('dd',[_vm._v(_vm._s(_vm.parser.groupTaxonomyType || 'none'))])]):[_c('res-button',{staticClass:\"m-b-1 m-t-1\",attrs:{\"paddingless\":\"\"},on:{\"click\":function($event){$event.preventDefault();_vm.advanced = !_vm.advanced}}},[_c('button',[_vm._v(\"Advanced\")]),_vm._v(\" \"),_c('res-icon',{attrs:{\"name\":_vm.advanced ? 'minus' : 'add',\"size\":\"large\"}})],1),_vm._v(\" \"),(_vm.advanced)?_c('div',{staticClass:\"m-import-manager__fieldset\"},[_c('div',{staticClass:\"m-import-manager__fieldset__input\"},[_c('res-select',[_c('label',[_vm._v(\"Capture type\")]),_vm._v(\" \"),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.mutable.captureType),expression:\"mutable.captureType\"}],on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.mutable, \"captureType\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])}}},_vm._l((_vm.parser.captureTypes),function(type){return _c('option',{key:type,domProps:{\"value\":type}},[_vm._v(_vm._s(type))])}),0)])],1),_vm._v(\" \"),_c('div',{staticClass:\"m-import-manager__fieldset__input m-l-1\"},[_c('res-select',[_c('label',[_vm._v(\"Group taxonomy type\")]),_vm._v(\" \"),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.mutable.groupTaxonomyType),expression:\"mutable.groupTaxonomyType\"}],on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.mutable, \"groupTaxonomyType\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])}}},[_c('option',{attrs:{\"value\":\"\"}},[_vm._v(\"None\")]),_vm._v(\" \"),_vm._l((_vm.parser.groupTaxonomyTypes),function(type){return _c('option',{key:type,domProps:{\"value\":type}},[_vm._v(_vm._s(type))])})],2)])],1)]):_vm._e()]],2),_vm._v(\" \"),(!_vm.isRevision && _vm.revisions.length)?_c('section',{staticClass:\"m-import-manager__table\"},[_vm._m(0),_vm._v(\" \"),_c('res-table',{staticClass:\"m-dashboard__table\"},[_c('table',[_c('thead',[_c('tr',[_c('th',[_vm._v(\"Time\")]),_vm._v(\" \"),_c('th',[_vm._v(\"Note\")])])]),_vm._v(\" \"),_c('tbody',_vm._l((_vm.revisions),function(rev){return _c('tr',{key:rev.id},[_c('td',[_c('router-link',{attrs:{\"to\":_vm.routeTo('parser', rev.id)}},[_vm._v(_vm._s(_vm.formatDateTime(rev.createdAt)))])],1),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(rev.revisionNote))])])}),0)])])],1):_vm._e()])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"m-import-manager__header\"},[_c('h2',[_vm._v(\"History\")])])}]\nexport { render, staticRenderFns }","\n    var doc = {\"kind\":\"Document\",\"definitions\":[{\"kind\":\"OperationDefinition\",\"operation\":\"query\",\"name\":{\"kind\":\"Name\",\"value\":\"CurrentUser\"},\"variableDefinitions\":[],\"directives\":[],\"selectionSet\":{\"kind\":\"SelectionSet\",\"selections\":[{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"currentUser\"},\"arguments\":[],\"directives\":[],\"selectionSet\":{\"kind\":\"SelectionSet\",\"selections\":[{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"id\"},\"arguments\":[],\"directives\":[]},{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"createdOn\"},\"arguments\":[],\"directives\":[]},{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"fullOrUserName\"},\"arguments\":[],\"directives\":[]},{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"email\"},\"arguments\":[],\"directives\":[]},{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"timeZone\"},\"arguments\":[],\"directives\":[]},{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"networkRoles\"},\"arguments\":[],\"directives\":[]},{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"memberships\"},\"arguments\":[],\"directives\":[],\"selectionSet\":{\"kind\":\"SelectionSet\",\"selections\":[{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"roles\"},\"arguments\":[],\"directives\":[]},{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"status\"},\"arguments\":[],\"directives\":[]},{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"community\"},\"arguments\":[],\"directives\":[],\"selectionSet\":{\"kind\":\"SelectionSet\",\"selections\":[{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"id\"},\"arguments\":[],\"directives\":[]},{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"name\"},\"arguments\":[],\"directives\":[]},{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"faviconUrl\"},\"arguments\":[],\"directives\":[]},{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"network\"},\"arguments\":[],\"directives\":[],\"selectionSet\":{\"kind\":\"SelectionSet\",\"selections\":[{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"id\"},\"arguments\":[],\"directives\":[]},{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"name\"},\"arguments\":[],\"directives\":[]},{\"kind\":\"Field\",\"alias\":{\"kind\":\"Name\",\"value\":\"svgLogo\"},\"name\":{\"kind\":\"Name\",\"value\":\"siteConfigString\"},\"arguments\":[{\"kind\":\"Argument\",\"name\":{\"kind\":\"Name\",\"value\":\"key\"},\"value\":{\"kind\":\"StringValue\",\"value\":\"svg_small_mark_full_color\",\"block\":false}}],\"directives\":[]}]}}]}}]}}]}}]}}],\"loc\":{\"start\":0,\"end\":366}};\n    doc.loc.source = {\"body\":\"query CurrentUser {\\n  currentUser {\\n    id\\n    createdOn\\n    fullOrUserName\\n    email\\n    timeZone\\n    networkRoles\\n    memberships {\\n      roles\\n      status\\n      community {\\n        id\\n        name\\n        faviconUrl\\n        network {\\n          id\\n          name\\n          svgLogo: siteConfigString(key: \\\"svg_small_mark_full_color\\\")\\n        }\\n      }\\n    }\\n  }\\n}\\n\",\"name\":\"GraphQL request\",\"locationOffset\":{\"line\":1,\"column\":1}};\n  \n\n    var names = {};\n    function unique(defs) {\n      return defs.filter(\n        function(def) {\n          if (def.kind !== 'FragmentDefinition') return true;\n          var name = def.name.value\n          if (names[name]) {\n            return false;\n          } else {\n            names[name] = true;\n            return true;\n          }\n        }\n      )\n    }\n  \n\n    // Collect any fragment/type references from a node, adding them to the refs Set\n    function collectFragmentReferences(node, refs) {\n      if (node.kind === \"FragmentSpread\") {\n        refs.add(node.name.value);\n      } else if (node.kind === \"VariableDefinition\") {\n        var type = node.type;\n        if (type.kind === \"NamedType\") {\n          refs.add(type.name.value);\n        }\n      }\n\n      if (node.selectionSet) {\n        node.selectionSet.selections.forEach(function(selection) {\n          collectFragmentReferences(selection, refs);\n        });\n      }\n\n      if (node.variableDefinitions) {\n        node.variableDefinitions.forEach(function(def) {\n          collectFragmentReferences(def, refs);\n        });\n      }\n\n      if (node.definitions) {\n        node.definitions.forEach(function(def) {\n          collectFragmentReferences(def, refs);\n        });\n      }\n    }\n\n    var definitionRefs = {};\n    (function extractReferences() {\n      doc.definitions.forEach(function(def) {\n        if (def.name) {\n          var refs = new Set();\n          collectFragmentReferences(def, refs);\n          definitionRefs[def.name.value] = refs;\n        }\n      });\n    })();\n\n    function findOperation(doc, name) {\n      for (var i = 0; i < doc.definitions.length; i++) {\n        var element = doc.definitions[i];\n        if (element.name && element.name.value == name) {\n          return element;\n        }\n      }\n    }\n\n    function oneQuery(doc, operationName) {\n      // Copy the DocumentNode, but clear out the definitions\n      var newDoc = {\n        kind: doc.kind,\n        definitions: [findOperation(doc, operationName)]\n      };\n      if (doc.hasOwnProperty(\"loc\")) {\n        newDoc.loc = doc.loc;\n      }\n\n      // Now, for the operation we're running, find any fragments referenced by\n      // it or the fragments it references\n      var opRefs = definitionRefs[operationName] || new Set();\n      var allRefs = new Set();\n      var newRefs = new Set();\n\n      // IE 11 doesn't support \"new Set(iterable)\", so we add the members of opRefs to newRefs one by one\n      opRefs.forEach(function(refName) {\n        newRefs.add(refName);\n      });\n\n      while (newRefs.size > 0) {\n        var prevRefs = newRefs;\n        newRefs = new Set();\n\n        prevRefs.forEach(function(refName) {\n          if (!allRefs.has(refName)) {\n            allRefs.add(refName);\n            var childRefs = definitionRefs[refName] || new Set();\n            childRefs.forEach(function(childRef) {\n              newRefs.add(childRef);\n            });\n          }\n        });\n      }\n\n      allRefs.forEach(function(refName) {\n        var op = findOperation(doc, refName);\n        if (op) {\n          newDoc.definitions.push(op);\n        }\n      });\n\n      return newDoc;\n    }\n\n    module.exports = doc;\n    \n        module.exports[\"CurrentUser\"] = oneQuery(doc, \"CurrentUser\");\n        \n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('form',{on:{\"submit\":function($event){$event.preventDefault();}}},[_c('fieldset',[_c('res-input',{attrs:{\"count\":\"75\"}},[_c('label',[_vm._v(\"Note\")]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.revisionNote),expression:\"revisionNote\"}],attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.revisionNote)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.revisionNote=$event.target.value}}})])],1),_vm._v(\" \"),_c('footer',[_c('res-button',{attrs:{\"design\":\"primary\"},on:{\"click\":function($event){$event.preventDefault();return _vm.save()}}},[_c('button',{attrs:{\"type\":\"submit\"}},[_vm._v(\"Save copy\")])]),_vm._v(\" \"),_c('res-button',{staticClass:\"m-l-1\",attrs:{\"design\":\"secondary\"},on:{\"click\":function($event){$event.preventDefault();return _vm.close()}}},[_c('button',{attrs:{\"type\":\"button\"}},[_vm._v(\"Cancel\")])])],1)])}\nvar staticRenderFns = []\nexport { render, staticRenderFns }","import gql from 'graphql-tag';\nimport * as cmd from '../commands';\nimport { importerClient } from '../../../shared/vue/lib/apollo_client';\nimport { formatFinder } from '../../lib/formatting';\n\nexport default {\n  async searchDocuments({ state }, params) {\n    let input = Object.assign({}, params);\n    input.communityId = state.currentCommunity.id;\n    input.pageNumber = input.pageNumber || 1;\n    input.perPage = input.perPage || 5;\n\n    if (input.findBy) {\n      input = Object.assign(input, formatFinder(input.findBy));\n      delete input.findBy;\n    }\n\n    const { data } = await importerClient.query({\n      query: gql`\n        query SearchDocuments($input: SearchImporterDocumentEntriesInput!, $errorScope: Int) {\n          search: searchImporterDocumentEntries(input: $input) {\n            pageNumber\n            results {\n              archived\n              archivalStatus\n              canonicalUrl\n              chorusEntryUrl\n              communityId\n              errorDigest\n              errorOccurrenceCount(communityId: $errorScope)\n              errorSummary\n              failedDocumentCaptureId\n              fetchedAt\n              id\n              queued\n              status\n              updatedAt\n              watched\n            }\n            totalCount\n          }\n        }\n      `,\n      variables: {\n        errorScope: input.view === 'UNIQUE' ? input.communityId : null,\n        input\n      }\n    }).catch(err => this.commit(cmd.PUT_NOTICE, err));\n\n    return Promise.resolve(data.search);\n  }\n};\n","import gql from 'graphql-tag';\nimport * as cmd from '../commands';\nimport { importerClient } from '../../../shared/vue/lib/apollo_client';\n\nconst ParserBaseAttrs = gql`\n  fragment ParserBaseAttrs on ImporterDocumentParser {\n    createdAt\n    id\n    name\n    revisionerId\n  }\n`;\n\nexport default {\n\n  async fetchParser({ state }, params) {\n    const { data } = await importerClient.query({\n      query: gql`\n        query FetchParser($id: Int!) {\n          parser: importerDocumentParser(id: $id) {\n            ...ParserBaseAttrs\n            captureType\n            captureTypes\n            groupTaxonomyType\n            groupTaxonomyTypes\n            parserJson\n            revisioner {\n              ...ParserBaseAttrs\n            }\n            revisions {\n              ...ParserBaseAttrs\n              revisionNote\n            }\n            schemaJson\n          }\n        }\n        ${ ParserBaseAttrs }\n      `,\n      variables: { id: params.id }\n    }).catch(err => this.commit(cmd.PUT_NOTICE, err));\n\n    this.commit(cmd.PATCH_MODELS, {\n      parserModels: [\n        data.parser,\n        data.parser.revisioner,\n      ].concat(data.parser.revisions)\n    });\n    return Promise.resolve(state.parserModels[data.parser.id]);\n  },\n\n  async createParser({ state }, input) {\n    const { data } = await importerClient.mutate({\n      mutation: gql`\n        mutation CreateParser($input: CreateImporterDocumentParserInput!) {\n          parser: createImporterDocumentParser(input: $input) {\n            ...ParserBaseAttrs\n          }\n        }\n        ${ ParserBaseAttrs }\n      `,\n      variables: {\n        input: Object.assign({\n          communityId: state.currentCommunity.id,\n        }, input)\n      }\n    }).catch(err => this.commit(cmd.PUT_NOTICE, err));\n\n    this.commit(cmd.PATCH_MODELS, { parserModels: data.parser });\n    return Promise.resolve(state.parserModels[data.parser.id]);\n  },\n\n  async updateParser({ state }, params) {\n    // params.id = Int\n    // params.input = UpdateImporterDocumentParserInput\n    const { data } = await importerClient.mutate({\n      mutation: gql`\n        mutation UpdateParser($id: Int!, $input: UpdateImporterDocumentParserInput!) {\n          parser: updateImporterDocumentParser(id: $id, input: $input) {\n            ...ParserBaseAttrs\n            captureType\n            groupTaxonomyType\n            parserJson\n            revisions {\n              ...ParserBaseAttrs\n              revisionNote\n            }\n          }\n        }\n        ${ ParserBaseAttrs }\n      `,\n      variables: params\n    }).catch(err => this.commit(cmd.PUT_NOTICE, err));\n\n    if (data.errors) return Promise.reject(data.errors);\n\n    this.commit(cmd.PATCH_MODELS, { parserModels: [data.parser].concat(data.parser.revisions) });\n    return Promise.resolve(state.parserModels[params.id]);\n  }\n};\n","var { omit } = require('lodash');\nvar Sentry = require('@sentry/browser');\nvar messageActions = require('./messages');\nvar HttpStatusError = require('../lib/errors/http_status_error');\n\nexport function handleError(err, emit = true) {\n  reportError(err, emit);\n  return Promise.reject(err);\n}\n\nexport function reportError(err, emit = true) {\n  // Log out stack for debugging, but not in test mode to stop polluting the\n  // test output\n  let env;\n  try {\n    env = app.env; // get from app for Ractive pages\n  } catch (error) {\n    env = process.env.NODE_ENV; // get from node for Vue pages\n  }\n\n  if (env !== 'test') {\n    console.error(err);\n    console.error(err.stack || err.message);\n  }\n\n  if (!(err instanceof HttpStatusError)) {\n    Sentry.captureException(err, {\n      tags: {\n        error_name: err.name,\n        from: err.from\n      },\n      extra: omit(err, 'name', 'message', 'stack', 'from')\n    });\n  }\n\n  if (emit) {\n    messageActions.showError();\n  }\n}\n\nexport function reportMessage(message, opts) {\n  if (app.env !== 'test') {\n    console.warn(message, opts);\n  }\n\n  Sentry.captureMessage(message, opts);\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('main',[_vm._m(0),_vm._v(\" \"),_c('form',{staticClass:\"m-import-manager__fieldset\",on:{\"submit\":function($event){$event.preventDefault();}}},[_c('res-input',[_c('label',[_vm._v(\"Lookup\")]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model.lazy.trim\",value:(_vm.lookupInput),expression:\"lookupInput\",modifiers:{\"lazy\":true,\"trim\":true}}],attrs:{\"type\":\"text\",\"placeholder\":\"document ID or content type\"},domProps:{\"value\":(_vm.lookupInput)},on:{\"change\":function($event){_vm.lookupInput=$event.target.value.trim()},\"blur\":function($event){return _vm.$forceUpdate()}}}),_vm._v(\" \"),_c('res-icon',{attrs:{\"slot\":\"inner-right\",\"name\":\"search\"},slot:\"inner-right\"})],1),_vm._v(\" \"),_c('res-select',{staticClass:\"m-l-1\"},[_c('label',[_vm._v(\"Filter\")]),_vm._v(\" \"),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.filterInput),expression:\"filterInput\"}],on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.filterInput=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},_vm._l((_vm.filterOptions),function(value,label){return _c('option',{key:label,domProps:{\"value\":label}},[_vm._v(_vm._s(label))])}),0)])],1),_vm._v(\" \"),_c('div',{staticClass:\"m-import-manager__table\"},[_c('res-table',{staticClass:\"m-dashboard__table\",attrs:{\"zebra\":\"true\"}},[_c('table',[_c('thead',[_c('tr',[_c('th',[_vm._v(\"ID\")]),_vm._v(\" \"),_c('th',[_vm._v(\"Document\")]),_vm._v(\" \"),_c('th',[_vm._v(\"Type\")]),_vm._v(\" \"),_c('th',[_vm._v(\"Data\")]),_vm._v(\" \"),_c('th',[_vm._v(\"Fulfilled\")])])]),_vm._v(\" \"),_c('tbody',_vm._l((_vm.results),function(result){return _c('tr',{key:result.id},[_c('td',[_vm._v(_vm._s(result.id))]),_vm._v(\" \"),_c('td',[_c('router-link',{attrs:{\"to\":_vm.routeTo('document', result.documentEntryId)}},[_c('res-icon',{staticClass:\"m-r-5\",attrs:{\"name\":\"versions\",\"size\":\"medium\"}})],1)],1),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(result.contentType))]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(result.data))]),_vm._v(\" \"),_c('td',{staticStyle:{\"min-width\":\"125px\"}},[_c('abbr',{attrs:{\"title\":result.fulfilled ? 'FULFILLED' : 'UNFULFILLED'}},[_c('res-icon',{attrs:{\"name\":result.fulfilled ? 'check-circle' : 'minus-circle',\"size\":\"medium\"}})],1),_vm._v(\" \"),(result.fulfilled)?_c('span',{staticClass:\"m-l-5\"},[_vm._v(_vm._s(result.fulfilledType))]):_vm._e()])])}),0)])]),_vm._v(\" \"),_c('footer',[(_vm.loaded)?_c('span',[_vm._v(\"\\n        Found \"+_vm._s(_vm.formatNumber(_vm.totalCount))+\" results\\n        \"),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.totalCount > 0),expression:\"totalCount > 0\"}]},[_vm._v(\"\\n          [\"),_c('a',{attrs:{\"href\":_vm.downloadUrl}},[_vm._v(\"download\")]),_vm._v(\" / \"),_c('a',{attrs:{\"href\":_vm.downloadUrl},on:{\"click\":function($event){$event.preventDefault();return _vm.runJob($event)}}},[_vm._v(\"job\")]),_vm._v(\"]\\n        \")])]):_vm._e(),_vm._v(\" \"),_c('res-pagination',{attrs:{\"page\":_vm.page,\"count\":_vm.totalCount,\"display\":_vm.perPage,\"indicator\":\"page\",\"pagination\":\"text-only\",\"navigation\":\"text\"},on:{\"change\":function($event){_vm.page=$event.target.page}}})],1)],1)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"m-import-manager__header\"},[_c('h1',[_vm._v(\"Placeholders\")])])}]\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('form',{on:{\"submit\":function($event){$event.preventDefault();}}},[(_vm.form.prompt)?_c('p',[_vm._v(_vm._s(_vm.form.prompt))]):_vm._e(),_vm._v(\" \"),(_vm.form.params)?_c('p',[_c('input',{staticClass:\"m-import-manager__console\",attrs:{\"type\":\"text\",\"readonly\":\"\"},domProps:{\"value\":_vm.form.params}})]):_vm._e(),_vm._v(\" \"),_vm._l((_vm.fields),function(field,fieldName){return _c('fieldset',{key:fieldName},[(field.options)?_c('res-select',[_c('label',[_vm._v(_vm._s(field.label)+\"\\n        \"),(field.info)?_c('a',{attrs:{\"href\":field.info,\"target\":\"_blank\"}},[_c('res-icon',{attrs:{\"name\":\"info\",\"size\":\"small\"}})],1):_vm._e()]),_vm._v(\" \"),_c('select',{attrs:{\"name\":fieldName}},_vm._l((field.options),function(label,value){return _c('option',{key:value,domProps:{\"value\":value}},[_vm._v(_vm._s(label || value))])}),0)]):(field.type === 'textarea')?_c('res-input',[(field.label)?_c('label',[_vm._v(_vm._s(field.label))]):_vm._e(),_vm._v(\" \"),_c('textarea',{attrs:{\"name\":fieldName,\"placeholder\":field.placeholder}})]):_c('res-input',[(field.label)?_c('label',[_vm._v(_vm._s(field.label))]):_vm._e(),_vm._v(\" \"),_c('input',{attrs:{\"type\":field.type || 'text',\"name\":fieldName,\"placeholder\":field.placeholder}})])],1)}),_vm._v(\" \"),_c('footer',[_c('res-button',{attrs:{\"design\":\"primary\"},on:{\"click\":function($event){$event.preventDefault();return _vm.submit()}}},[_c('button',{attrs:{\"type\":\"submit\"}},[_vm._v(_vm._s(_vm.form.submit))])]),_vm._v(\" \"),_c('res-button',{staticClass:\"m-l-1\",attrs:{\"design\":\"secondary\"},on:{\"click\":function($event){$event.preventDefault();return _vm.close()}}},[_c('button',{attrs:{\"type\":\"button\"}},[_vm._v(\"Cancel\")])])],1)],2)}\nvar staticRenderFns = []\nexport { render, staticRenderFns }","/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./identities-row.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./identities-row.vue\"\n/* template */\nimport {render as __vue_render__, staticRenderFns as __vue_static_render_fns__} from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-c1becd6a\\\",\\\"hasScoped\\\":false,\\\"optionsId\\\":\\\"0\\\",\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./identities-row.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nimport normalizeComponent from \"!../../../node_modules/vue-loader/lib/runtime/component-normalizer\"\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_render__,\n  __vue_static_render_fns__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n","<template>\n  <div class=\"p-flex--v l-fullheight\">\n    <app-notifications/>\n    <nav class=\"m-nav m-nav--dashboard\">\n      <community-select\n        v-if=\"community && currentUser\"\n        v-model=\"communityId\"\n        :community=\"community\"\n        :user=\"currentUser\"\n        :entitlements=\"entitlements\"\n        :allowedRoles=\"{}\"\n        class=\"m-community-select\"\n      />\n      <!-- specifically passing an empty object to the allowedRoles prop so\n      the community-select here will not produce a community-menu -->\n\n      <div v-if=\"accessGranted\" class=\"m-nav__right\">\n        <res-button\n          v-show=\"!isDashboard\"\n          class=\"m-r-1\"\n          @click.prevent=\"goToDashboard()\"\n        >\n          <button>Dashboard</button>\n        </res-button>\n        <res-button\n          id=\"dropdown-manage\"\n          class=\"m-r-1\"\n        >\n          <button>Manage</button>\n          <res-icon name=\"down\" />\n        </res-button>\n        <res-dropdown ref=\"dropdownManage\" for=\"dropdown-manage\" @click=\"closeDropdown($event)\">\n          <a :href=\"`${ importManagerUrl() }/sidekiq`\" target=\"_blank\">Sidekiq queue</a>\n          <router-link :to=\"routeTo('jobs')\">Document jobs</router-link>\n          <router-link :to=\"routeTo('communities')\">Communities</router-link>\n          <router-link :to=\"routeTo('placeholders')\">Placeholders</router-link>\n          <router-link :to=\"routeTo('asset-identities')\">Asset identities</router-link>\n          <router-link :to=\"routeTo('gallery-identities')\">Gallery identities</router-link>\n          <router-link :to=\"routeTo('group-identities')\">Group identities</router-link>\n          <router-link :to=\"routeTo('user-identities')\">User identities</router-link>\n        </res-dropdown>\n\n        <res-input ref=\"quickSearch\" class=\"m-import-manager__quick-search\">\n          <input v-model.lazy=\"quickSearch\" type=\"text\" placeholder=\"URL or Error Code\" />\n        </res-input>\n      </div>\n    </nav>\n\n    <div class=\"l-content p-flex is-compose\">\n      <div id=\"viewport\" class=\"l-content__inner p-flex--v\">\n        <router-view v-if=\"accessGranted\" :key=\"routeKey\" class=\"m-dashboard__content m-import-manager\" />\n      </div>\n    </div>\n    <app-modal/>\n    <app-loader iconName=\"more\" animation=\"static\" />\n  </div>\n</template>\n\n<script>\nimport { mapActions } from 'vuex';\nimport * as cmd from './store/commands';\nimport request from '../client/lib/request';\nimport CommunitySelect from '../shared/vue/community-select/index.vue';\nimport AppLoader from '../shared/vue/app-loader/app-loader.vue';\nimport AppNotifications from './components/app-notifications.vue';\nimport AppModal from './components/modal/app-modal.vue';\nimport Routing from './components/mixins/routing';\nimport { importManagerUrl } from './lib/formatting';\nimport { CurrentUser } from '../shared/vue/queries/currentUser.graphql';\nimport { CurrentCommunity } from '../shared/vue/queries/currentCommunity.graphql';\n\nexport default {\n  components: {\n    AppNotifications,\n    AppModal,\n    AppLoader,\n    CommunitySelect\n  },\n  mixins: [Routing],\n  data() {\n    return {\n      entitlements: [],\n      loading: true,\n      location: null,\n      quickSearch: '',\n      userIsNetworkAdmin: false,\n    };\n  },\n  computed: {\n    communityId() {\n      if (this.$route.query.community_id) {\n        return parseInt(this.$route.query.community_id);\n      } else {\n        window.location = '/';\n      }\n    },\n    hasPermission() {\n      return (this.entitlements || []).includes('use_importmanager');\n    },\n    accessGranted() {\n      return Boolean(this.userIsNetworkAdmin && this.communityId && this.hasPermission);\n    },\n    routeKey() {\n      return this.$route.name + ':' + this.$route.params.community_id;\n    },\n    isDashboard() {\n      return this.$route.name && this.$route.name === 'dashboard';\n    }\n  },\n  watch: {\n    loading() {\n      if (this.loading) {\n        this.$store.commit('appLoader/SET_LOADING', true);\n      } else {\n        this.$store.commit('appLoader/SET_LOADING', false);\n      }\n    },\n    accessGranted() {\n      if (this.accessGranted) {\n        this.loading = false;\n      } else {\n        // keep the loading overlay on until all access conditions are met\n        this.loading = true;\n      }\n    },\n    quickSearch() {\n      if (!this.quickSearch) return;\n      this.$refs.quickSearch.classList.remove('--nope');\n\n      this.searchDocuments({ findBy: this.quickSearch })\n        .then(search => {\n          if (search.results.length > 1) {\n            this.$router.replace({ name: 'dashboard', query: { community_id: this.community.id, q: this.quickSearch } });\n          } else if (search.results.length === 1) {\n            this.$router.replace(this.routeTo('document', search.results[0].id));\n          } else {\n            this.$refs.quickSearch.classList.add('--nope');\n          }\n          this.quickSearch = '';\n        });\n    }\n  },\n  apollo: {\n    currentUser: {\n      query: CurrentUser,\n      result({ data }) {\n        if (data.currentUser.networkRoles.find(role => role === 'NETWORK_ADMIN')) {\n          this.userIsNetworkAdmin = true;\n          this.$store.commit(cmd.SET_CONTEXT, { user: data.currentUser });\n        } else {\n          // only Network Admins should have access to the importmanager,\n          // if the current user is not a network admin, redirect them to the root\n          window.location = '/';\n        }\n      }\n    },\n    community: {\n      query() {\n        return CurrentCommunity;\n      },\n      result({ data }) {\n        this.$store.commit(cmd.SET_CONTEXT, { community: data.community });\n        if (data.community.id) {\n          this.getEntitlements();\n        } else {\n          // must have a community ID to work with,\n          // if the community ID is missing, redirect the user to the root\n          window.location = '/';\n        }\n      },\n      variables() {\n        return {\n          id: this.communityId\n        };\n      }\n    }\n  },\n  methods: {\n    ...mapActions([\n      'searchDocuments'\n    ]),\n    importManagerUrl,\n    goToDashboard() {\n      this.$router.replace(this.routeTo('dashboard'));\n    },\n    closeDropdown(evt) {\n      let el = evt.target;\n      while (el && el.tagName) {\n        if (/res-dropdown/i.test(el.tagName)) {\n          el.toggle();\n          break;\n        }\n        el = el.parentNode;\n      }\n    },\n    async getEntitlements() {\n      this.entitlements = await request(`/api/entitlements?communityId=${this.communityId}`);\n      this.$store.commit(cmd.SET_CONTEXT, { entitlements: this.entitlements });\n      // if the entitlement of 'use_importmanager' is missing, redirect the user to the root\n      if (!this.entitlements.includes('use_importmanager')) window.location = '/';\n    },\n    pushRoute(name) {\n      const route = Object.assign({}, this.$route);\n      route.query = Object.assign({}, this.$route.query, { community_id: this.communityId });\n      if (name) route.name = name;\n      this.$router.replace(route);\n    },\n  }\n};\n</script>\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('tr',[_c('td',{staticStyle:{\"width\":\"25%\"}},[(!_vm.editing)?_c('span',[_vm._v(_vm._s(_vm.mutable.name))]):_c('res-input',[_c('input',{directives:[{name:\"model\",rawName:\"v-model.lazy\",value:(_vm.mutable.name),expression:\"mutable.name\",modifiers:{\"lazy\":true}}],attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.mutable.name)},on:{\"change\":function($event){return _vm.$set(_vm.mutable, \"name\", $event.target.value)}}})])],1),_vm._v(\" \"),_c('td',{staticStyle:{\"width\":\"20%\"}},[(!_vm.editing)?_c('span',[_vm._v(_vm._s(_vm.mutable.constituentCommunityId))]):_c('res-input',[_c('input',{directives:[{name:\"model\",rawName:\"v-model.lazy.number\",value:(_vm.mutable.constituentCommunityId),expression:\"mutable.constituentCommunityId\",modifiers:{\"lazy\":true,\"number\":true}}],attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.mutable.constituentCommunityId)},on:{\"change\":function($event){_vm.$set(_vm.mutable, \"constituentCommunityId\", _vm._n($event.target.value))},\"blur\":function($event){return _vm.$forceUpdate()}}})])],1),_vm._v(\" \"),_c('td',{staticStyle:{\"width\":\"40%\"}},[(!_vm.editing)?_c('span',[_vm._v(_vm._s(_vm.mutable.urlMatcher))]):_c('res-input',[_c('input',{directives:[{name:\"model\",rawName:\"v-model.lazy.number\",value:(_vm.mutable.urlMatcher),expression:\"mutable.urlMatcher\",modifiers:{\"lazy\":true,\"number\":true}}],attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.mutable.urlMatcher)},on:{\"change\":function($event){_vm.$set(_vm.mutable, \"urlMatcher\", _vm._n($event.target.value))},\"blur\":function($event){return _vm.$forceUpdate()}}})])],1),_vm._v(\" \"),_c('td',{staticStyle:{\"width\":\"5%\"}},[_c('res-button',{style:(_vm.editStyle),attrs:{\"paddingless\":\"\"},on:{\"click\":function($event){$event.preventDefault();return _vm.toggle($event)}}},[_c('res-icon',{attrs:{\"name\":\"edit\",\"size\":\"medium\"}}),_c('button')],1)],1)])}\nvar staticRenderFns = []\nexport { render, staticRenderFns }","<template>\n  <main>\n    <div class=\"m-import-manager__header --split\">\n      <h1>Communities</h1>\n      <res-button paddingless @click.prevent=\"add\">\n        <res-icon name=\"add\" size=\"medium\" /> <button>New community</button>\n      </res-button>\n    </div>\n\n    <div class=\"m-import-manager__table\">\n      <res-table zebra=\"true\" class=\"m-dashboard__table\">\n        <table>\n          <thead>\n            <tr>\n              <th>Community name</th>\n              <th>Community ID</th>\n              <th colspan=\"2\">URL matcher</th>\n            </tr>\n          </thead>\n          <tbody>\n            <communities-row v-for=\"result in results\" :key=\"result.id\" :model=\"result\"/>\n          </tbody>\n        </table>\n      </res-table>\n      <footer v-if=\"loaded\">\n        <span v-if=\"results.length\">Found {{ results.length }} results</span>\n        <span v-else>No results</span>\n      </footer>\n    </div>\n  </main>\n</template>\n\n<script>\nimport gql from 'graphql-tag';\nimport { mapState, mapActions } from 'vuex';\nimport CommunitiesRow from '../components/tables/communities-row.vue';\n\nconst createForm = {\n  fields: {\n    name: {\n      label: 'Community name',\n      type: 'text'\n    },\n    constituentCommunityId: {\n      label: 'Community ID',\n      type: 'number'\n    }\n  },\n  submit: 'Create Community Delegation'\n};\n\nexport default {\n  components: {\n    CommunitiesRow\n  },\n  data() {\n    return {\n      loaded: false,\n      results: []\n    };\n  },\n  computed: {\n    ...mapState(['currentCommunity', 'network'])\n  },\n  methods: {\n    ...mapActions(['setDialog']),\n    add() {\n      this.setDialog({ tag: 'input-form', form: createForm })\n        .then(async (data) => {\n          if (!data.name || !data.constituentCommunityId) return;\n          await this.$store.dispatch('createCommunityDelegation', {\n            constituentCommunityId: data.constituentCommunityId,\n            delegateCommunityId: this.currentCommunity.id,\n            networkId: this.network.id,\n            name: data.name,\n          });\n          this.$apollo.queries.results.refresh();\n        });\n    }\n  },\n  apollo: {\n    results: {\n      client: 'importer',\n      query: gql`\n        query FetchCommunityDelegations($delegateId: Int!) {\n          results: importerCommunityDelegations(delegateId: $delegateId) {\n            constituentCommunityId\n            delegateCommunityId\n            id\n            name\n            urlMatcher\n          }\n        }\n      `,\n      variables() {\n        return {\n          delegateId: this.currentCommunity.id,\n        };\n      },\n      update(data) {\n        this.loaded = true;\n        return data.results;\n      }\n    }\n  }\n};\n</script>\n","/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./sitemap.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./sitemap.vue\"\n/* template */\nimport {render as __vue_render__, staticRenderFns as __vue_static_render_fns__} from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4a796152\\\",\\\"hasScoped\\\":false,\\\"optionsId\\\":\\\"0\\\",\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./sitemap.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nimport normalizeComponent from \"!../../node_modules/vue-loader/lib/runtime/component-normalizer\"\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_render__,\n  __vue_static_render_fns__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n","/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./capture.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./capture.vue\"\n/* template */\nimport {render as __vue_render__, staticRenderFns as __vue_static_render_fns__} from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-c7aef2b4\\\",\\\"hasScoped\\\":false,\\\"optionsId\\\":\\\"0\\\",\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./capture.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nimport normalizeComponent from \"!../../node_modules/vue-loader/lib/runtime/component-normalizer\"\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_render__,\n  __vue_static_render_fns__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n","import VueRouter from 'vue-router';\nimport DashboardApp from './pages/dashboard.vue';\nimport IdentitiesApp from './pages/identities.vue';\nimport ProjectApp from './pages/project.vue';\nimport SitemapApp from './pages/sitemap.vue';\nimport DocumentApp from './pages/document.vue';\nimport CaptureApp from './pages/capture.vue';\nimport ParserApp from './pages/parser.vue';\nimport PlaceholdersApp from './pages/placeholders.vue';\nimport CommunitiesApp from './pages/communities.vue';\nimport JobsApp from './pages/jobs.vue';\n\nconst router = new VueRouter({\n  base: '/importmanager',\n  mode: 'history',\n  routes: [\n    {\n      path: '/',\n      name: 'dashboard',\n      component: DashboardApp\n    },\n    {\n      path: '/project/:id',\n      name: 'project',\n      component: ProjectApp,\n      props: (route) => ({\n        id: Number(route.params.id)\n      })\n    },\n    {\n      path: '/sitemap/:id',\n      name: 'sitemap',\n      component: SitemapApp,\n      props: (route) => ({\n        id: Number(route.params.id)\n      })\n    },\n    {\n      path: '/document/:id',\n      name: 'document',\n      component: DocumentApp,\n      props: (route) => ({\n        id: Number(route.params.id)\n      })\n    },\n    {\n      path: '/capture/:id',\n      name: 'capture',\n      component: CaptureApp,\n      props: (route) => ({\n        id: Number(route.params.id)\n      })\n    },\n    {\n      path: '/parser/:id',\n      name: 'parser',\n      component: ParserApp,\n      props: (route) => ({\n        id: Number(route.params.id)\n      })\n    },\n    {\n      path: '/identities/users',\n      name: 'user-identities',\n      component: IdentitiesApp,\n      props: () => ({\n        type: 'user'\n      })\n    },\n    {\n      path: '/identities/groups',\n      name: 'group-identities',\n      component: IdentitiesApp,\n      props: () => ({\n        type: 'group'\n      })\n    },\n    {\n      path: '/identities/assets',\n      name: 'asset-identities',\n      component: IdentitiesApp,\n      props: () => ({\n        type: 'asset'\n      })\n    },\n    {\n      path: '/identities/galleries',\n      name: 'gallery-identities',\n      component: IdentitiesApp,\n      props: () => ({\n        type: 'gallery'\n      })\n    },\n    {\n      path: '/placeholders',\n      name: 'placeholders',\n      component: PlaceholdersApp\n    },\n    {\n      path: '/jobs',\n      name: 'jobs',\n      component: JobsApp\n    },\n    {\n      path: '/communities',\n      name: 'communities',\n      component: CommunitiesApp\n    }\n  ]\n});\n\nrouter.beforeEach((to, from, next) => {\n  if (from.path === to.path) return next();\n\n  const title = document.getElementsByTagName('title')[0];\n  if (title) title.innerText = 'Chorus Import Manager : '+ to.name;\n\n  const el = document.getElementById('viewport');\n  if (el) el.scrollTo(0, 0);\n  next();\n});\n\nexport default router;\n","<template>\n  <nav class=\"m-import-manager__breadcrumbs\">\n    <span v-if=\"hasProject\">\n      <router-link :to=\"routeTo('project', project.id)\" title=\"Project\">{{ project.name }}</router-link> /\n    </span>\n    <span v-else>&nbsp;</span>\n\n    <span v-if=\"parentSitemap\">\n      <router-link :to=\"routeTo('sitemap', parentSitemap.id)\" title=\"Sitemap index\">{{ parentSitemap.name }}</router-link> /\n    </span>\n    <span v-if=\"hasSitemap && !isSitemap\">\n      <router-link :to=\"routeTo('sitemap', sitemap.id)\" title=\"Sitemap urlset\">{{ sitemap.name }}</router-link> /\n    </span>\n    <strong v-else-if=\"isSitemap\">{{ sitemap.name }}</strong>\n\n    <span v-if=\"hasDocument && !isDocument\">\n      <router-link :to=\"routeTo('document', document.id)\" title=\"Document\">{{ document.id }}</router-link> /\n    </span>\n    <strong v-else-if=\"isDocument\">{{ document.id }}</strong>\n\n    <span v-if=\"hasCapture && !isCapture\">\n      <router-link :to=\"routeTo('capture', capture.id)\" title=\"Capture\">{{ capture.id }}</router-link> /\n    </span>\n    <strong v-else-if=\"isCapture\">{{ capture.id }}</strong>\n  </nav>\n</template>\n\n<script>\nimport Routing from './mixins/routing';\n\nexport default {\n  mixins: [Routing],\n  props: {\n    project: {\n      type: Object,\n      // default: () => ({})\n    },\n    sitemap: {\n      type: Object,\n      // default: () => ({})\n    },\n    document: {\n      type: Object,\n      // default: () => ({})\n    },\n    capture: {\n      type: Object,\n      // default: () => ({})\n    }\n  },\n  computed: {\n    hasProject() {\n      return this.project && !!this.project.id;\n    },\n    hasSitemap() {\n      return this.sitemap && !!this.sitemap.id;\n    },\n    parentSitemap() {\n      return this.hasSitemap ? this.$store.state.sitemapModels[this.sitemap.parentId] : null;\n    },\n    isSitemap() {\n      return this.hasSitemap && this.lastObject === 'sitemap';\n    },\n    hasDocument() {\n      return this.document && !!this.document.id;\n    },\n    isDocument() {\n      return this.hasDocument && this.lastObject === 'document';\n    },\n    hasCapture() {\n      return this.capture && !!this.capture.id;\n    },\n    isCapture() {\n      return this.hasCapture && this.lastObject === 'capture';\n    },\n    lastObject() {\n      return ['capture', 'document', 'sitemap', 'project'].find(key => this[key] && !!this[key].id);\n    }\n  }\n};\n</script>\n","<template>\n  <section>\n    <div v-if=\"$slots.default || label || collapsable\" class=\"m-import-manager__header\">\n      <slot><h1>{{ label }}</h1></slot>\n      <res-button v-if=\"collapsable\" paddingless class=\"m-l-1\" @click.prevent=\"searchActive = !searchActive\">\n        <button>Search</button> <res-icon :name=\"searchActive ? 'minus' : 'add'\" size=\"large\" />\n      </res-button>\n      <res-button v-if=\"sitemapEntryId\" paddingless class=\"m-l-a\" @click.prevent=\"addDocument()\">\n        <res-icon name=\"versions\" size=\"large\" /> <button>Add document</button>\n      </res-button>\n    </div>\n    <form v-if=\"searchActive\" class=\"m-import-manager__fieldset\" @submit.prevent>\n      <res-input style=\"min-width:40%;\">\n        <label>Lookup</label>\n        <input v-model.lazy=\"lookupInput\" type=\"text\" placeholder=\"URL or Error Code\" />\n        <res-icon slot=\"inner-right\" name=\"search\" />\n      </res-input>\n      <res-select v-if=\"multiCommunity && !communityScopeId\" class=\"m-l-1\">\n        <label>Community</label>\n        <select v-model=\"communityScopeInput\">\n          <option value=\"ALL\">All</option>\n          <option :value=\"communityId\">{{ $store.state.currentCommunity.name }}</option>\n          <option v-for=\"d in communityDelegationsList\" :key=\"d.constituentCommunityId\" :value=\"d.constituentCommunityId\">{{ d.name }}</option>\n        </select>\n      </res-select>\n      <res-select class=\"m-l-1\">\n        <label>Filter</label>\n        <select v-model=\"filterInput\">\n          <option v-for=\"(value, label) in filterOptions\" :key=\"label\" :value=\"label\">{{ label }}</option>\n        </select>\n      </res-select>\n      <res-select v-if=\"scopingEnabled\" class=\"m-l-1\">\n        <label>Project</label>\n        <select v-model=\"projectInput\">\n          <option value=\"\">All</option>\n          <option v-for=\"project in projects\" :key=\"project.id\" :value=\"project.id\">{{ project.name }}</option>\n        </select>\n      </res-select>\n      <res-select v-if=\"scopingEnabled\" :disabled=\"!projectInput\" class=\"m-l-1\">\n        <label>Sitemap</label>\n        <select v-model=\"sitemapInput\">\n          <option value=\"\">All</option>\n          <option v-for=\"sitemap in sitemapsForProject\" :key=\"sitemap.id\" :value=\"sitemap.id\">{{ sitemap.name }}</option>\n        </select>\n      </res-select>\n    </form>\n\n    <div class=\"m-import-manager__table\">\n      <res-table zebra=\"true\" class=\"m-dashboard__table\">\n        <table>\n          <thead>\n            <tr>\n              <th class=\"--icon-only\" />\n              <th class=\"--url\">URL</th>\n              <th v-if=\"multiCommunity\" class=\"--community\">Community</th>\n              <th class=\"--status\">Status</th>\n              <th class=\"--modified\">Last Update</th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr v-for=\"doc in results\" :key=\"doc.id\">\n              <td class=\"--icon-only\">\n                <router-link :to=\"routeTo('document', doc.id)\">\n                  <res-icon name=\"versions\" size=\"medium\" />\n                </router-link>\n              </td>\n              <td class=\"--url\">\n                <a :href=\"doc.canonicalUrl\">{{ stripURIHost(doc.canonicalUrl) }}</a>\n                <a :href=\"doc.chorusEntryUrl\">{{ stripURIHost(doc.chorusEntryUrl) }}</a>\n              </td>\n              <th v-if=\"multiCommunity\" class=\"--community\">\n                {{ communityNameById[doc.communityId] }}\n              </th>\n              <td :class=\"{ 'is-watched': doc.watched }\" class=\"--status\">\n                <a :title=\"doc.status\">\n                  <res-icon :name=\"statusIcon(doc)\" size=\"medium\" />\n                </a>\n                <a v-if=\"doc.queued\" title=\"QUEUED\">\n                  <res-icon name=\"clock\" size=\"medium\" />\n                </a>\n                <a v-if=\"doc.archived\" :title=\"doc.archivalStatus\">\n                  <res-icon name=\"none\" size=\"medium\" />\n                </a>\n                <a v-if=\"doc.watched\" title=\"STARRED\">\n                  <res-icon name=\"star\" size=\"medium\" />\n                </a>\n                <router-link\n                  v-if=\"doc.errorDigest\"\n                  :to=\"routeTo('capture', doc.failedDocumentCaptureId)\"\n                  :title=\"doc.errorSummary\"\n                  class=\"m-import-manager__digest --error\"\n                >\n                  {{ doc.errorDigest.slice(0, 8) }}\n                  <template v-if=\"doc.errorOccurrenceCount\">({{ doc.errorOccurrenceCount }})</template>\n                </router-link>\n              </td>\n              <td class=\"--modified\">{{ formatDateTime(doc.updatedAt) }}</td>\n            </tr>\n          </tbody>\n        </table>\n      </res-table>\n      <footer>\n        <span v-if=\"loaded\">\n          <a href=\"#\" title=\"Refresh\" @click.prevent=\"refresh()\">\n            <res-icon :animated=\"String(fetching)\" name=\"loading\" size=\"small\"/>\n          </a>\n          Found {{ formatNumber(totalCount) }} results\n          <span v-show=\"totalCount > 0\">\n            [<a :href=\"downloadUrl\">download</a> / <a :href=\"downloadUrl\" @click.prevent=\"runJob\">job</a>]\n          </span>\n        </span>\n        <res-pagination\n          :page=\"page\"\n          :count=\"totalCount\"\n          :display=\"perPage\"\n          indicator=\"page\"\n          pagination=\"text-only\"\n          navigation=\"text\"\n          @change=\"page=$event.target.page\"\n        />\n      </footer>\n    </div>\n  </section>\n</template>\n\n<script>\nimport { mapGetters, mapActions } from 'vuex';\nimport { debounce } from '../lib/utils';\nimport { formatDateTime, formatNumber, stripURIHost, entryStatusIcons, formatFinder, importManagerUrl } from '../lib/formatting';\nimport Routing from './mixins/routing';\n\nconst filterOptions = {\n  'All': {},\n  'Imported': { status: 'CAPTURED' },\n  'Failed': { status: 'FAILED' },\n  'Failed  unique': { status: 'FAILED', view: 'UNIQUE' },\n  'Archived': { archived: true },\n  'Archived  admin': { archivalStatus: 'ARCHIVED_BY_ADMIN' },\n  'Archived  crawler': { archivalStatus: 'ARCHIVED_BY_CRAWLER' },\n  'Archived  editorial': { archivalStatus: 'ARCHIVED_BY_EDITORIAL' },\n  'Archived  forcefix': { archivalStatus: 'ARCHIVED_BY_MANUAL_UPDATE' },\n  'New': { status: 'CREATED' },\n  'Processing': { status: 'CAPTURING' },\n  'Starred': { watched: true },\n};\n\nconst filterDefault = Object.keys(filterOptions)[0];\n\nconst createDocumentForm = {\n  prompt: 'Add a document URL for testing. It will shift to its appropraite sitemap once crawled.',\n  fields: {\n    canonicalUrl: {\n      label: 'Canonical URL',\n      type: 'text'\n    }\n  },\n  submit: 'Add Document'\n};\n\nconst createJobForm = {\n  prompt: 'Run a processing job on the current document search:',\n  params: null,\n  fields: {\n    task: {\n      label: 'Task',\n      info: 'https://github.com/voxmedia/chorus-import-manager/wiki/Document-Jobs#built-in-jobs',\n      options: {}\n    },\n    id: {\n      label: 'Document IDs (optional)',\n      type: 'textarea',\n      placeholder: 'Separated by commas or newlines'\n    }\n  },\n  submit: 'Start Job'\n};\n\nfunction slugify(str) {\n  return str.replace(/[(), ]/g, '').toLowerCase();\n}\n\nexport default {\n  mixins: [Routing],\n  props: {\n    label: {\n      type: String,\n      default: null\n    },\n    collapsable: {\n      type: Boolean,\n      default: false\n    },\n    sitemapEntryId: {\n      type: Number,\n      default: null\n    },\n    communityScopeId: {\n      type: Number,\n      default: null\n    },\n    projects: {\n      type: Object,\n      // default: () => ({})\n    },\n    version: {\n      type: Number,\n      default: null\n    },\n  },\n  data() {\n    return {\n      filterOptions,\n      searchActive: !this.collapsable,\n      downloadUrl: null,\n\n      // search parameters\n      communityScope: this.communityScopeId ? String(this.communityScopeId) : 'ALL',\n      projectId: null,\n      sitemapId: this.sitemapEntryId || null, // internal value defaults to external prop\n      filter: filterDefault,\n      lookup: null,\n      page: 1,\n\n      // request data\n      perPage: 25,\n      totalCount: 0,\n      results: [],\n      fetching: false,\n      loaded: false,\n    };\n  },\n  computed: {\n    ...mapGetters([\n      'communityDelegationsList',\n      'communityNameById'\n    ]),\n    communityId() {\n      return this.$store.state.currentCommunity.id;\n    },\n    multiCommunity() {\n      return !!this.communityDelegationsList.length;\n    },\n    scopingEnabled() {\n      // selecting project/sitemap scopes requires\n      // projects metadata and no hard-coded scoping IDs.\n      return this.projects && !this.sitemapEntryId;\n    },\n    sitemapsForProject() {\n      const project = (this.projects || {})[this.projectId];\n      return project ? project.sitemaps : [];\n    },\n    searchParams() {\n      let params = {\n        communityId: this.communityId,\n        pageNumber: this.page,\n        perPage: this.perPage,\n      };\n\n      if (this.multiCommunity) {\n        if (this.communityScope === 'ALL') {\n          params.selectCommunities = this.communityDelegationsList.map(d => d.constituentCommunityId).concat([this.communityId]);\n        } else if (this.communityScope && Number(this.communityScope) !== this.communityId) {\n          params.selectCommunities = [Number(this.communityScope)];\n        }\n      }\n\n      if (this.projectId !== null) params.projectId = this.projectId;\n      if (this.sitemapId !== null) params.sitemapEntryId = this.sitemapId;\n      if (this.lookup !== null) {\n        params = Object.assign(params, formatFinder(this.lookup));\n      }\n      return Object.assign(params, filterOptions[this.filter]);\n    },\n    lookupInput: {\n      get() {\n        return this.lookup || '';\n      },\n      set(val) {\n        val = val || null;\n        if (this.lookup === val) return;\n        this.lookup = val;\n        this.page = 1;\n      }\n    },\n    communityScopeInput: {\n      get() {\n        return this.communityScope;\n      },\n      set(val) {\n        if (this.communityScope === val) return;\n        this.communityScope = val;\n        this.page = 1;\n      }\n    },\n    filterInput: {\n      get() {\n        return this.filter;\n      },\n      set(val) {\n        if (this.filter === val) return;\n        this.filter = filterOptions.hasOwnProperty(val) ? val : filterDefault;\n        this.page = 1;\n      }\n    },\n    projectInput: {\n      get() {\n        return this.projectId || '';\n      },\n      set(val) {\n        val = Number(val) || null;\n        if (this.projectId === val) return;\n        this.projectId = val;\n        this.sitemapId = null;\n        this.page = 1;\n      }\n    },\n    sitemapInput: {\n      get() {\n        return this.sitemapId || '';\n      },\n      set(val) {\n        val = Number(val) || null;\n        if (this.sitemapId === val) return;\n        this.sitemapId = val;\n        this.page = 1;\n      }\n    }\n  },\n  watch: {\n    communityScopeId(val) {\n      this.communityScope = val ? String(val) : 'ALL';\n    },\n    searchParams() {\n      this.refresh();\n    },\n    version() {\n      this.refresh();\n    },\n    '$route.query'() {\n      this.pullRoute();\n    }\n  },\n  mounted() {\n    this.pullRoute();\n  },\n  methods: {\n    ...mapActions([\n      'findOrCreateDocument',\n      'searchDocuments',\n      'fetchJobTasks',\n      'createJob',\n      'setDialog',\n    ]),\n    formatDateTime,\n    formatNumber,\n    stripURIHost,\n    statusIcon(doc) {\n      return entryStatusIcons[doc.status] || entryStatusIcons.CREATED;\n    },\n    addDocument() {\n      if (!this.sitemapEntryId) throw('a sitemap prop is required');\n      this.setDialog({ tag: 'input-form', form: createDocumentForm })\n        .then(async (data) => {\n          if (!data.canonicalUrl) return;\n          const doc = await this.findOrCreateDocument({\n            canonicalUrl: data.canonicalUrl,\n            communityId: this.communityId,\n            sitemapEntryId: this.sitemapEntryId,\n            watched: true,\n          });\n\n          this.$router.replace(this.routeTo('document', doc.id));\n        });\n    },\n    refresh: debounce(function() {\n      this.pushRoute();\n      this.search();\n    }),\n    pullRoute() {\n      const query = this.$route.query;\n      if (query.q) this.lookup = query.q || null;\n      if (query.scope) this.communityScope = query.scope || 'ALL';\n      if (query.project_id) this.projectId = Number(query.project_id) || null;\n      if (query.sitemap_id) this.sitemapId = Number(query.sitemap_id) || null;\n      if (query.filter) this.filter = Object.keys(filterOptions).find(key => slugify(key) === query.filter) || filterDefault;\n      if (query.page) this.page = Number(query.page) || 1;\n    },\n    pushRoute() {\n      const query = { community_id: this.communityId };\n      if (this.communityScope !== 'ALL') query.scope = this.communityScope;\n      if (this.projectId !== null) query.project_id = this.projectId;\n      if (this.sitemapId !== null && !this.sitemapEntryId) query.sitemap_id = this.sitemapId;\n      if (this.lookup !== null) query.q = this.lookup;\n      if (this.filter !== filterDefault) query.filter = slugify(this.filter);\n      if (this.page > 1) query.page = this.page;\n      this.$router.replace({ query });\n    },\n    search() {\n      this.setDownloadUrl();\n      this.fetching = true;\n      this.searchDocuments(this.searchParams).then(search => {\n        this.loaded = true;\n        this.fetching = false;\n        this.totalCount = search.totalCount;\n        this.results = search.results;\n      });\n    },\n    setDownloadUrl() {\n      const params = this.searchParams;\n      const url = [importManagerUrl(), `/reports/documents?community_id=${ this.communityId }`];\n      if (params.selectCommunities) url.push(`&select_communities=${ params.selectCommunities.join(',') }`);\n      if (params.contentApiUuid) url.push(`&content_api_uuid=${ params.contentApiUuid }`);\n      if (params.findByUrl) url.push(`&find_by_url=${ params.findByUrl }`);\n      if (params.errorDigest) url.push(`&error_digest=${ params.errorDigest }`);\n      if (params.chorusEntryId) url.push(`&chorus_entry_id=${ params.chorusEntryId }`);\n      if (params.projectId) url.push(`&project_id=${ params.projectId }`);\n      if (params.sitemapEntryId) url.push(`&sitemap_entry_id=${ params.sitemapEntryId }`);\n      if (params.archivalStatus) url.push(`&archival_status=${ params.archivalStatus.toLowerCase() }`);\n      if (params.archived) url.push('&archived=true');\n      if (params.watched) url.push('&watched=true');\n      if (params.view) url.push(`&view=${ params.view.toLowerCase() }`);\n      if (params.status) url.push(`&status=${ params.status.toLowerCase() }`);\n      if (params.status === 'FAILED') {\n        url.push('&columns=id,canonical_url,failed_capture_url,error_type,error_message');\n      } else {\n        url.push('&columns=id,canonical_url,chorus_entry_url,chorus_entry_id,document_entry_url,status,watched,modified_at');\n      }\n\n      this.downloadUrl = url.join('');\n    },\n    jobParams(ids='') {\n      ids = ids.split(/\\D/).filter(id => /\\d+/.test(id)).map(Number);\n\n      const search = Object.assign({}, this.searchParams);\n      delete search.pageNumber;\n      delete search.perPage;\n      if (ids.length) search.id = ids;\n      return search;\n    },\n    async runJob() {\n      createJobForm.params = JSON.stringify(this.jobParams());\n      createJobForm.fields.task.options = await this.fetchJobTasks();\n\n      this.setDialog({ tag: 'input-form', form: createJobForm })\n        .then(async (form) => {\n          const jobId = await this.createJob({\n            search: this.jobParams(form.id),\n            task: form.task,\n          });\n\n          this.$router.replace({\n            name: 'jobs',\n            query: {\n              community_id: this.communityId,\n              job: jobId,\n            }\n          });\n        });\n    }\n  }\n};\n</script>\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.loading),expression:\"loading\"}],class:(\"m-app-loader m-app-loader__\" + _vm.animation)},[_c('res-icon',{attrs:{\"name\":_vm.iconName,\"size\":\"large\"}})],1)}\nvar staticRenderFns = []\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',[(_vm.$slots.default || _vm.label || _vm.collapsable)?_c('div',{staticClass:\"m-import-manager__header\"},[_vm._t(\"default\",[_c('h1',[_vm._v(_vm._s(_vm.label))])]),_vm._v(\" \"),(_vm.collapsable)?_c('res-button',{staticClass:\"m-l-1\",attrs:{\"paddingless\":\"\"},on:{\"click\":function($event){$event.preventDefault();_vm.searchActive = !_vm.searchActive}}},[_c('button',[_vm._v(\"Search\")]),_vm._v(\" \"),_c('res-icon',{attrs:{\"name\":_vm.searchActive ? 'minus' : 'add',\"size\":\"large\"}})],1):_vm._e(),_vm._v(\" \"),(_vm.sitemapEntryId)?_c('res-button',{staticClass:\"m-l-a\",attrs:{\"paddingless\":\"\"},on:{\"click\":function($event){$event.preventDefault();return _vm.addDocument()}}},[_c('res-icon',{attrs:{\"name\":\"versions\",\"size\":\"large\"}}),_vm._v(\" \"),_c('button',[_vm._v(\"Add document\")])],1):_vm._e()],2):_vm._e(),_vm._v(\" \"),(_vm.searchActive)?_c('form',{staticClass:\"m-import-manager__fieldset\",on:{\"submit\":function($event){$event.preventDefault();}}},[_c('res-input',{staticStyle:{\"min-width\":\"40%\"}},[_c('label',[_vm._v(\"Lookup\")]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model.lazy\",value:(_vm.lookupInput),expression:\"lookupInput\",modifiers:{\"lazy\":true}}],attrs:{\"type\":\"text\",\"placeholder\":\"URL or Error Code\"},domProps:{\"value\":(_vm.lookupInput)},on:{\"change\":function($event){_vm.lookupInput=$event.target.value}}}),_vm._v(\" \"),_c('res-icon',{attrs:{\"slot\":\"inner-right\",\"name\":\"search\"},slot:\"inner-right\"})],1),_vm._v(\" \"),(_vm.multiCommunity && !_vm.communityScopeId)?_c('res-select',{staticClass:\"m-l-1\"},[_c('label',[_vm._v(\"Community\")]),_vm._v(\" \"),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.communityScopeInput),expression:\"communityScopeInput\"}],on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.communityScopeInput=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},[_c('option',{attrs:{\"value\":\"ALL\"}},[_vm._v(\"All\")]),_vm._v(\" \"),_c('option',{domProps:{\"value\":_vm.communityId}},[_vm._v(_vm._s(_vm.$store.state.currentCommunity.name))]),_vm._v(\" \"),_vm._l((_vm.communityDelegationsList),function(d){return _c('option',{key:d.constituentCommunityId,domProps:{\"value\":d.constituentCommunityId}},[_vm._v(_vm._s(d.name))])})],2)]):_vm._e(),_vm._v(\" \"),_c('res-select',{staticClass:\"m-l-1\"},[_c('label',[_vm._v(\"Filter\")]),_vm._v(\" \"),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.filterInput),expression:\"filterInput\"}],on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.filterInput=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},_vm._l((_vm.filterOptions),function(value,label){return _c('option',{key:label,domProps:{\"value\":label}},[_vm._v(_vm._s(label))])}),0)]),_vm._v(\" \"),(_vm.scopingEnabled)?_c('res-select',{staticClass:\"m-l-1\"},[_c('label',[_vm._v(\"Project\")]),_vm._v(\" \"),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.projectInput),expression:\"projectInput\"}],on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.projectInput=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},[_c('option',{attrs:{\"value\":\"\"}},[_vm._v(\"All\")]),_vm._v(\" \"),_vm._l((_vm.projects),function(project){return _c('option',{key:project.id,domProps:{\"value\":project.id}},[_vm._v(_vm._s(project.name))])})],2)]):_vm._e(),_vm._v(\" \"),(_vm.scopingEnabled)?_c('res-select',{staticClass:\"m-l-1\",attrs:{\"disabled\":!_vm.projectInput}},[_c('label',[_vm._v(\"Sitemap\")]),_vm._v(\" \"),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.sitemapInput),expression:\"sitemapInput\"}],on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.sitemapInput=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},[_c('option',{attrs:{\"value\":\"\"}},[_vm._v(\"All\")]),_vm._v(\" \"),_vm._l((_vm.sitemapsForProject),function(sitemap){return _c('option',{key:sitemap.id,domProps:{\"value\":sitemap.id}},[_vm._v(_vm._s(sitemap.name))])})],2)]):_vm._e()],1):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"m-import-manager__table\"},[_c('res-table',{staticClass:\"m-dashboard__table\",attrs:{\"zebra\":\"true\"}},[_c('table',[_c('thead',[_c('tr',[_c('th',{staticClass:\"--icon-only\"}),_vm._v(\" \"),_c('th',{staticClass:\"--url\"},[_vm._v(\"URL\")]),_vm._v(\" \"),(_vm.multiCommunity)?_c('th',{staticClass:\"--community\"},[_vm._v(\"Community\")]):_vm._e(),_vm._v(\" \"),_c('th',{staticClass:\"--status\"},[_vm._v(\"Status\")]),_vm._v(\" \"),_c('th',{staticClass:\"--modified\"},[_vm._v(\"Last Update\")])])]),_vm._v(\" \"),_c('tbody',_vm._l((_vm.results),function(doc){return _c('tr',{key:doc.id},[_c('td',{staticClass:\"--icon-only\"},[_c('router-link',{attrs:{\"to\":_vm.routeTo('document', doc.id)}},[_c('res-icon',{attrs:{\"name\":\"versions\",\"size\":\"medium\"}})],1)],1),_vm._v(\" \"),_c('td',{staticClass:\"--url\"},[_c('a',{attrs:{\"href\":doc.canonicalUrl}},[_vm._v(_vm._s(_vm.stripURIHost(doc.canonicalUrl)))]),_vm._v(\" \"),_c('a',{attrs:{\"href\":doc.chorusEntryUrl}},[_vm._v(_vm._s(_vm.stripURIHost(doc.chorusEntryUrl)))])]),_vm._v(\" \"),(_vm.multiCommunity)?_c('th',{staticClass:\"--community\"},[_vm._v(\"\\n              \"+_vm._s(_vm.communityNameById[doc.communityId])+\"\\n            \")]):_vm._e(),_vm._v(\" \"),_c('td',{staticClass:\"--status\",class:{ 'is-watched': doc.watched }},[_c('a',{attrs:{\"title\":doc.status}},[_c('res-icon',{attrs:{\"name\":_vm.statusIcon(doc),\"size\":\"medium\"}})],1),_vm._v(\" \"),(doc.queued)?_c('a',{attrs:{\"title\":\"QUEUED\"}},[_c('res-icon',{attrs:{\"name\":\"clock\",\"size\":\"medium\"}})],1):_vm._e(),_vm._v(\" \"),(doc.archived)?_c('a',{attrs:{\"title\":doc.archivalStatus}},[_c('res-icon',{attrs:{\"name\":\"none\",\"size\":\"medium\"}})],1):_vm._e(),_vm._v(\" \"),(doc.watched)?_c('a',{attrs:{\"title\":\"STARRED\"}},[_c('res-icon',{attrs:{\"name\":\"star\",\"size\":\"medium\"}})],1):_vm._e(),_vm._v(\" \"),(doc.errorDigest)?_c('router-link',{staticClass:\"m-import-manager__digest --error\",attrs:{\"to\":_vm.routeTo('capture', doc.failedDocumentCaptureId),\"title\":doc.errorSummary}},[_vm._v(\"\\n                \"+_vm._s(doc.errorDigest.slice(0, 8))+\"\\n                \"),(doc.errorOccurrenceCount)?[_vm._v(\"(\"+_vm._s(doc.errorOccurrenceCount)+\")\")]:_vm._e()],2):_vm._e()],1),_vm._v(\" \"),_c('td',{staticClass:\"--modified\"},[_vm._v(_vm._s(_vm.formatDateTime(doc.updatedAt)))])])}),0)])]),_vm._v(\" \"),_c('footer',[(_vm.loaded)?_c('span',[_c('a',{attrs:{\"href\":\"#\",\"title\":\"Refresh\"},on:{\"click\":function($event){$event.preventDefault();return _vm.refresh()}}},[_c('res-icon',{attrs:{\"animated\":String(_vm.fetching),\"name\":\"loading\",\"size\":\"small\"}})],1),_vm._v(\"\\n        Found \"+_vm._s(_vm.formatNumber(_vm.totalCount))+\" results\\n        \"),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.totalCount > 0),expression:\"totalCount > 0\"}]},[_vm._v(\"\\n          [\"),_c('a',{attrs:{\"href\":_vm.downloadUrl}},[_vm._v(\"download\")]),_vm._v(\" / \"),_c('a',{attrs:{\"href\":_vm.downloadUrl},on:{\"click\":function($event){$event.preventDefault();return _vm.runJob($event)}}},[_vm._v(\"job\")]),_vm._v(\"]\\n        \")])]):_vm._e(),_vm._v(\" \"),_c('res-pagination',{attrs:{\"page\":_vm.page,\"count\":_vm.totalCount,\"display\":_vm.perPage,\"indicator\":\"page\",\"pagination\":\"text-only\",\"navigation\":\"text\"},on:{\"change\":function($event){_vm.page=$event.target.page}}})],1)],1)])}\nvar staticRenderFns = []\nexport { render, staticRenderFns }","/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./parser-revision.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./parser-revision.vue\"\n/* template */\nimport {render as __vue_render__, staticRenderFns as __vue_static_render_fns__} from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6541298a\\\",\\\"hasScoped\\\":false,\\\"optionsId\\\":\\\"0\\\",\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./parser-revision.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nimport normalizeComponent from \"!../../../node_modules/vue-loader/lib/runtime/component-normalizer\"\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_render__,\n  __vue_static_render_fns__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n"],"sourceRoot":""}