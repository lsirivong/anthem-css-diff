{"version":3,"sources":["webpack:///./client/components/dismissible.html","webpack:///./client/components/time-ago.html","webpack:///./client/components/message.html","webpack:///./client/components/embargo-notice.html","webpack:///./client/components/hidden-notice.html","webpack:///./client/lib/custom_fields_enabled.js","webpack:///./client/components/status-icon.html","webpack:///./client/components/nav-community-lockup.html","webpack:///./client/components/support-toggle.html","webpack:///./client/components/editorial-app-notice.html","webpack:///./client/components/liftoff.html","webpack:///./client/components/user-status.html","webpack:///./client/components/navigation.html","webpack:///./client/config/doc_statuses.js","webpack:///./client/components/community-lockup.html","webpack:///./client/actions/support.js","webpack:///./client/components/flash-message.html","webpack:///./client/components/customstory/build-status.html","webpack:///./client/components/entry-missing-notice.html","webpack:///./client/components/sidebar.html","webpack:///./client/components/trashed-notice.html","webpack:///./client/components/archived-notice.html","webpack:///./client/components/customstory/build-button.html","webpack:///./client/actions/editorial_apps.js","webpack:///./client/lib/initials.js"],"names":["Ractive","require","component","module","exports","data","active","class","oninit","this","listenTo","document","e","get","sidebar","find","node","target","parentNode","setTimeout","set","template","v","t","p","a","r","f","extend","moment","userActions","time","timePassed","fullDateFormat","app","config","dateFormat","forceRelative","intervalId","computed","datetime","timezone","getTimezone","tz","displayRelative","diff","observe","setTimePassed","interval","unit","getDiffUnit","setInterval","onteardown","clearInterval","now","diffUnit","substring","length","format","dismissible","n","click","size","title","name","messages","cursors","embargoed","embargoMessage","EMBARGOED","type","components","message","hidden","hiddenMessage","HIDDEN","ENABLED_ORGANIZATIONS","ENABLED_NETWORKS","ENABLED_COMMUNITIES","includes","state","connected","appWorking","autosaveError","status","statusMap","Disconnected","Error","Working","Saved","statusHref","icon","x","s","community","defaultLogo","defaultLogoUrl","small","firstLine","secondLine","firstLineTruncated","window","requestAnimationFrame","fitCommunityName","offscreen","createElement","setAttribute","container","el","innerText","appendChild","body","clientWidth","wordsInName","split","originalHeight","clientHeight","i","currentWord","entries","removeChild","src","modalActions","modal","lastSeenAt","lastReadAt","value","updatesClass","lastSeen","utc","lastRead","lastPosted","announcements","last_announcement_posted_at","isBefore","toggleModal","support","popModal","pushModal","design","paddingless","m","editorialAppActions","editorialAppId","networkDomain","communityId","editorialApp","editorialAppUrl","getEditorialApp","then","href","docActions","urlForEntry","doc","docLabel","scheduledFor","loadingNewDoc","hasLiftoff","docUrl","layoutUrl","scheduledForDate","newValue","oldValue","init","on","newDoc","button","event","original","disabled","createDocAndRedirect","style","rel","initials","users","maxVisible","names","slice","map","user","fullOrUserName","hiddenNames","alt","docStatuses","sentenceCase","toPlaintext","isPublished","debounce","customFieldsEnabled","hed","entitlements","isMobile","page","docStatus","innerWidth","pageActive","which","pageType","messageSpace","modalActive","customstoryLog","links","label","filter","link","splice","width","dashboardUrl","viewMode","appName","join","closeModal","resize","oncomplete","toggle","liftoff","DRAFT","SUBMITTED","APPROVED","PUBLISHED","SCHEDULED","UPDATED","inversion","text","feedback","author","schemaDomain","url","location","userAgent","navigator","request","method","ga","sendEvent","overlayActions","closeOverlay","getModal","messageActions","showMessage","FEEDBACK_SENT","search","community_id","entry_group_ids","entry_group_id","draft","per_page","order","entryId","entryActions","getEntryById","formatEntryResult","pushOverlay","supportEntry","query","searchEntries","pagination","q","entry","innerHTML","body_extended","getElementsByTagName","dek","summary","blurb","entry_id","id","published_date","supportActions","removeMessage","context","setClickListeners","messageItems","findAll","addEventListener","matches","preventDefault","openEntry","dataset","updatedAt","statusLabel","statusMessage","statusPending","newVal","oldVal","undefined","debouncedGetStatus","getCustomstoryStatus","createBuild","async","_error","toggleBuildLog","buttonText","docMissingEntry","missingEntryMessage","MISSING_LEGACY_ENTRY","hasPolicyRole","trashedAt","inProgress","docRestored","docTrashed","hasMessage","daysUntil","canUntrash","untrash","setTrashed","close","unarchiveDoc","updateDoc","archived","recentlyEnteredQueue","queued","createNewBuild","reduce","namePart","charAt"],"mappings":"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","file":"1.2a291e207aecee581b99.0.js","sourcesContent":["var Ractive = require('ractive');\nvar component = module;\n\ncomponent.exports = {\n  data: {\n    active: false,\n    class: ''\n  },\n  oninit: function() {\n    this.listenTo(document, 'click', function(e) {\n      if (!this.get('active')) { return; }\n      var sidebar = this.find('div');\n      var node = e.target;\n      while (node && node !== sidebar) {\n        node = node.parentNode;\n      }\n      if (!node) {\n        // Defer to allow any button toggle logic to go first\n        setTimeout(() => this.set('active', false));\n      }\n    }, true);\n  }\n};\n\ncomponent.exports.template = {v:1,t:[{t:7,p:[1,1,0],e:\"div\",a:{\"class\":[{t:2,r:\"class\",p:[1,13,12]},\" \",{t:4,r:\"active\",f:[\"is-active\"],p:[1,23,22]}]},f:[{t:2,r:\"yield\",p:[2,3,52]}]}]};\nmodule.exports = Ractive.extend(component.exports);\n","var Ractive = require('ractive');\nvar component = module;\n\nvar moment = require('moment-timezone');\nvar userActions = require('../actions/users');\n\ncomponent.exports = {\n  data: {\n    time: null,\n    timePassed: '',\n    fullDateFormat: `${app.config.dateFormat}[ at ]h:mma`,\n    forceRelative: true,\n    intervalId: null\n  },\n  computed: {\n    datetime: function() {\n      var timezone = userActions.getTimezone();\n      return moment.tz(this.get('time'), timezone);\n    },\n    displayRelative: function() {\n      var forceRelative = this.get('forceRelative');\n      var datetime = this.get('datetime');\n      var now = moment.tz(moment(), userActions.getTimezone());\n      var diff = now.diff(datetime, 'days');\n\n      return forceRelative || diff < 8;\n    }\n  },\n  oninit: function() {\n    this.observe('time', this.setTimePassed);\n\n    // Set an interval to update timePassed for relative displays:\n    // 86400000 every day\n    // 3600000  every hour\n    // 60000    every minute\n    if (this.get('displayRelative')) {\n      var interval;\n      var unit = this.getDiffUnit();\n      if (unit === 'minutes' || unit === 'now') {\n        interval = 60000;\n      } else if (unit === 'hours') {\n        interval = 3600000;\n      } else if (unit === 'days') {\n        interval = 86400000;\n      }\n\n      var intervalId = setInterval(() => this.setTimePassed(), interval);\n      this.set('intervalId', intervalId);\n    }\n  },\n  onteardown: function() {\n    var intervalId = this.get('intervalId');\n    if (intervalId) {\n      clearInterval(intervalId);\n    }\n  },\n  setTimePassed: function() {\n    var datetime = this.get('datetime');\n    var now = moment.tz(moment(), userActions.getTimezone());\n\n    if (this.get('displayRelative')) {\n      var diffUnit = this.getDiffUnit();\n\n      // Under a minute, show 'just now'\n      if (diffUnit === 'now') {\n        this.set('timePassed', 'just now');\n      } else {\n        var diff = now.diff(datetime, diffUnit);\n\n        // Ensure we don't show a plural unit for a singular count\n        diffUnit = diff === 1 ? diffUnit.substring(0, diffUnit.length - 1) : diffUnit;\n        this.set('timePassed', `${diff} ${diffUnit} ago`);\n      }\n    } else {\n      this.set('timePassed', datetime.format(this.get('fullDateFormat')));\n    }\n  },\n  getDiffUnit: function() {\n    var datetime = this.get('datetime');\n    var now = moment.tz(moment(), userActions.getTimezone());\n\n    if (now.diff(datetime, 'minutes') === 0) {\n      return 'now';\n    } else if (now.diff(datetime, 'minutes') < 60) {\n      return 'minutes';\n    } else if (now.diff(datetime, 'hours') < 24) {\n      return 'hours';\n    }\n\n    return 'days';\n  }\n};\n\ncomponent.exports.template = {v:1,t:[{t:3,r:\"timePassed\",p:[1,1,0]}]};\nmodule.exports = Ractive.extend(component.exports);\n","var Ractive = require('ractive');\nvar component = module;\n\ncomponent.exports = {\n  data: {\n    dismissible: true\n  }\n};\n\ncomponent.exports.template = {v:1,t:[{t:7,p:[1,1,0],e:\"div\",a:{\"class\":[\"m-message is-\",{t:2,r:\"type\",p:[1,26,25]}]},f:[{t:7,p:[2,3,38],e:\"div\",f:[{t:2,r:\"yield\",p:[3,5,48]}]},\" \",{t:4,n:50,r:\"dismissible\",f:[{t:7,p:[6,5,93],e:\"div\",a:{\"class\":\"m-message__close\"},f:[{t:7,p:[7,7,130],e:\"button\",v:{click:\"close\"},f:[{t:7,p:[7,32,155],e:\"res-icon\",a:{size:\"small\",title:\"Close\",name:\"x-circle\"}}]}]}],p:[5,3,69]}]}]};\nmodule.exports = Ractive.extend(component.exports);\n","var Ractive = require('ractive');\nvar component = module;\n\nvar messages = require('../config/messages');\n\ncomponent.exports = {\n  cursors: {\n    embargoed: ['doc', 'head', 'contents', 'embargoed']\n  },\n  data: {\n    embargoMessage: messages.EMBARGOED\n  }\n};\n\ncomponent.exports.template = {v:1,t:[{t:4,r:\"embargoed\",f:[{t:7,p:[4,3,63],e:\"message\",a:{type:\"negative\",dismissible:\"false\"},f:[{t:2,r:\"embargoMessage\",p:[4,48,108]}]}],p:[3,1,46]}]};\ncomponent.exports.components = {message: require('./message.html')};\nmodule.exports = Ractive.extend(component.exports);\n","var Ractive = require('ractive');\nvar component = module;\n\nvar messages = require('../config/messages');\n\ncomponent.exports = {\n  cursors: {\n    hidden: ['doc', 'head', 'contents', 'hidden']\n  },\n  data: {\n    hiddenMessage: messages.HIDDEN\n  }\n};\n\ncomponent.exports.template = {v:1,t:[{t:4,r:\"hidden\",f:[{t:7,p:[4,3,60],e:\"message\",a:{type:\"cautionary\",dismissible:\"false\"},f:[{t:2,r:\"hiddenMessage\",p:[4,50,107]}]}],p:[3,1,46]}]};\ncomponent.exports.components = {message: require('./message.html')};\nmodule.exports = Ractive.extend(component.exports);\n","const ENABLED_ORGANIZATIONS = [\n  'startribune',\n];\nconst ENABLED_NETWORKS = [];\nconst ENABLED_COMMUNITIES = [\n  'startribune',\n  'citypages',\n  'anthem-test-blog-sbnprivate'\n];\n\nmodule.exports = function() {\n  return ENABLED_ORGANIZATIONS.includes(app.state.get(['community', 'network', 'organization', 'slug']))\n    || ENABLED_NETWORKS.includes(app.state.get(['community', 'network', 'slug']))\n    || ENABLED_COMMUNITIES.includes(app.state.get(['community', 'slug']));\n};\n","var Ractive = require('ractive');\nvar component = module;\n\ncomponent.exports = {\n  cursors: {\n    connected: ['connected'],\n    appWorking: ['appWorking'],\n    autosaveError: ['autosave', 'error']\n  },\n  data: {\n    status: 'Saved',\n    statusMap: {\n      Disconnected: 'x',\n      Error: 'x',\n      Working: 'more',\n      Saved: 'check'\n    }\n  },\n  computed: {\n    status: function() {\n      if (this.get('autosaveError')) {\n        return 'Error';\n      } else if (this.get('connected')) {\n        return this.get('appWorking') ? 'Working' : 'Saved';\n      } else {\n        return 'Disconnected';\n      }\n    },\n    statusHref: function() {\n      return this.get(`statusMap.${this.get('status')}`);\n    }\n  }\n};\n\ncomponent.exports.template = {v:1,p:{icon:[{t:7,p:[2,1,1],e:\"res-icon\",a:{size:\"medium\",title:[{t:2,r:\"status\",p:[2,32,32]}],\"class\":[\"m-nav-top__status-icon m-nav-top__status-icon--\",{t:2,x:{r:[\"status\"],s:\"_0.toLowerCase()\"},p:[2,98,98]}],name:[{t:2,r:\"statusHref\",p:[2,130,130]}]}},{t:7,p:[2,148,148],e:\"span\",f:[{t:2,r:\"status\",p:[2,154,154]}]}]},t:[{t:4,n:50,x:{r:[\"status\"],s:\"_0===\\\"Saved\\\"\"},f:[{t:8,r:\"icon\",p:[4,3,31]}],p:[3,1,2]},{t:4,n:50,x:{r:[\"status\"],s:\"_0===\\\"Working\\\"\"},f:[{t:8,r:\"icon\",p:[8,3,81]}],p:[7,1,50]},{t:4,n:50,x:{r:[\"status\"],s:\"_0===\\\"Error\\\"\"},f:[{t:8,r:\"icon\",p:[12,3,129]}],p:[11,1,100]},{t:4,n:50,x:{r:[\"status\"],s:\"_0===\\\"Disconnected\\\"\"},f:[{t:8,r:\"icon\",p:[16,3,184]}],p:[15,1,148]}]};\nmodule.exports = Ractive.extend(component.exports);\n","var Ractive = require('ractive');\nvar component = module;\n\nconst CONTAINER_WIDTH = 108;\n\ncomponent.exports = {\n  cursors: {\n    community: ['community']\n  },\n  data: {\n    defaultLogo: app.config.defaultLogoUrl,\n    small: false,\n    firstLine: '',\n    secondLine: '',\n    firstLineTruncated: false\n  },\n  oninit: function() {\n    window.requestAnimationFrame(() => this.fitCommunityName());\n  },\n  fitCommunityName: function() {\n    var offscreen = document.createElement('div');\n    offscreen.setAttribute('style', 'width: 20rem; height: 10rem; position: absolute; left: -9999px; top: 0;');\n\n    var container = document.createElement('div');\n    container.setAttribute('style', 'width: 7rem; text-align: center;');\n\n    var el = document.createElement('span');\n    el.setAttribute('style', 'font-size: 0.889rem; display: inline-block;');\n    el.innerText = this.get('community').name;\n\n    container.appendChild(el);\n\n    offscreen.appendChild(container);\n    document.body.appendChild(offscreen);\n\n    var nameWidth = el.clientWidth;\n\n    if (nameWidth > CONTAINER_WIDTH) {\n      this.set('small', true);\n\n      // Mimic actual styles\n      el.setAttribute('style', 'font-size: .79rem; display: inline-block; padding: 0 4px;');\n\n      var name = this.get('community').name;\n      var wordsInName = name.split(' ');\n\n      // Actual letter is irrelevant, just need a base one-line height\n      el.innerText = 'a';\n      var originalHeight = el.clientHeight;\n      // See if entire name can now fit on one line\n      el.innerText = name;\n      if (el.clientHeight === originalHeight) {\n        this.set('firstLine', name);\n      } else {\n        // If we can't fit the entire community name on one line,\n        // We'll display the first line as-is and use CSS to truncate the second line (if need be)\n        var firstLine = '';\n        el.innerText = '';\n        // Loop through the words in the name; at each word,\n        // stop to see if we've increased the height. If we have, we're done.\n        for (let [i, currentWord] of wordsInName.entries()) {\n          if (i === 0) {\n            el.innerText = currentWord;\n          } else {\n            el.innerText += ' ' + currentWord;\n          }\n          if (el.clientHeight === originalHeight) {\n            firstLine = el.innerText;\n          } else {\n            break;\n          }\n        }\n        this.set('firstLine', firstLine);\n        this.set('secondLine', name.split(firstLine + ' ')[1]);\n      }\n      // If the first word is extremely long we will use CSS to truncate the first line\n      el.innerText = wordsInName[0];\n      if (el.clientWidth > CONTAINER_WIDTH) {\n        this.set('firstLineTruncated', true);\n      }\n    }\n\n    document.body.removeChild(offscreen);\n  }\n};\n\ncomponent.exports.template = {v:1,t:[{t:4,r:\"community\",f:[{t:7,p:[2,3,17],e:\"div\",a:{\"class\":[\"m-nav__icon \",{t:4,n:50,x:{r:[\".name\"],s:\"_0===\\\"Vox\\\"\"},f:[\"m-nav__icon--vox\"],p:[2,27,41]}]},f:[{t:7,p:[3,5,94],e:\"img\",a:{\"class\":\"m-community-select__icon\",src:[{t:2,x:{r:[\"faviconUrl\",\"defaultLogo\"],s:\"_0||_1\"},p:[3,48,137]}]}}]},\" \",{t:4,n:50,r:\"firstLine\",f:[{t:7,p:[6,7,209],e:\"span\",a:{\"class\":[\"m-community-select__name m-community-select__name--first \",{t:4,n:50,r:\"firstLineTruncated\",f:[\"m-community-select__name--truncated\"],p:[6,77,279]},\" \",{t:4,n:50,r:\"secondLine\",f:[\"m-community-select__name--has-second\"],p:[6,146,348]}]},f:[{t:2,r:\"firstLine\",p:[6,209,411]}]},\" \",{t:4,n:50,r:\"secondLine\",f:[{t:7,p:[8,9,465],e:\"span\",a:{\"class\":\"m-community-select__name m-community-select__name--second m-community-select__name--truncated\"},f:[{t:2,r:\"secondLine\",p:[8,117,573]}]}],p:[7,7,438]}],p:[5,5,185]},{t:4,n:51,f:[{t:7,p:[11,7,628],e:\"span\",a:{\"class\":\"m-community-select__name\"},f:[{t:2,r:\"name\",p:[12,9,676]}]}],r:\"firstLine\"}],p:[1,1,0]}]};\nmodule.exports = Ractive.extend(component.exports);\n","var Ractive = require('ractive');\nvar component = module;\n\nvar moment = require('moment-timezone');\nvar modalActions = require('../actions/modals');\n\ncomponent.exports = {\n  cursors: {\n    modal: ['modal'],\n    lastSeenAt: ['user', 'lastAnnouncementSeenAt'],\n    lastReadAt: ['user', 'lastAnnouncementReadAt']\n  },\n  data: {\n    value: ''\n  },\n  computed: {\n    updatesClass: function() {\n      var lastSeen = moment(this.get('lastSeenAt')).utc();\n      var lastRead = moment(this.get('lastReadAt')).utc();\n      var lastPosted = moment(app.config.announcements.last_announcement_posted_at).utc();\n\n      // Set the updates flag for support modal & the appropriate icon style based\n      // on last read / seen status.\n      if (lastSeen.isBefore(lastPosted)) {\n        return 'is-unseen';\n      } else if (lastRead.isBefore(lastPosted)) {\n        return 'is-unread';\n      }\n    }\n  },\n  toggleModal: function() {\n    var modal = this.get('modal');\n    if (modal && modal.support) {\n      modalActions.popModal();\n    } else {\n      modalActions.pushModal({ support: true });\n    }\n  }\n};\n\ncomponent.exports.template = {v:1,t:[{t:7,p:[1,1,0],e:\"res-button\",a:{design:\"default\",paddingless:0,\"class\":[\"m-support__icon \",{t:2,r:\"updatesClass\",p:[1,65,64]},\" \",{t:4,r:\"active\",f:[\"is-active\"],p:[1,82,81]}]},f:[{t:7,p:[2,3,111],e:\"res-icon\",a:{size:\"medium\",title:\"Help\",name:\"help\"}},\" \",{t:7,p:[3,3,165],e:\"button\",a:{type:\"button\"},v:{click:{m:\"toggleModal\",a:{r:[],s:\"[]\"}}}}]}]};\nmodule.exports = Ractive.extend(component.exports);\n","var Ractive = require('ractive');\nvar component = module;\n\nvar editorialAppActions = require('../actions/editorial_apps');\n\ncomponent.exports = {\n  cursors: {\n    editorialAppId: ['doc', 'head', 'contents', 'editorial_app_id'],\n    networkDomain: ['community', 'network', 'schemaDomain'],\n    communityId: ['community', 'id']\n  },\n  data: {\n    editorialApp: null\n  },\n  computed: {\n    editorialAppUrl: function() {\n      return `http://${this.get('networkDomain')}/admin/editorial_apps/edit/${this.get('editorialAppId')}?community_id=${this.get('communityId')}`;\n    }\n  },\n  oninit: function() {\n    this.observe('editorialAppId', editorialAppId => {\n      if (!editorialAppId) {\n        this.set('editorialApp', null);\n      } else {\n        editorialAppActions.getEditorialApp(editorialAppId).then(editorialApp => {\n          this.set('editorialApp', editorialApp);\n        });\n      }\n    });\n  }\n};\n\ncomponent.exports.template = {v:1,t:[{t:4,r:\"editorialApp\",f:[{t:7,p:[4,3,66],e:\"message\",a:{type:\"positive\",dismissible:\"false\"},f:[\"This story is part of the editorial app \",{t:7,p:[5,45,156],e:\"a\",a:{href:[{t:2,r:\"editorialAppUrl\",p:[5,54,165]}]},f:[{t:2,r:\"editorialApp.slug\",p:[5,75,186]}]},\".\"]}],p:[3,1,46]}]};\ncomponent.exports.components = {message: require('./message.html')};\nmodule.exports = Ractive.extend(component.exports);\n","var Ractive = require('ractive');\nvar component = module;\n\nvar moment = require('moment-timezone');\nvar docActions = require('../actions/docs');\nvar userActions = require('../actions/users');\nvar urlForEntry = require('../lib/url_for_entry');\n\ncomponent.exports = {\n  cursors: {\n    doc: ['doc'],\n    status: ['doc', 'status'],\n    docLabel: ['docLabel'],\n    networkDomain: ['community', 'network', 'schemaDomain'],\n    scheduledFor: ['doc', 'head', 'contents', 'publish_scheduled_for']\n  },\n  data: {\n    loadingNewDoc: false,\n    hasLiftoff: false\n  },\n  computed: {\n    docUrl: function() {\n      return urlForEntry(this.get('doc.entry_id'));\n    },\n    layoutUrl: function() {\n      var networkDomain = this.get('networkDomain');\n      var communityId = this.get('doc.community_id');\n      return `http://${networkDomain}/admin/hub_layout/show?community_id=${communityId}`;\n    },\n    scheduledForDate: function() {\n      var scheduledFor = moment.tz(this.get('scheduledFor'), userActions.getTimezone());\n      return scheduledFor.format(`[<b>]${app.config.dateFormat}[</b> at <b>]h:mma z[</b>]`);\n    }\n  },\n  oninit: function() {\n    // The first time a doc's status updates to PUBLISHED or SCHEDULED, set hasLiftoff to true\n    this.observe('status', (newValue, oldValue) => {\n      this.set('hasLiftoff', oldValue !== newValue && (newValue === 'PUBLISHED' || newValue === 'SCHEDULED'));\n    }, { init: false });\n    // If the doc's status is SCHEDULED and its schedule time changes, set hasLiftoff to true\n    this.observe('scheduledFor', (newValue, oldValue) => {\n      if (this.get('status') === 'SCHEDULED' && newValue && newValue !== oldValue) {\n        this.set('hasLiftoff', true);\n      }\n    }, { init: false });\n    this.on('message.close', () => {\n      this.set('hasLiftoff', false);\n    });\n  },\n  newDoc: function() {\n    var button = this.event.original.target;\n    setTimeout(() => button.disabled = true);\n\n    this.set('loadingNewDoc', true);\n    docActions.createDocAndRedirect('story');\n  }\n};\n\ncomponent.exports.template = {v:1,p:{newDoc:[{t:7,p:[2,3,3],e:\"res-button\",a:{style:\"default\",paddingless:0},f:[{t:7,p:[3,5,48],e:\"button\",a:{type:\"button\"},v:{click:{m:\"newDoc\",a:{r:[],s:\"[]\"}}},f:[\"Start new story \",{t:4,r:\"loadingNewDoc\",f:[{t:7,p:[5,26,138],e:\"res-icon\",a:{size:\"medium\",title:\"Loading\",name:\"more\"}}],p:[5,7,119]}]}]}]},t:[{t:4,n:50,x:{r:[\"hasLiftoff\",\"status\",\"scheduledFor\"],s:\"_0&&_1===\\\"SCHEDULED\\\"&&_2\"},f:[{t:7,p:[6,3,111],e:\"message\",a:{type:\"positive\"},f:[{t:7,p:[7,5,141],e:\"span\",a:{\"class\":\"m-message__text\"},f:[\"Your \",{t:2,r:\"docLabel\",p:[7,40,176]},\" is scheduled for \",{t:3,r:\"scheduledForDate\",p:[7,70,206]},\".\"]},\" \",{t:7,p:[8,5,241],e:\"span\",a:{\"class\":\"m-message__buttons\"},f:[{t:8,r:\"newDoc\",p:[9,7,281]},\" \",{t:7,p:[10,7,299],e:\"res-button\",a:{design:\"default\",paddingless:0,\"class\":\"m-l-1\"},m:[{t:4,r:\"disabled\",f:[\"disabled\"],p:[10,62,354]}],f:[{t:7,p:[11,9,390],e:\"a\",a:{type:\"button\",href:[\"/?community_id=\",{t:2,r:\"doc.community_id\",p:[11,47,428]}],rel:\"external\"},f:[\"Go to dashboard\"]}]}]}]}],p:[5,1,48]},{t:4,n:50,x:{r:[\"hasLiftoff\",\"status\"],s:\"_0&&_1===\\\"PUBLISHED\\\"\"},f:[{t:7,p:[17,3,585],e:\"message\",a:{type:\"positive\"},f:[{t:7,p:[18,5,615],e:\"span\",a:{\"class\":\"m-message__text\"},f:[\"Your \",{t:2,r:\"docLabel\",p:[19,12,657]},\" has been published.\"]},\" \",{t:7,p:[21,5,706],e:\"span\",a:{\"class\":\"m-message__buttons\"},f:[{t:7,p:[22,7,746],e:\"res-button\",a:{design:\"default\",paddingless:0,\"class\":\"m-r-1\"},m:[{t:4,r:\"disabled\",f:[\"disabled\"],p:[22,62,801]}],f:[{t:7,p:[23,9,837],e:\"a\",a:{type:\"button\",href:[{t:2,r:\"docUrl\",p:[23,32,860]}]},f:[\"View \",{t:2,r:\"docLabel\",p:[23,49,877]}]}]},\" \",{t:8,r:\"newDoc\",p:[25,7,920]},\" \",{t:7,p:[26,7,938],e:\"res-button\",a:{design:\"default\",paddingless:0,\"class\":\"m-l-1\"},m:[{t:4,r:\"disabled\",f:[\"disabled\"],p:[26,62,993]}],f:[{t:7,p:[27,9,1029],e:\"a\",a:{type:\"button\",href:[{t:2,r:\"layoutUrl\",p:[27,32,1052]}]},f:[\"Go to layout\"]}]}]}]}],p:[16,1,538]}]};\ncomponent.exports.components = {message: require('./message.html')};\nmodule.exports = Ractive.extend(component.exports);\n","var Ractive = require('ractive');\nvar component = module;\n\nvar initials = require('../lib/initials');\n\ncomponent.exports = {\n  cursors: {\n    users: ['users']\n  },\n  computed: {\n    maxVisible: function() {\n      // Ensure we always display a maximum of 4 icons, either:\n      // A) Up to 4 initials avatars\n      // B) 3 initials avatars and one +N avatar\n      return this.get('users').length > 4 ? 3 : 4;\n    },\n    names: function() {\n      var users = this.get('users');\n      var maxVisible = this.get('maxVisible');\n\n      return users.slice(0, maxVisible).map(user => {\n        return {\n          fullOrUserName: user.fullOrUserName,\n          initials: initials(user.fullOrUserName)\n        };\n      });\n    },\n    hiddenNames: function() {\n      var users = this.get('users');\n      var maxVisible = this.get('maxVisible');\n\n      // Will be an empty array when there are less than 4 active users\n      return users.slice(maxVisible).map(user => user.fullOrUserName);\n    }\n  }\n};\n\ncomponent.exports.template = {v:1,t:[{t:4,n:50,x:{r:[\"names.length\"],s:\"_0>1\"},f:[{t:4,r:\"names\",i:\"i\",f:[{t:7,p:[3,5,44],e:\"div\",a:{\"class\":\"m-avatar\",alt:[{t:2,r:\"./fullOrUserName\",p:[3,32,71]}],title:[{t:2,r:\"./fullOrUserName\",p:[3,64,103]}]},f:[{t:2,r:\"./initials\",p:[4,7,135]}]}],p:[2,3,27]},\" \",{t:4,n:50,x:{r:[\"hiddenNames.length\"],s:\"_0>0\"},f:[{t:7,p:[9,5,215],e:\"div\",a:{\"class\":\"m-avatar\",alt:[{t:2,x:{r:[\"hiddenNames\"],s:\"_0.join(\\\", \\\")\"},p:[9,32,242]}],title:[{t:2,x:{r:[\"hiddenNames\"],s:\"_0.join(\\\", \\\")\"},p:[9,67,277]}]},f:[\"+\",{t:2,r:\"hiddenNames.length\",p:[10,8,313]}]}],p:[8,3,180]}],p:[1,1,0]}]};\nmodule.exports = Ractive.extend(component.exports);\n","var Ractive = require('ractive');\nvar component = module;\n\nvar modalActions = require('../actions/modals');\nvar docStatuses = require('../config/doc_statuses');\nvar sentenceCase = require('../../shared/sentence_case');\nvar toPlaintext = require('convert-rich-text').toPlaintext;\nvar urlForEntry = require('../lib/url_for_entry');\nvar isPublished = require('../lib/is_published');\nvar { debounce } = require('lodash');\nconst customFieldsEnabled = require('../lib/custom_fields_enabled');\n\n// The minimum width required for always displaying the full status for a doc\n// 1280px = 80rem\nconst FULL_STATUS_WIDTH = 1280;\n\ncomponent.exports = {\n  cursors: {\n    doc: ['doc'],\n    hed: ['doc', 'head', 'contents', 'draft', 'hed'],\n    docLabel: ['docLabel'],\n    users: ['users'],\n    messages: ['messages'],\n    entitlements: ['entitlements'],\n    modal: ['modal']\n  },\n  data: {\n    toPlaintext: toPlaintext,\n    isMobile: false,\n    page: '',\n    docStatus: '',\n    innerWidth: window.innerWidth,\n    pageActive: function(which) {\n      return this.get('page') === which ? 'is-active' : '';\n    }\n  },\n  computed: {\n    pageType: function() {\n      return this.get('page') === 'compose' ? 'editor' : 'metadata';\n    },\n    messageSpace: function() {\n      return this.get('messages').length * 30;\n    },\n    modalActive: function() {\n      let modal = this.get('modal');\n      return modal && (modal.customstoryLog || modal.support);\n    },\n    links: function() {\n      var docLabel = this.get('docLabel');\n      var configurationLink = { name: 'configure', label: 'Configure' };\n\n      var links = [];\n      if (docLabel === 'package') {\n        links = [\n          { name: 'package', label: 'Package' },\n          { name: 'compose', label: 'Compose' },\n          { name: 'u-layout', label: 'Layout' },\n          { name: 'preview', label: 'Preview' },\n          { name: 'preflight', label: 'Finalize' }\n        ];\n      } else if (docLabel === 'link') {\n        links = [\n          { name: 'compose', label: 'Compose' },\n          { name: 'preflight', label: 'Finalize' }\n        ];\n      } else if (docLabel === 'custom story') {\n        links =  [\n          { name: 'customstory', label: 'Project' },\n          { name: 'compose', label: 'Compose' },\n          { name: 'preview', label: 'Preview' },\n          { name: 'preflight', label: 'Finalize' }\n        ];\n      } else if (docLabel === 'mapstack' || docLabel === 'stream') { // no layout option\n        links = [\n          { name: 'compose', label: 'Compose' },\n          { name: 'preview', label: 'Preview' },\n          { name: 'preflight', label: 'Finalize' }\n        ];\n      } else {\n        links = [\n          { name: 'compose', label: 'Compose' },\n          { name: 'u-layout', label: 'Layout' },\n          { name: 'preview', label: 'Preview' },\n          { name: 'preflight', label: 'Finalize' }\n        ];\n      }\n      if (app.state.get(['community', 'headlessModeEnabled']) && !app.state.get(['community', 'externalPreviewEnabled'])) {\n        links = links.filter(link => link.name !== 'preview');\n        links = links.filter(link => link.name !== 'u-layout');\n      }\n      if (customFieldsEnabled()) {\n        links.splice(1, 0, configurationLink);\n      }\n      return links;\n    },\n    docStatus: function() {\n      var status = this.get('doc.status');\n      var width = this.get('innerWidth');\n      if (status === 'UPDATED') {\n        return width >= FULL_STATUS_WIDTH ? 'Unpublished changes' : 'Changes';\n      }\n      return sentenceCase(docStatuses[status]);\n    },\n    docUrl: function() {\n      return urlForEntry(this.get('doc.entry_id'));\n    },\n    isPublished: function() {\n      return isPublished(this.get('doc.status'));\n    },\n    dashboardUrl: function() {\n      var communityId = this.get('doc.community_id');\n      var viewMode = '';\n      if (this.get('docLabel') === 'page') {\n        viewMode = 'pages';\n      }\n      return `/${viewMode}?community_id=${communityId}`;\n    }\n  },\n  oninit: function() {\n    this.observe('hed', function(title) {\n      document.title = [toPlaintext(title), app.config.appName].join(' | ');\n    });\n\n    this.observe('modalActive', function(active) {\n      if (active && this.get('isMobile')) {\n        this.set('isMobile', false);\n      }\n    });\n    this.observe('isMobile', function(isMobile) {\n      if (isMobile && this.get('modalActive')) {\n        modalActions.closeModal();\n      }\n    });\n\n    this.listenTo(window, 'resize', debounce(() => this.resize(), 50));\n  },\n  oncomplete: function() {\n    this.resize();\n  },\n  resize: function() {\n    // This will trigger an update of the `docStatus` computed property\n    this.set('innerWidth', window.innerWidth);\n    if (window.innerWidth > 640 && this.get('isMobile')) {\n      this.toggle('isMobile');\n    }\n  }\n};\n\ncomponent.exports.template = {v:1,t:[{t:7,p:[19,1,885],e:\"div\",a:{\"class\":[\"m-nav m-nav--\",{t:2,r:\"pageType\",p:[19,26,910]},\" m-nav--messages-\",{t:2,r:\"messages.length\",p:[19,55,939]}]},f:[{t:7,p:[20,3,963],e:\"flash-message\"},\" \",{t:7,p:[21,3,997],e:\"embargo-notice\"},\" \",{t:7,p:[22,3,1033],e:\"hidden-notice\"},\" \",{t:7,p:[23,3,1067],e:\"archived-notice\"},\" \",{t:7,p:[24,3,1105],e:\"entry-missing-notice\"},\" \",{t:7,p:[25,3,1153],e:\"editorial-app-notice\"},\" \",{t:7,p:[26,3,1201],e:\"trashed-notice\"},\" \",{t:7,p:[27,3,1237],e:\"liftoff\"},\" \",{t:7,p:[28,3,1259],e:\"div\",a:{\"class\":\"m-nav__inner\"},f:[\" \",{t:7,p:[30,5,1320],e:\"a\",a:{\"class\":\"m-nav__lockup\",href:[{t:2,r:\"dashboardUrl\",p:[30,36,1351]}],rel:\"external\"},f:[{t:7,p:[31,7,1391],e:\"nav-community-lockup\"}]},\" \",{t:7,p:[33,5,1429],e:\"div\",a:{\"class\":\"m-nav__top\"},f:[{t:7,p:[34,7,1460],e:\"h1\",a:{\"class\":\"m-nav__title\"},f:[{t:2,x:{r:[\"toPlaintext\",\"hed\"],s:\"_0(_1)\"},p:[34,32,1485]}]},\" \",{t:4,n:50,r:\"isPublished\",f:[{t:7,p:[36,9,1545],e:\"div\",a:{\"class\":\"m-nav__link\"},f:[{t:7,p:[37,11,1581],e:\"a\",a:{href:[{t:2,r:\"docUrl\",p:[37,20,1590]}],target:\"_blank\"},f:[{t:7,p:[38,13,1631],e:\"res-icon\",a:{size:\"small\",name:\"publish\"}}]}]}],p:[35,7,1517]},\" \",{t:4,n:50,x:{r:[\"page\"],s:\"_0!==\\\"sass-editor\\\"\"},f:[{t:7,p:[43,9,1770],e:\"support-toggle\"}],p:[42,7,1731]}]},\" \",{t:7,p:[46,5,1833],e:\"div\",a:{\"class\":\"m-nav__bottom\"},f:[{t:7,p:[47,7,1867],e:\"nav\",f:[{t:4,r:\"links\",i:\"i\",f:[{t:7,p:[49,11,1904],e:\"a\",a:{type:\"button\",href:[\"/\",{t:2,r:\"name\",p:[49,35,1928]},\"/\",{t:2,r:\"doc.uuid\",p:[49,44,1937]}],rel:\"external\",\"class\":[{t:2,x:{r:[\"pageActive\",\"name\"],s:\"_0(_1)\"},p:[49,80,1973]}]},f:[{t:2,r:\"label\",p:[49,102,1995]}]}],p:[48,9,1881]}]},\" \",{t:7,p:[52,7,2047],e:\"div\",a:{\"class\":\"m-nav__statuses\"},f:[{t:7,p:[53,9,2085],e:\"div\",a:{\"class\":\"m-nav__user-status\"},f:[{t:7,p:[54,11,2128],e:\"user-status\"}]},\" \",{t:7,p:[56,9,2179],e:\"div\",a:{\"class\":\"m-nav__story-status\"},f:[{t:7,p:[57,11,2223],e:\"status-icon\"}]},\" \",{t:7,p:[59,9,2274],e:\"span\",a:{\"class\":[\"m-status m-status--\",{t:2,x:{r:[\"doc.status\"],s:\"_0.toLowerCase()\"},p:[59,41,2306]}]},f:[{t:2,r:\"docStatus\",p:[59,71,2336]}]}]}]}]},\" \",{t:4,n:50,x:{r:[\"docLabel\"],s:\"_0===\\\"custom story\\\"\"},f:[{t:7,p:[64,5,2432],e:\"div\",a:{\"class\":\"m-nav__sub\"},f:[{t:7,p:[65,7,2463],e:\"div\",a:{\"class\":\"m-nav__build-status\"},f:[{t:7,p:[66,9,2505],e:\"build-status\",a:{innerWidth:[{t:2,r:\"innerWidth\",p:[66,35,2531]}],isMobile:[{t:2,r:\"isMobile\",p:[66,61,2557]}]}}]}]}],p:[63,3,2392]},\" \",{t:7,p:[70,3,2623],e:\"div\",a:{\"class\":[\"m-nav-mobile \",{t:4,r:\"isMobile\",f:[\"is-active\"],p:[70,28,2648]}]},f:[{t:7,p:[71,5,2682],e:\"button\",a:{type:\"button\"},v:{click:{m:\"toggle\",a:{r:[],s:\"[\\\"isMobile\\\"]\"}}},f:[{t:7,p:[72,7,2741],e:\"div\",a:{\"class\":\"bar\"}},\" \",{t:7,p:[73,7,2771],e:\"div\",a:{\"class\":\"bar\"}},\" \",{t:7,p:[74,7,2801],e:\"div\",a:{\"class\":\"bar\"}}]}]}]},\" \",{t:7,p:[79,1,2856],e:\"div\",a:{\"class\":[\"m-nav-mobile--menu \",{t:4,r:\"isMobile\",f:[\"is-active\"],p:[79,32,2887]}],style:[\"margin-top: \",{t:2,r:\"messageSpace\",p:[79,80,2935]},\"px;\"]},f:[{t:7,p:[80,3,2959],e:\"div\",a:{\"class\":\"m-nav-mobile--menu__top\"},f:[{t:7,p:[81,5,3001],e:\"h1\",f:[{t:2,r:\"doc.title\",p:[81,9,3005]}]},\" \",{t:7,p:[82,5,3028],e:\"support-toggle\",a:{active:[{t:2,r:\"supportActive\",p:[82,29,3052]}]}}]},\" \",{t:7,p:[84,3,3100],e:\"div\",a:{\"class\":\"m-nav-mobile--menu__community\"},f:[{t:7,p:[85,5,3148],e:\"a\",a:{href:[\"/?community_id=\",{t:2,r:\"doc.community_id\",p:[85,29,3172]}],rel:\"external\",\"class\":\"m-community-select__lockup\"},f:[{t:7,p:[86,7,3251],e:\"community-lockup\"}]}]},\" \",{t:7,p:[89,3,3292],e:\"nav\",f:[{t:4,r:\"links\",f:[{t:7,p:[91,7,3319],e:\"a\",a:{type:\"button\",href:[\"/\",{t:2,r:\"name\",p:[91,31,3343]},\"/\",{t:2,r:\"doc.uuid\",p:[91,40,3352]}],rel:\"external\",\"class\":[{t:2,x:{r:[\"pageActive\",\"name\"],s:\"_0(_1)\"},p:[91,76,3388]}]},f:[{t:2,r:\"label\",p:[91,98,3410]}]}],p:[90,5,3302]}]},\" \",{t:4,n:50,x:{r:[\"docLabel\"],s:\"_0===\\\"custom story\\\"\"},f:[{t:7,p:[95,5,3490],e:\"div\",a:{\"class\":\"m-nav-mobile--menu__status m-nav-mobile--menu__status--csk\"},f:[{t:7,p:[96,7,3569],e:\"div\",a:{\"class\":\"m-nav-mobile__build-status\"},f:[{t:7,p:[97,9,3618],e:\"build-status\",a:{innerWidth:[{t:2,r:\"innerWidth\",p:[97,35,3644]}],isMobile:[{t:2,r:\"isMobile\",p:[97,61,3670]}]}}]}]}],p:[94,3,3450]},\" \",{t:7,p:[101,3,3736],e:\"div\",a:{\"class\":[\"m-nav-mobile--menu__status \",{t:4,n:50,x:{r:[\"users.length\"],s:\"_0>1\"},f:[\"m-nav-mobile--menu__status--active\"],p:[101,42,3775]}]},f:[{t:7,p:[102,5,3847],e:\"div\",a:{\"class\":\"m-nav-mobile__user-status\"},f:[{t:7,p:[103,7,3893],e:\"user-status\"}]},\" \",{t:7,p:[105,5,3936],e:\"div\",a:{\"class\":\"m-nav-mobile__icon-cont\"},f:[{t:7,p:[106,7,3980],e:\"status-icon\"},\" \",{t:7,p:[107,7,4014],e:\"span\",a:{\"class\":[\"m-status m-status--\",{t:2,x:{r:[\"doc.status\"],s:\"_0.toLowerCase()\"},p:[107,39,4046]}]},f:[{t:2,r:\"docStatus\",p:[107,69,4076]}]}]}]}]}]};\ncomponent.exports.components = {\"build-status\": require('./customstory/build-status.html'), \"trashed-notice\": require('./trashed-notice.html'), \"editorial-app-notice\": require('./editorial-app-notice.html'), \"entry-missing-notice\": require('./entry-missing-notice.html'), \"hidden-notice\": require('./hidden-notice.html'), \"embargo-notice\": require('./embargo-notice.html'), liftoff: require('./liftoff.html'), sidebar: require('./sidebar.html'), \"time-ago\": require('./time-ago.html'), \"support-toggle\": require('./support-toggle.html'), \"user-status\": require('./user-status.html'), \"status-icon\": require('./status-icon.html'), \"archived-notice\": require('./archived-notice.html'), \"flash-message\": require('./flash-message.html'), dismissible: require('./dismissible.html'), \"nav-community-lockup\": require('./nav-community-lockup.html'), \"community-lockup\": require('./community-lockup.html')};\nmodule.exports = Ractive.extend(component.exports);\n","exports.DRAFT = 'draft';\nexports.SUBMITTED = 'submitted';\nexports.APPROVED = 'approved';\nexports.PUBLISHED = 'published';\nexports.SCHEDULED = 'scheduled';\nexports.UPDATED = 'unpublished changes';\n","var Ractive = require('ractive');\nvar component = module;\n\ncomponent.exports = {\n  cursors: {\n    community: ['community']\n  },\n  data: {\n    defaultLogo: app.config.defaultLogoUrl\n  },\n  computed: {\n    inversion: function() {\n      return this.get('community.faviconUrl') && this.get('community.name') === 'Racked';\n    }\n  }\n};\n\ncomponent.exports.template = {v:1,t:[{t:4,r:\"community\",f:[{t:7,p:[2,3,17],e:\"div\",a:{\"class\":\"m-community-select__avatar\"},f:[{t:7,p:[3,5,62],e:\"img\",a:{\"class\":[\"m-community-select__icon \",{t:4,n:50,r:\"inversion\",f:[\"--invert\"],p:[3,42,99]}],src:[{t:2,x:{r:[\"faviconUrl\",\"defaultLogo\"],s:\"_0||_1\"},p:[3,81,138]}]}}]},\" \",{t:7,p:[5,3,183],e:\"span\",a:{\"class\":\"m-community-select__name\"},f:[{t:2,r:\"name\",p:[5,42,222]}]}],p:[1,1,0]}]};\nmodule.exports = Ractive.extend(component.exports);\n","var request = require('../lib/request');\nvar messages = require('../config/messages');\nvar ga = require('../lib/ga');\nvar entryActions = require('./entry');\nvar modalActions = require('./modals');\nvar overlayActions = require('./overlays');\nvar messageActions = require('./messages');\n\nexport function deliverFeedback(text) {\n  var feedback = {\n    author: app.state.get(['user']),\n    schemaDomain: app.state.get(['community', 'network', 'schemaDomain']),\n    url: window.location.href,\n    text: text,\n    userAgent: navigator.userAgent\n  };\n  request('/feedback', {\n    method: 'POST',\n    body: feedback\n  }).then(() => {\n    ga.sendEvent('support', 'sendFeedback');\n    overlayActions.closeOverlay();\n    if (modalActions.getModal('support')) {\n      modalActions.closeModal();\n    }\n    messageActions.showMessage({\n      message: messages.FEEDBACK_SENT,\n      type: 'positive'\n    });\n  });\n}\n\nexport function search(query) {\n  return entryActions.searchEntries(query).then(([entries, pagination]) => {\n    if (query.q) {\n      ga.sendEvent('support', 'search', query.q);\n    }\n    var data = entries.map((entry) => {\n      return formatEntryResult(entry);\n    });\n    return [data, pagination];\n  });\n}\n\nfunction formatEntryResult(entry) {\n  var body = document.createElement('div');\n  body.innerHTML = entry.body_extended;\n  for (let link of body.getElementsByTagName('a')) {\n    link.target = '_blank';\n  }\n  return {\n    title: entry.title,\n    dek: entry.summary,\n    blurb: entry.blurb,\n    body: body.innerHTML,\n    entry_id: entry.id,\n    published_date: entry.published_date,\n    url: entry.url\n  };\n}\n\nexport function getAnnouncements() {\n  return search({\n    community_id: app.config.announcements.community_id,\n    entry_group_ids: app.config.announcements.entry_group_id,\n    draft: false,\n    hidden: false,\n    per_page: 3,\n    order: 'date'\n  });\n}\n\nexport function getEntry(entryId) {\n  return entryActions.getEntryById(entryId).then(formatEntryResult);\n}\n\nexport function openEntry(entryId) {\n  overlayActions.pushOverlay({ supportEntry: { entryId } });\n}\n","var Ractive = require('ractive');\nvar component = module;\n\nvar supportActions = require('../actions/support');\nvar overlayActions = require('../actions/overlays');\nvar messageActions = require('../actions/messages');\n\ncomponent.exports = {\n  cursors: {\n    messages: ['messages']\n  },\n  oninit: function() {\n    this.on('message.close', e => messageActions.removeMessage(e.context.id));\n    this.observe('messages', this.setClickListeners);\n  },\n  setClickListeners: function() {\n    var messageItems = this.findAll('.m-message');\n    if (messageItems.length > 0) {\n      for (let m of messageItems) {\n        m.addEventListener('click', function(e) {\n          var target = e.target;\n          if (target.matches('a[data-entry-id]')) {\n            e.preventDefault();\n            supportActions.openEntry(target.dataset.entryId);\n          } else if (target.matches('a[data-modal]')) {\n            e.preventDefault();\n            overlayActions.pushOverlay({ [target.dataset.modal]: true });\n          }\n        });\n      }\n    }\n  }\n};\n\ncomponent.exports.template = {v:1,t:[{t:4,r:\"messages\",f:[{t:7,p:[4,3,62],e:\"message\",a:{type:[{t:2,r:\"type\",p:[4,18,77]}],id:[{t:2,r:\"id\",p:[4,32,91]}],dismissible:[{t:2,r:\"dismissible\",p:[4,53,112]}]},f:[{t:3,r:\"message\",p:[5,5,134]}]}],p:[3,1,46]}]};\ncomponent.exports.components = {message: require('./message.html')};\nmodule.exports = Ractive.extend(component.exports);\n","var Ractive = require('ractive');\nvar component = module;\n\nimport { createBuild, getCustomstoryStatus } from '../../actions/customstory';\nimport * as modalActions from '../../actions/modals';\nvar { debounce } = require('lodash');\n\ncomponent.exports = {\n  cursors: {\n    updatedAt: ['doc', 'updated_at'],\n    statusLabel: ['customstoryStatus', 'statusLabel'],\n    statusMessage: ['customstoryStatus', 'statusMessage'],\n    statusPending: ['customstoryStatus', 'statusPending'],\n    modal: ['modal']\n  },\n  oninit: function() {\n    this.observe('updatedAt', (newVal, oldVal) => {\n      const statusLabel = this.get('statusLabel');\n      const statusPending = this.get('statusPending');\n      if (oldVal !== undefined && statusLabel === 'Build OK' && !statusPending) {\n        // Trigger status reload when doc changes if the build was last\n        // marked as OK, since polling could take up to 30 seconds.\n        this.debouncedGetStatus();\n      }\n    });\n  },\n  debouncedGetStatus: debounce(function() {\n    getCustomstoryStatus();\n  }, 3000, { 'leading': true, 'trailing': true }),\n  oncomplete: function() {\n    app.state.set(['customStoryLogOpen'], false);\n  },\n  createBuild: async function() {\n    let statusLabel;\n    try {\n      await createBuild();\n      statusLabel = 'Build queued';\n    } catch (_error) {\n      statusLabel = 'Unable to retrieve build status';\n    }\n    this.set('statusLabel', statusLabel);\n  },\n  toggleBuildLog: function() {\n    var modal = this.get('modal');\n    if (modal && modal.customstoryLog) {\n      modalActions.popModal();\n    } else {\n      modalActions.pushModal({ customstoryLog: true });\n    }\n  }\n};\n\ncomponent.exports.template = {v:1,t:[{t:4,n:50,x:{r:[\"statusPending\",\"statusLabel\"],s:\"_0&&!(_1===\\\"Working\\\"||_1===\\\"Building\\\")\"},f:[{t:7,p:[4,3,137],e:\"res-icon\",a:{\"class\":\"m-nav__build-status__pending\",size:\"medium\",title:\"Build pending\",name:\"loading\"}}],p:[3,1,51]},{t:4,n:50,x:{r:[\"statusLabel\"],s:\"_0===\\\"Rebuild needed\\\"\"},f:[{t:7,p:[7,3,288],e:\"build-button\",a:{buttonText:\"Rebuild needed\"}}],p:[6,1,245]},{t:4,n:51,f:[{t:7,p:[9,3,357],e:\"div\",a:{\"class\":\"m-nav__build-status__status\"},f:[{t:4,n:50,x:{r:[\"statusLabel\"],s:\"_0===\\\"No build\\\"\"},f:[{t:7,p:[11,5,440],e:\"res-icon\",a:{size:\"medium\",title:[{t:2,r:\"statusLabel\",p:[11,36,471]}],name:\"none\",\"class\":\"m-nav-top__status-icon\"}}],p:[10,3,401]},\" \",{t:4,n:50,x:{r:[\"statusLabel\"],s:\"_0===\\\"Build OK\\\"\"},f:[{t:7,p:[15,5,586],e:\"res-icon\",a:{size:\"medium\",title:[{t:2,r:\"statusLabel\",p:[15,36,617]}],name:\"check-circle\",\"class\":\"m-nav-top__status-icon\"}}],p:[14,3,547]},\" \",{t:4,n:50,x:{r:[\"statusLabel\"],s:\"_0===\\\"Build error\\\"||_0===\\\"Unable to retrieve build status\\\"\"},f:[{t:7,p:[19,5,796],e:\"res-icon\",a:{size:\"medium\",title:[{t:2,r:\"statusLabel\",p:[19,36,827]}],name:\"x-circle\",\"class\":\"m-nav-top__status-icon\"}}],p:[18,3,701]},\" \",{t:4,n:50,x:{r:[\"statusLabel\"],s:\"_0===\\\"Build queued\\\"\"},f:[{t:7,p:[23,5,950],e:\"res-icon\",a:{size:\"medium\",title:[{t:2,r:\"statusLabel\",p:[23,36,981]}],name:\"clock\",\"class\":\"m-nav-top__status-icon\"}}],p:[22,3,907]},\" \",{t:4,n:50,x:{r:[\"statusLabel\"],s:\"_0===\\\"Building\\\"||_0===\\\"Working\\\"\"},f:[{t:7,p:[27,5,1126],e:\"res-icon\",a:{size:\"medium\",title:[{t:2,r:\"statusLabel\",p:[27,36,1157]}],name:\"more\",\"class\":\"m-nav-top__status-icon\"}}],p:[26,3,1058]},\" \",{t:7,p:[29,3,1232],e:\"span\",a:{title:[{t:2,x:{r:[\"statusMessage\",\"statusLabel\"],s:\"_0||_1\"},p:[29,16,1245]}]},f:[{t:2,r:\"statusLabel\",p:[29,50,1279]}]}]}],x:{r:[\"statusLabel\"],s:\"_0===\\\"Rebuild needed\\\"\"}},{t:7,p:[33,1,1318],e:\"button\",a:{type:\"button\",\"class\":\"m-nav__build-status__log-toggle\"},v:{click:{m:\"toggleBuildLog\",a:{r:[],s:\"[]\"}}},f:[{t:7,p:[34,3,1411],e:\"res-icon\",a:{size:\"medium\",title:\"Toggle build log\",name:\"info\"}},\"Build log\"]}]};\ncomponent.exports.components = {\"build-button\": require('./build-button.html')};\nmodule.exports = Ractive.extend(component.exports);\n","var Ractive = require('ractive');\nvar component = module;\n\nvar messages = require('../config/messages');\n\ncomponent.exports = {\n  cursors: {\n    docMissingEntry: ['docMissingEntry']\n  },\n  data: {\n    missingEntryMessage: messages.MISSING_LEGACY_ENTRY\n  }\n};\n\ncomponent.exports.template = {v:1,t:[{t:4,r:\"docMissingEntry\",f:[{t:7,p:[4,3,69],e:\"message\",a:{type:\"negative\",dismissible:\"false\"},f:[{t:3,r:\"missingEntryMessage\",p:[4,48,114]}]}],p:[3,1,46]}]};\ncomponent.exports.components = {message: require('./message.html')};\nmodule.exports = Ractive.extend(component.exports);\n","var Ractive = require('ractive');\nvar component = module;\ncomponent.exports.template = {v:1,t:[{t:7,p:[3,1,48],e:\"dismissible\",a:{\"class\":[\"p-sidebar \",{t:2,r:\"class\",p:[3,31,78]}],active:[{t:2,r:\"active\",p:[3,50,97]}]},f:[{t:7,p:[4,3,112],e:\"div\",a:{\"class\":\"p-sidebar__wrap\"},f:[{t:2,r:\"yield\",p:[5,5,146]}]}]}]};\ncomponent.exports.components = {dismissible: require('./dismissible.html')};\nmodule.exports = Ractive.extend(component.exports);\n","var Ractive = require('ractive');\nvar component = module;\n\nconst moment = require('moment-timezone');\nconst docActions = require('../actions/docs');\nconst { hasPolicyRole } = require('../lib/authorization');\ncomponent.exports = {\n  cursors: {\n    doc: ['doc'],\n    trashedAt: ['doc', 'head', 'contents', 'trashed_at'],\n    docLabel: ['docLabel']\n  },\n  data: {\n    inProgress: false,\n    docRestored: false\n  },\n  computed: {\n    docTrashed: function() {\n      return this.get('trashedAt') != null;\n    },\n    hasMessage: function() {\n      return this.get('docTrashed') || this.get('docRestored');\n    },\n    daysUntil: function() {\n      var trashedAt = moment(this.get('trashedAt'));\n      var daysUntil = 30 - moment().diff(trashedAt, 'days');\n      return `${daysUntil} ${daysUntil === 1 ? 'day' : 'days'}`;\n    },\n    canUntrash: function() {\n      return hasPolicyRole('doc.sendToTrash');\n    }\n  },\n  oninit: function() {\n    this.on('message.close', () => this.set({ docRestored: false }));\n  },\n  untrash: function() {\n    this.set('inProgress', true);\n    docActions.setTrashed(this.get('doc')).then(() => {\n      this.set({ inProgress: false, docRestored: true });\n    });\n  }\n};\n\ncomponent.exports.template = {v:1,t:[{t:4,n:50,r:\"hasMessage\",f:[{t:7,p:[4,3,65],e:\"message\",a:{type:[{t:4,n:50,r:\"docTrashed\",f:[\"cautionary\"],p:[4,18,80]},{t:4,n:51,f:[\"positive\"],r:\"docTrashed\"}],dismissible:[{t:2,r:\"docRestored\",p:[4,84,146]}]},f:[{t:7,p:[5,5,168],e:\"span\",a:{\"class\":\"m-message__text\"},f:[{t:4,n:50,r:\"docRestored\",f:[\"Your \",{t:2,r:\"docLabel\",p:[7,14,238]},\" has been restored.\"],p:[6,7,205]},{t:4,n:51,f:[\"Your \",{t:2,r:\"docLabel\",p:[9,14,298]},\" has been moved to the trash and will be deleted in \",{t:2,r:\"daysUntil\",p:[9,78,362]},\".\"],r:\"docRestored\"}]},\" \",{t:4,n:50,x:{r:[\"docTrashed\",\"canUntrash\"],s:\"_0&&_1\"},f:[{t:7,p:[13,7,446],e:\"span\",a:{\"class\":\"m-message__buttons\"},f:[{t:7,p:[14,9,488],e:\"res-button\",a:{design:\"default\",paddingless:0},f:[{t:7,p:[15,11,540],e:\"a\",a:{type:\"button\"},v:{click:{m:\"untrash\",a:{r:[],s:\"[]\"}}},f:[\"Restore to edit\",{t:4,n:50,r:\"inProgress\",f:[\" \",{t:7,p:[16,47,625],e:\"res-icon\",a:{size:\"small\",title:\"Deleting\",name:\"more\"}}],p:[16,28,606]}]}]}]}],p:[12,5,407]}]}],p:[3,1,44]}]};\ncomponent.exports.components = {message: require('./message.html')};\nmodule.exports = Ractive.extend(component.exports);\n","var Ractive = require('ractive');\nvar component = module;\n\nvar docActions = require('../actions/docs');\n\ncomponent.exports = {\n  cursors: {\n    doc: ['doc'],\n    docLabel: ['docLabel']\n  },\n  data: {\n    hidden: false\n  },\n  oninit: function() {\n    this.on('message.close', this.close);\n  },\n  unarchiveDoc: function() {\n    docActions.updateDoc(this.get('doc.id'), { archived: !this.get('doc.archived') });\n    this.close();\n  },\n  close: function() {\n    this.set('hidden', true);\n  }\n};\n\n\ncomponent.exports.template = {v:1,t:[{t:4,n:50,x:{r:[\"doc.archived\",\"hidden\"],s:\"_0&&!_1\"},f:[{t:7,p:[4,3,80],e:\"message\",a:{type:\"cautionary\"},f:[\"This \",{t:2,r:\"docLabel\",p:[5,10,117]},\" has been archived. Would you like to \",{t:7,p:[5,60,167],e:\"button\",a:{type:\"button\"},v:{click:{m:\"unarchiveDoc\",a:{r:[],s:\"[]\"}}},f:[\"restore it\"]},\"?\"]}],p:[3,1,46]}]};\ncomponent.exports.components = {message: require('./message.html')};\nmodule.exports = Ractive.extend(component.exports);\n","var Ractive = require('ractive');\nvar component = module;\n\nimport { createBuild } from '../../actions/customstory';\n\ncomponent.exports = {\n  cursors: {\n    statusLabel: ['customstoryStatus', 'statusLabel'],\n    statusMessage: ['customstoryStatus', 'statusMessage'],\n    modal: ['modal']\n  },\n  data: {\n    buttonText: 'Rebuild',\n    recentlyEnteredQueue: false\n  },\n  computed: {\n    queued: function() {\n      const statusLabel = this.get('statusLabel');\n      const recentlyEnteredQueue = this.get('recentlyEnteredQueue');\n      return recentlyEnteredQueue && statusLabel && statusLabel === 'Build queued';\n    }\n  },\n  oncomplete: function() {\n    app.state.set(['customStoryLogOpen'], false);\n  },\n  createNewBuild: async function() {\n    let statusLabel;\n    try {\n      await createBuild();\n      statusLabel = 'Build queued';\n      this.set('recentlyEnteredQueue', true);\n    } catch (_error) {\n      statusLabel = 'Unable to retrieve build status';\n    }\n    app.state.set(['customstoryStatus', 'statusLabel'], statusLabel);\n    setTimeout(() => this.set('recentlyEnteredQueue', false), 10000);\n  }\n};\n\ncomponent.exports.template = {v:1,t:[{t:7,p:[1,1,0],e:\"res-button\",a:{design:\"secondary\"},m:[{t:4,n:50,r:\"queued\",f:[\"disabled\"],p:[1,32,31]}],f:[{t:7,p:[2,3,64],e:\"res-icon\",a:{size:\"medium\",title:[{t:2,r:\"statusLabel\",p:[2,34,95]}],name:\"replace\",\"class\":\"m-nav-top__status-icon\"}},\" \",{t:7,p:[3,3,163],e:\"button\",v:{click:{m:\"createNewBuild\",a:{r:[],s:\"[]\"}}},f:[{t:4,n:50,r:\"queued\",f:[\"Queued\"],p:[3,39,199]},{t:4,n:51,f:[{t:2,r:\"buttonText\",p:[3,67,227]}],r:\"queued\"}]}]}]};\nmodule.exports = Ractive.extend(component.exports);\n","var request = require('../lib/request');\n\nexport function getEditorialApp(id) {\n  return request(`/api/chorus/editorial_apps/${id}`, {\n    query: {\n      community_id: app.state.get('doc', 'community_id')\n    }\n  });\n}\n","export default function initials(name) {\n  var names = name.split(/\\.\\s|\\.|\\s|-/);\n  return names.reduce((initials, namePart) => {\n    return initials + namePart.charAt(0);\n  }, '');\n}\n"],"sourceRoot":""}