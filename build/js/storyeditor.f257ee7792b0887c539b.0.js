(window.webpackJsonp=window.webpackJsonp||[]).push([["storyeditor"],{"+0Ce":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UserTwitterHandle=t.UserNamesTitles=t.UserNames=t.UserName=t.UserChorusVideo=t.SearchContributors=t.CurrentUser=void 0;t.CurrentUser='\n  query CurrentUser($size: String!) {\n    currentUser {\n      id\n      createdOn\n      fullOrUserName\n      email\n      timeZone\n      networkRoles\n      memberships: communityMemberships {\n        status\n        roles\n        community {\n          id\n          name\n          faviconUrl\n          network {\n            id\n            name\n            svgLogo: siteConfigString(key: "svg_small_mark_full_color")\n          }\n        }\n      }\n      networkMemberships {\n        networkId\n        imageUrl(size: $size)\n        network {\n          primaryCommunity {\n            id\n          }\n        }\n      }\n    }\n  }\n';t.UserChorusVideo="\n  query UserChorusVideo($scopeId: Int!) {\n    currentUser {\n      canAccessChorusVideo(scopeType: COMMUNITY, scopeId: $scopeId)\n    }\n  }\n";t.UserTwitterHandle="\n  query UserTwitterHandle($id: Int!) {\n    user(id: $id) {\n      twitterUsername\n    }\n  }\n";t.UserName="\n  query UserName($id: Int!) {\n    user(id: $id) {\n      id\n      fullOrUserName\n    }\n  }\n";t.UserNames="\n  query UserNames($ids: [Int!]!) {\n    users(ids: $ids) {\n      id\n      fullOrUserName\n    }\n  }\n";t.UserNamesTitles="\n  query UserNamesTitles($ids: [Int!]!, $communityId: Int!) {\n    users(ids: $ids) {\n      id\n      fullOrUserName\n      authorProfile(communityId: $communityId) {\n        title\n      }\n    }\n  }\n";t.SearchContributors="\n  query SearchContributors($text: String!, $communityId: Int!) {\n    searchUsers(query: {\n      text: $text,\n      prefix: true,\n      communityIds: [$communityId],\n      roles: [FREELANCE, AUTHOR, TRUSTED_AUTHOR, EDITOR, MANAGER],\n      fallbackNetworkRoles: [NETWORK_ADMIN, NETWORK_EDITOR],\n      statuses: [ACTIVE, PROVISIONAL, PERMISSIONS_SUSPENDED],\n      perPage: 25\n    }) {\n      results {\n        id\n        fullOrUserName\n        username\n      }\n    }\n  }\n"},"+Q8c":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={};t.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=s(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e,r&&r.set(e,n);return n}(r("Xv6j"));Object.keys(a).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(n,e)||e in t&&t[e]===a[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}}))}));var o,i=r("vuKY");function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(s=function(e){return e?r:t})(e)}var u=(0,((o=r("JFUb"))&&o.__esModule?o:{default:o}).default)(a.default,i.render,i.staticRenderFns,!1,null,null,null).exports;t.default=u,e.exports=t.default},"+dw7":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={props:{community:{type:Object,required:!0},defaultLogoUrl:{type:String,required:!0},selectionId:{type:Number,default:null}},computed:{href:()=>"#"}};t.default=n,e.exports=t.default},"+ucT":function(e,t,r){"use strict";r.r(t),r.d(t,"render",(function(){return n})),r.d(t,"staticRenderFns",(function(){return a}));var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("transition",{attrs:{name:"vue-transition--slide"}},[e.currentOverlay.component?r("div",{class:"m-overlay m-overlay--"+e.pageType+" m-overlay--orientation-"+e.currentOverlay.orientation,attrs:{id:"overlay"}},[r("section",{class:"m-overlay__content m-"+e.componentClass},[r("res-button",{staticClass:"p-modal__close",attrs:{design:"default"},on:{click:function(t){return e.closeOverlay()}}},[r("res-icon",{attrs:{name:"x"}}),e._v(" "),r("button",{attrs:{type:"button"}},[e._v("Close")])],1),e._v(" "),r(e.currentOverlay.component,{tag:"component",attrs:{childProps:e.currentOverlay.childProps,orientation:e.currentOverlay.orientation}})],1)]):e._e()])},a=[]},"+w+W":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={};t.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=s(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e,r&&r.set(e,n);return n}(r("+dw7"));Object.keys(a).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(n,e)||e in t&&t[e]===a[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}}))}));var o,i=r("1pgo");function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(s=function(e){return e?r:t})(e)}var u=(0,((o=r("JFUb"))&&o.__esModule?o:{default:o}).default)(a.default,i.render,i.staticRenderFns,!1,null,null,null).exports;t.default=u,e.exports=t.default},"/p+M":function(e,t,r){"use strict";const n=["scorecard"];e.exports=function(e){return e.every(e=>e.hasOwnProperty("image"))||n.some(t=>e.every(e=>e.hasOwnProperty("doc")&&t===e.doc.type))}},"0CC9":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(r("Yv60")),a=l(r("Dy2z")),o=l(r("6fkZ")),i=r("BbE4"),s=r("Whsh"),u=r("L2JU"),c=r("q1SX");function l(e){return e&&e.__esModule?e:{default:e}}function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){f(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function f(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var m={components:{SearchForm:a.default,SavedSearchList:n.default},props:{isCollapsed:{type:Boolean,default:!1,required:!0},isSearching:{type:Boolean,default:!1,required:!0},updateQuery:{type:Function,default:()=>{},required:!0},defaultQuery:{type:Object,default:()=>({}),required:!0},formattedQuery:{type:Array,default:()=>[]},setSavedSearchName:{type:Function,default:()=>{},required:!0}},data:()=>({mobileKey:1,toggleKey:1,searchView:!0,saving:!1,savedSearches:[],currentSavedSearch:{}}),computed:p(p({},(0,u.mapState)(["isMobile","currentCommunity"])),{},{heading(){return this.searchView?"Search":"Saved searches"},showSavedSearches(){return"dashboard"===this.$route.name}}),watch:{currentCommunity(){this.currentCommunity.id&&this.showSavedSearches&&this.fetchSearches()},"currentSavedSearch.name"(e){const t=e||"";this.setSavedSearchName(t)},"$route.name"(e){"dashboard"===e?!this.savedSearches.length&&this.fetchSearches():this.searchView=!0,this.clearSearch(),this.isMobile&&this.closeSearchPanel()}},mounted(){this.currentCommunity.id&&this.showSavedSearches&&this.fetchSearches()},methods:{focusKeywordInput(){this.$refs.searchForm.$refs.keywordInput.focus()},closeSearchPanel(){this.$emit("collapse")},clearSearch(){this.$refs.searchForm.clearSearch(),this.clearSavedSearch()},setSearchView(e){this.searchView=e},goToSearchView(){this.searchView||(this.searchView=!0,this.toggleKey++)},async fetchSearches(){const e={communityId:String(this.currentCommunity.id)};try{const t=await(0,s.getSearches)(e);this.savedSearches=t}catch(e){this.handleError(e)}},async addSavedSearch(e){this.saving=!0;try{const t=await(0,s.addSearch)(e);this.currentSavedSearch=p(p({},e),{},{searchId:t}),this.fetchSearches(),this.searchView=!1,this.toggleKey++}catch(e){this.handleError(e)}this.saving=!1},openCreateModal(e,t){this.$store.commit(i.SET_MODAL,{childProps:{addSavedSearch:this.addSavedSearch,saving:this.saving,keyword:t},component:"saved-search-create-modal"}),e.blur()},async renameSavedSearch(e,t){this.saving=!0;const r={communityId:String(this.currentCommunity.id),searchId:e.searchId,name:t};try{if(await(0,s.renameSearch)(r),this.fetchSearches(),this.currentSavedSearch.searchId===e.searchId){const r=p(p({},e),{},{name:t});this.currentSavedSearch=r}}catch(e){this.handleError(e)}this.saving=!1},async deleteSavedSearch(e){this.saving=!0;const t={communityId:String(this.currentCommunity.id),searchId:e};try{await(0,s.deleteSearch)(t),this.fetchSearches(),this.currentSavedSearch.searchId===e&&this.clearSearch()}catch(e){this.handleError(e)}this.saving=!1},openDeleteModal(e){this.$store.commit(i.SET_MODAL,{childProps:{deleteSavedSearch:()=>this.deleteSavedSearch(e),saving:this.saving},component:"saved-search-delete-modal"})},async runSavedSearch(e){const{searchId:t,query:r}=e,n={communityId:String(this.currentCommunity.id),searchId:t};try{this.updateQuery(p(p({},this.defaultQuery),{},{q:r})),await(0,s.runSearch)(n),this.currentSavedSearch=e,this.isMobile&&this.closeSearchPanel()}catch(e){}},handleError(e){(0,c.reportError)(e,!1),this.$store.commit("messageBanner/PUT_NOTICE",{type:"negative",message:o.default.UNEXPECTED})},clearSavedSearch(){this.currentSavedSearch={}}}};t.default=m,e.exports=t.default},"0Lfj":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r("L2JU");function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var s={props:{childProps:{type:Object,required:!0,default:()=>({})}},data:()=>({}),computed:o(o({},(0,n.mapState)(["modalId"])),{},{disableButtons(){return this.childProps.saving}}),methods:{deleteSearch(){if(this.disableButtons)return;const{deleteSavedSearch:e}=this.childProps;e()}}};t.default=s,e.exports=t.default},"0S5Z":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r("L2JU"),a=u(r("kh36")),o=u(r("6fkZ")),i=u(r("2GoG")),s=r("BbE4");function u(e){return e&&e.__esModule?e:{default:e}}function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var d={data:()=>({announcementEntries:[],page:1}),computed:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},(0,n.mapState)(["announcements","currentUser"])),mounted(){this.getAnnouncementEntries()},methods:{handleError(){this.$store.commit("messageBanner/PUT_NOTICE",{type:"negative",message:o.default.UNEXPECTED})},async getAnnouncementEntries(){const e={community_id:this.announcements.community_id,entry_group_ids:this.announcements.entry_group_id,draft:!1,hidden:!1,per_page:3,order:"date"};try{const t=await(0,a.default)("/api/chorus/entries",{query:e}),r=t._embedded.entry,n=(0,i.default)(t);this.announcementEntries=r,this.page=n.page}catch(e){this.handleError()}},openEntry(e){this.$store.commit(s.SET_OVERLAY,{childProps:{dek:e.dek,body:e.body,body_extended:e.body_extended,title:e.title,url:e.url},component:"chorus-help-announcement"});const t=(new Date).toISOString();this.currentUser.lastAnnouncementReadAt=t,sessionStorage.setItem("lastAnnouncementReadAt",t)},openContactForm(){this.$store.commit(s.SET_OVERLAY,{childProps:{},component:"chorus-help-contact-form"})}}};t.default=d,e.exports=t.default},"0aKW":function(e,t,r){"use strict";r.r(t),r.d(t,"render",(function(){return n})),r.d(t,"staticRenderFns",(function(){return a}));var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{class:e.wrapperClass},[r("res-icon",{key:e.status,class:"m-nav-top__status-icon m-nav-top__status-icon--"+e.status.toLowerCase(),attrs:{title:e.status,name:e.statusIcon,size:"medium"}}),e._v(" "),r("span",[e._v(e._s(e.status))])],1)},a=[]},1:function(e,t){},"1+zu":function(e,t,r){"use strict";var n=r("a62e"),a=r("Dh7P"),o=r("Lly2"),i=r("AUH+"),s=r("bz8U"),u=r("WxQR");e.exports=function(e){return n(e)?"mapstack":a(e)?"stream":o(e)?"link":i(e)?"package":s(e)?"page":u(e)?"custom story":"story"}},10:function(e,t){},11:function(e,t){},12:function(e,t){},"13V3":function(e,t,r){"use strict";e.exports=function(e){return e&&"unison_standard"!==e}},17:function(e,t,r){r("j36g"),e.exports=r("29j+")},"1ET5":function(e,t,r){"use strict";r.r(t),r.d(t,"render",(function(){return n})),r.d(t,"staticRenderFns",(function(){return a}));var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("transition",{attrs:{name:"vue-transition--slide"}},[e.currentSidebarTag?r("div",{class:"m-sidebar m-sidebar--"+e.pageType+" "+e.orientationClass+" "+e.pushContentClass},[r("header",{class:"m-"+e.currentSidebarTag},[e.currentSidebar.title?r("h2",[e._v(e._s(e.currentSidebar.title))]):e._e(),e._v(" "),r("res-button",{staticClass:"m-sidebar__close",on:{click:function(t){return t.preventDefault(),e.closeSidebar()}}},[r("res-icon",{attrs:{name:"x"}}),r("button",[e._v("Close")])],1)],1),e._v(" "),r("div",{staticClass:"m-sidebar__content"},[r(e.currentSidebarTag,{tag:"component",attrs:{id:e.currentSidebar.id,childProps:e.currentSidebar.childProps}})],1)]):e._e()])},a=[]},"1V3m":function(e,t,r){"use strict";r.r(t),r.d(t,"render",(function(){return n})),r.d(t,"staticRenderFns",(function(){return a}));var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"m-404"},[r("svg",{attrs:{id:"Layer_1",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 162.5 303.5","enable-background":"new 0 0 162.5 303.5","xml:space":"preserve"}},[r("g",[r("path",{attrs:{fill:"#54C2BA",d:"M162.5,188.5L40.3,127.3c-12.4-6.2-19.7-14-19.7-21.5c0-7.4,7.2-15.1,19.7-21.5L162.5,23V0L31,65.9\n        C4.1,79.5,0,96.7,0,105.8s4,26.3,31,39.9l131.5,65.9V188.5z"}}),e._v(" "),r("path",{attrs:{fill:"#E0DB24",d:"M162.5,234.4L40.3,173.2c-12.4-6.2-19.7-14-19.7-21.5c0-7.4,7.2-15.1,19.7-21.5L162.5,69V46L31,111.9\n        C4.1,125.3,0,142.5,0,151.7c0,9,4,26.3,31,39.9l131.5,65.9V234.4z"}}),e._v(" "),r("path",{attrs:{fill:"#C74A27",d:"M40.3,219c-12.4-6.2-19.7-14.1-19.7-21.5s7.2-15.1,19.7-21.5l122.2-61.2V91.9L31,157.8\n        C4,171.4,0,188.6,0,197.7c0,9,4,26.3,31,39.9l131.5,65.9v-23L40.3,219z"}})])]),e._v(" "),r("h2",[e._v("Page not found")]),e._v(" "),r("h3",[e._v("Sorry, that page doesn’t exist. Want to head back to "),r("router-link",{attrs:{to:"/"},nativeOn:{click:function(t){return e.resetErrorBoundary(t)}}},[e._v("Chorus")]),e._v("?")],1),e._v(" "),e._m(0),e._v(" "),e._m(1)])},a=[function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("strong",[this._v("Need help?")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("ul",[t("li",[t("a",{attrs:{href:"https://status.voxmedia.com/"}},[this._v("Platform status")])]),this._v(" "),t("li",[t("a",{attrs:{href:"https://chorussupport.zendesk.com/hc/en-us"}},[this._v("Help center")])]),this._v(" "),t("li",[t("a",{attrs:{href:"https://www.chorus.help/hc/en-us/requests/new"}},[this._v("Contact us")])])])}]},"1Yo0":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(r("YfO1")),a=l(r("6fkZ")),o=l(r("kh36")),i=r("L2JU"),s=r("q1SX"),u=r("k0zk"),c=r("BbE4");function l(e){return e&&e.__esModule?e:{default:e}}function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){f(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function f(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var m={props:{doc:{type:Object,required:!0,default:()=>({})},filter:{type:String,default:""},canArchiveOrTrashStories:{type:Boolean,default:!1},onMoveCompleted:{type:Function,default:()=>{}}},data(){return{canCopyOrMoveDoc:(0,n.default)(this.doc),copyInProgress:!1,destination:"",docObj:this.doc,moveCompleted:!1,moveInProgress:!1,mobileKey:1}},computed:p(p(p({},(0,i.mapState)(["currentCommunity","isMobile","currentUser","modalId"])),(0,i.mapGetters)(["readOnly"])),{},{showActionsButton(){return!this.moveInProgress&&!this.moveCompleted&&!this.copyInProgress},actionStatus(){return this.moveInProgress?"Moving to "+this.destination:this.copyInProgress?"Copying":""},isTrashed(){return null!==this.docObj.head.contents.trashed_at}}),watch:{filter(){this.moveCompleted=!1},isMobile(){this.mobileKey++}},methods:{handleError(e){(0,s.reportError)(e,!1),this.$store.commit("messageBanner/PUT_NOTICE",{type:"negative",message:a.default.UNEXPECTED})},async copyDoc(){this.copyInProgress=!0;const e={community_id:this.currentCommunity.id,copy_doc_uuid:this.doc.uuid};try{const t=await(0,o.default)("/newstory",{method:"POST",body:e,opts:{handleError:!1}});window.location.assign("/compose/"+t.uuid)}catch(e){this.copyInProgress=!1,this.handleError(e)}},setMoveInProgress(e){this.destination=e,this.moveInProgress=!0,this.moveCompleted=!1},setMoveCompleted(e){this.moveInProgress=!1,this.moveCompleted=e,this.onMoveCompleted(e)},async updateArchived(e){this.$refs.dropdown.toggle(),this.setMoveInProgress(e),await this.toggleArchived(),this.setMoveCompleted(!0)},async restoreDoc(){if(this.filter&&"dashboard"!==this.destination)return this.updateArchivedAndTrashed(this.destination);this.docObj.archived?(this.setMoveInProgress("dashboard"),await this.toggleArchived(),this.setMoveCompleted(!1)):this.docObj.head.contents.trashed_at&&(this.setMoveInProgress("dashboard"),await this.toggleTrashed(),this.setMoveCompleted(!1))},async toggleArchived(){try{const e=await(0,u.toggleArchived)(this.docObj);this.docObj=e}catch(e){this.handleError(e)}},async updateTrashedAt(e){this.$refs.dropdown.toggle(),this.setMoveInProgress(e),await this.toggleTrashed(),this.setMoveCompleted(!0)},async updateArchivedAndTrashed(e){this.$refs.dropdown.toggle(),this.setMoveInProgress(e);try{const[e,t]=await Promise.all([(0,u.toggleArchived)(this.docObj),(0,u.updateTrashedAt)(this.docObj,this.currentUser.id)]);this.docObj=p(p({},t),{},{archived:e.archived}),this.setMoveCompleted(!0)}catch(e){this.setMoveCompleted(!1),this.handleError(e)}},async toggleTrashed(){try{const e=await(0,u.updateTrashedAt)(this.docObj,this.currentUser.id);this.docObj=e}catch(e){this.setMoveCompleted(!1),this.handleError(e)}},setShortlinkModal(){this.$store.commit(c.SET_MODAL,{childProps:{doc:this.doc},component:"shortlink-modal"})}}};t.default=m,e.exports=t.default},"1pgo":function(e,t,r){"use strict";r.r(t),r.d(t,"render",(function(){return n})),r.d(t,"staticRenderFns",(function(){return a}));var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("a",{attrs:{href:e.href},on:{click:function(t){return t.preventDefault(),e.$emit("communityId",e.community.id)}}},[r("li",{staticClass:"m-community-select__item",class:{"is-active":e.selectionId===e.community.id}},[r("div",{staticClass:"m-community-select__avatar"},[r("img",{staticClass:"m-community-select__icon",attrs:{src:e.community.faviconUrl||e.defaultLogoUrl}})]),e._v(" "),r("span",{staticClass:"m-community-select__name"},[e._v(e._s(e.community.name))]),e._v(" "),e.selectionId===e.community.id?r("res-icon",{attrs:{name:"check-circle",size:"medium"}}):e._e()],1)])},a=[]},"1wDL":function(e,t,r){"use strict";var n=r("LvDl").flatten;e.exports=function(e){return n(e.map(e=>e.stories))}},2:function(e,t){},"29j+":function(e,t,r){"use strict";var n=c(r("Kw5r")),a=c(r("k/aP")),o=c(r("SdQN")),i=c(r("dvEM")),s=c(r("cBfs"));r("bREV");var u=r("YbFx");function c(e){return e&&e.__esModule?e:{default:e}}new n.default({store:(0,s.default)(o.default),router:i.default,el:"#app",apolloProvider:u.apolloProvider,ignoredElements:res.manifest.tags.all,render:e=>e(a.default)})},"2GoG":function(e,t,r){"use strict";e.exports=function(e){var t=e.current_page,r=e.per_page,n=e.item_count;return{page:t,perPage:r,total:n,totalPages:0===n?1:Math.ceil(n/r)}}},"2LBz":function(e,t,r){"use strict";r.r(t),r.d(t,"render",(function(){return n})),r.d(t,"staticRenderFns",(function(){return a}));var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.currentDoc&&e.autosave.ready?r("div",{staticClass:"m-layout-mode"},[r("div",{staticClass:"l-content p-flex"},[r("div",{staticClass:"p-flex--v m-preview__wrapper"},[r("div",{staticClass:"m-layout-mode__wrapper",style:e.bannerMessageOverride},[r("section",{staticClass:"m-layout-mode__content"},[e.selectedBlockIds.length?r("edit-block",{attrs:{blockIds:e.selectedBlockIds,postMessage:e.postMessage}}):e.packageCoverIndex?r("edit-package-cover",{attrs:{coverIndex:e.packageCoverIndex,postMessage:e.postMessage}}):r("edit-layout")],1),e._v(" "),e.selectedBlockIds.length||e.packageCoverIndex?r("div",{staticClass:"m-layout-mode__navigation"},[r("res-button",{attrs:{design:"default",paddingless:""}},[r("button",{attrs:{type:"button"},on:{click:e.deselectBlocks}},[r("res-icon",{attrs:{name:"back",size:"small"}}),e._v("\n              Back to layout\n            ")],1)])],1):e._e()]),e._v(" "),r("iframe",{ref:"layoutIframe",staticStyle:{height:"500px"},attrs:{id:"layout-iframe",src:e.iframeurl,width:"100%",height:"500px",allowfullscreen:"",webkitallowfullscreen:"",msallowfullscreen:""}})])])]):e._e()},a=[]},"2cuI":function(e,t,r){"use strict";e.exports=function(e){if(0===e.length)return!1;var t=parseInt(e[0].grouping.charAt(0),10);return e.length===t}},"2vd1":function(e,t,r){"use strict";r.r(t),r.d(t,"render",(function(){return n})),r.d(t,"staticRenderFns",(function(){return a}));var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e.searches.length?e._e():r("p",{staticClass:"m-search-panel__no-searches"},[e._v("\n    No saved searches. Try creating a saved search.\n  ")]),e._v(" "),r("ul",{staticClass:"m-search-panel__saved-searches"},e._l(e.searches,(function(t){return r("editable-list-item",{key:t.searchId,attrs:{itemName:t.name,onNameClick:function(){return e.runSavedSearch(t)},onDeleteClick:function(){return e.openDeleteModal(t.searchId)},onSaveClick:function(r){return e.renameSavedSearch(t,r)},active:t.searchId===e.currentSavedSearch.searchId,disabled:e.readOnly}})})),1)])},a=[]},3:function(e,t){},"30fg":function(e,t,r){"use strict";r.r(t),r.d(t,"render",(function(){return n})),r.d(t,"staticRenderFns",(function(){return a}));var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"m-nav--dashboard__new-story"},[1===e.storyTypes.length?r("span",[e.isMobile?r("res-button",{key:e.mobileKey,attrs:{disabled:e.loadingNewDoc||e.readOnly,design:"primary"}},[r("res-icon",{attrs:{name:"add",size:"medium"}}),e._v(" "),r("button",{on:{click:function(t){return e.newDoc(e.storyTypes[0].type,e.storyTypes[0].defaults)}}})],1):r("res-button",{key:e.mobileKey,attrs:{disabled:e.loadingNewDoc||e.readOnly,design:"primary"}},[r("button",{on:{click:function(t){return e.newDoc(e.storyTypes[0].type,e.storyTypes[0].defaults)}}},[e._v("New "+e._s(e.storyTypes[0].type))])])],1):r("res-split-button",{key:e.mobileKey,attrs:{mobile:e.isMobile,disabled:e.loadingNewDoc||e.readOnly,icon:"add"}},[r("ul",e._l(e.storyTypes,(function(t,n){return r("li",{key:n,attrs:{active:0===n}},[r("a",{on:{click:function(r){return e.newDoc(t.type,t.defaults)}}},[r("span",[e._v("New "+e._s(t.type))]),e._v(" "),t.status?r("res-badge",{attrs:{size:"smallest",design:"rose"}},[e._v(e._s(t.status))]):e._e()],1)])})),0)])],1)},a=[]},"3mho":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={props:{chipLabel:{type:String,required:!0},chipId:{type:String,required:!0},stringLimit:{type:Number,default:40}},methods:{removeChip(e){this.$emit("removeSelection",e)},truncateString(e){return e.length<=this.stringLimit?e:e.slice(0,this.stringLimit)+"..."}}};t.default=n,e.exports=t.default},4:function(e,t){},"4eU8":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={};t.default=void 0;var a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=i(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}n.default=e,r&&r.set(e,n);return n}(r("ytis"));function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(i=function(e){return e?r:t})(e)}Object.keys(o).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(n,e)||e in t&&t[e]===o[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}}))}));var s=(0,((a=r("JFUb"))&&a.__esModule?a:{default:a}).default)(o.default,void 0,void 0,!1,null,null,null).exports;t.default=s,e.exports=t.default},"4khC":function(e,t,r){"use strict";r.r(t),r.d(t,"render",(function(){return n})),r.d(t,"staticRenderFns",(function(){return a}));var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"m-community-select__menu-wrap",style:e.fullHeight},[e.networks?r("ul",{staticClass:"m-community-select__list"},[e._l(e.networks,(function(t){return[1===t.communities.length?r("community-cell",{key:t.name,attrs:{community:t.communities[0],defaultLogoUrl:e.defaultLogoUrl,selectionId:e.selectionId},on:{communityId:function(t){return e.selectCommunity(t)}}}):r("ul",{key:t.name,staticClass:"m-community-select__list"},[r("li",{staticClass:"m-community-select__network",class:e.expandedNetworks[t.id]?"is-expanded":"is-collapsed"},[r("div",{staticClass:"m-community-select__item",on:{click:function(r){return r.preventDefault(),e.expandNetwork(t.id)}}},[r("div",{staticClass:"m-community-select__avatar"},[t.logo?r("div",{domProps:{innerHTML:e._s(t.logo)}}):r("img",{staticClass:"m-community-select__icon",staticStyle:{height:"20px"},attrs:{src:e.defaultLogoUrl}})]),e._v(" "),r("span",{staticClass:"m-community-select__name"},[e._v(e._s(t.name))]),e._v(" "),r("res-icon",{attrs:{size:"medium",name:"add-circle"}}),e._v(" "),r("res-icon",{attrs:{size:"medium",name:"minus-circle"}})],1),e._v(" "),r("ul",{staticClass:"m-community-select__sub-list"},e._l(t.communities,(function(t){return r("community-cell",{key:t.id,attrs:{community:t,defaultLogoUrl:e.defaultLogoUrl,selectionId:e.selectionId},on:{communityId:function(t){return e.selectCommunity(t)}}})})),1)])])]}))],2):e._e()])},a=[]},"4mBr":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getEntryById=function(e){if(!e)return Promise.resolve(null);return n("/api/chorus/entries/"+e)},t.getEntryByUrl=function(e){const t=document.createElement("a");t.href=e;const r=o(e)?t.pathname.substring(3):t.pathname.substring(1);if(!r)throw new Error("invalid Chorus url");return n("/api/chorus/entries/"+r,{query:{community_id:app.state.get(["community","id"])},opts:{handleError:!1}})},t.searchEntries=function(e){return n("/api/chorus/entries",{query:e}).then(e=>[e._embedded.entry,a(e)])},t.searchEntriesByTitle=function(e,t,r){let a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return n("/api/chorus/entries/title_autocomplete",{query:{q:e,type:t,per_page:r,community_id:app.state.get(["community","id"]),published:a}})},t.updateEntry=function(e,t){return n("/api/chorus/entries/"+e.entry_id,{method:"PUT",query:{community_id:e.community_id},body:t,opts:{handleError:!1}})},t.updateEntryFlags=function(e,t){let r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(r&&app.state.set(["requestInProgress"],!0),null==e.entry_id)return Promise.reject(new Error("Cannot update flags on a doc without an entry_id"));return n(`/api/chorus/entries/${e.entry_id}/flags`,{method:"PUT",query:{community_id:e.community_id},body:t}).then(()=>{r&&app.state.set(["requestInProgress"],!1)}).catch(()=>(r&&app.state.set(["requestInProgress"],!1),Promise.reject()))};var n=r("kh36"),a=r("2GoG"),o=r("sMLR")},5:function(e,t){},"54Gv":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r("L2JU"),a=_(r("f+5Y")),o=_(r("qQBL")),i=_(r("QE0c")),s=_(r("HNHc")),u=_(r("CUho")),c=_(r("/p+M")),l=r("LvDl"),d=r("tNa1"),p=_(r("KSqv")),f=_(r("13V3")),m=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=b(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e,r&&r.set(e,n);return n}(r("MN9u")),h=_(r("xBYi")),y=r("Pyf3"),v=_(r("5Fsa"));function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(b=function(e){return e?r:t})(e)}function _(e){return e&&e.__esModule?e:{default:e}}function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function O(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach((function(t){w(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function w(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var k={components:{AutosaveRadio:a.default,FormSubsection:o.default},props:{blockIds:{type:Array,required:!0},postMessage:{type:Function,required:!0}},data:()=>({CONFLICTING_SELECTION:Symbol("conflicting"),readOnly:!1,productCardLayoutOptions:y.productCardLayoutOptions}),computed:O(O(O({},(0,n.mapState)(["autosave"])),(0,n.mapGetters)(["currentDoc","draftBody"])),{},{displayParagraphOptions(){return this.blockIds.every(e=>this.getObject(e).hasOwnProperty("paragraph"))},displayAlignmentOptions(){return this.blockIds.every(e=>this.canSetAlignment(this.getObject(e)))},displayLayoutOptions(){return this.blockIds.every(e=>this.canUseLayout(this.getObject(e)))},displayGroupingOptions(){if(!this.blocksAreAdjacent)return!1;const e=this.blockIds.map(e=>this.getObject(e));if(!(0,c.default)(e))return!1;return e[0].hasOwnProperty("image")?e.length>1:2===e.length},displayGroupingMessage(){const e=this.currentGrouping;return e&&e!==this.CONFLICTING_SELECTION&&parseInt(e)>this.blockIds.length},blocksAreAdjacent(){let e=null;for(let t of this.blockIds){const r=this.getOffset(t);if(e&&r-e>2)return!1;e=r}return!0},currentPosition(){return this.getBlockValue("position")||"default"},currentGrouping(){return this.getBlockValue("grouping")},currentLayout(){return this.getBlockDocData("layout")||"full_with_square_img"},currentDropcap(){return this.getBlockValue("dropcap")},currentLeadgraf(){return this.getBlockValue("leadgraf")},currentEndMark(){return this.getBlockValue("endmark")},objectLabel(){if(this.blockIds.length>1)return"Group";{const e=this.getObject(this.blockIds[0]),t=Object.keys(e)[0];return v.default.hasOwnProperty(t)?v.default[t]:"doc"===t?m[e.doc.type]:t}},formattedLabel(){return(this.objectLabel===v.default.html?this.objectLabel:(0,l.capitalize)(this.objectLabel))+" options"},positionOptions(){let e=[y.alignmentOptions.center];return this.blockIds.some(e=>{const t=this.getObject(e);return t.hasOwnProperty("doc")&&"gallery"===t.doc.type})||(e.push(y.alignmentOptions.alignLeft),(0,f.default)(this.currentDoc.head.contents.draft.entry_layout)&&(e.push(y.alignmentOptions.hangLeft),this.blockIds.every(e=>this.canSetWide(this.getObject(e)))&&e.push(y.alignmentOptions.wide),this.blockIds.every(e=>this.canSetFullBleed(this.getObject(e)))&&e.push(y.alignmentOptions.full),e.push(y.alignmentOptions.hangRight)),e.push(y.alignmentOptions.alignRight)),e},groupingOptions(){if(this.blockIds.length<2)return[];let e=[y.groupOptions.none];switch(this.blockIds.length){case 2:e.push(y.groupOptions.twoUp);break;case 3:e=e.concat([y.groupOptions.threeUpTop,y.groupOptions.threeUpBottom]);break;case 4:e.push(y.groupOptions.fourUp)}return e}}),methods:{pluralize:e=>(0,h.default)(e),getOffset(e){return(0,u.default)(this.draftBody,t=>t.attributes&&t.attributes.id===e)},getBlockAttributes(e){const t=this.getOffset(e);return(0,s.default)(this.draftBody,t)},getBlockDocData(e){const t=this.getObject(this.blockIds[0]),r=t.doc.type;return t.doc[r]&&t.doc[r][e]?t.doc[r][e]:null},getObject(e){const t=this.getOffset(e),r=(0,i.default)(this.draftBody,t-1);return null==r||"string"==typeof r.insert?{paragraph:!0}:r.insert},getBlockValue(e){if(this.blockIds.length>1){let t=this.blockIds.map(t=>this.getBlockAttributes(t)[e]||null);return t=(0,l.uniq)(t),t.length>1?this.CONFLICTING_SELECTION:t[0]}return this.getBlockAttributes(this.blockIds[0])[e]||!1},saveField(e,t){const r=this.resetIncompleteGroups(),n=this.updateFieldValue(e,t);this.save([{p:["draft","body"],t:"rich-text",o:r.compose(n)}])},saveSubdocLayout(e){const t=this.blockIds.reduce((t,r)=>{var n=this.getObject(r),a=n.doc.type;n.doc[a]={layout:e};var o=this.getOffset(r),i=(new d.Delta).retain(o-1).delete(1).insert(n);return t.compose(i)},new d.Delta);this.save([{p:["draft","body"],t:"rich-text",o:t}])},async save(e){try{await this.$store.dispatch("resolveOnLocalUpdate",{docId:this.autosave.currentDocId,delta:e}),this.postMessage({event:"refetch"})}catch(e){this.postMessage({event:"error"})}},resetIncompleteGroups(){return(0,p.default)(this.draftBody).reduce((e,t)=>{var r=t.map(e=>e.id),n=(0,l.intersection)(this.blockIds,r);if(n.length>0&&n.length!==r.length)for(let r of t){var a=(new d.Delta).retain(r.offset).retain(1,{grouping:null});e=e.compose(a)}return e},new d.Delta)},updateFieldValue(e,t){return this.blockIds.reduce((r,n)=>{var a={[e]:t},o=this.getBlockAttributes(n);"position"===e&&-1===y.groupPositions.indexOf(t)?a.grouping=null:"grouping"!==e||-1!==y.groupPositions.indexOf(o.position)&&this.currentPosition!==this.CONFLICTING_SELECTION||(a.position="default");var i=this.getOffset(n),s=(new d.Delta).retain(i).retain(1,a);return r.compose(s)},new d.Delta)},canSetAlignment:e=>!(e.hasOwnProperty("doc")&&y.nonAlignedSubdocs.includes(e.doc.type)||e.hasOwnProperty("paragraph")),canSetWide:e=>!(e.hasOwnProperty("doc")&&y.nonWideSubdocs.includes(e.doc.type)||y.nonWideBlocks.some(t=>e.hasOwnProperty(t))),canSetFullBleed:e=>!(e.hasOwnProperty("doc")&&y.nonFullBleedSubdocs.includes(e.doc.type)||y.nonWideBlocks.some(t=>e.hasOwnProperty(t))),canUseLayout:e=>e.hasOwnProperty("doc")&&"productcard"===e.doc.type,selectAllInGroup(){const e=this.blockIds[0],t=(0,p.default)(this.draftBody).find(t=>t.some(t=>t.id===e)).map(e=>e.id);this.postMessage({event:"setSelection",blockIds:t})}}};t.default=k,e.exports=t.default},"5AN/":function(e,t,r){"use strict";r.r(t),r.d(t,"render",(function(){return n})),r.d(t,"staticRenderFns",(function(){return a}));var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("router-link",{class:e.lockupClass,attrs:{to:{path:"/",query:{community_id:e.communityId}}}},[r("div",{class:e.avatarWrapClass},[r("img",{staticClass:"m-community-select__icon",attrs:{src:e.faviconUrl||e.defaultLogoUrl}})]),e._v(" "),e.firstLine&&!e.isMobile?r("span",[r("span",{class:"m-community-select__name m-community-select__name--first "+e.firstLineTruncatedClass+" "+e.hasSecondLineClass},[e._v(e._s(e.firstLine))]),e._v(" "),e.secondLine?r("span",{staticClass:"m-community-select__name m-community-select__name--second m-community-select__name--truncated"},[e._v(e._s(e.secondLine))]):e._e()]):r("span",{class:"m-community-select__name "+e.mobileTruncatedClass},[e._v(e._s(e.communityName))])])},a=[]},"5Fsa":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={pullquote:"pull quote",oembed:"embed",html:"HTML block",actionbox:"action box",readmore:"related",toh_project_details:"project details",toh_tools:"tools and materials",pym:"Pym.js embed"};t.default=n,e.exports=t.default},"5Q+G":function(e,t,r){"use strict";r.r(t),r.d(t,"render",(function(){return n})),r.d(t,"staticRenderFns",(function(){return a}));var n=function(){var e=this.$createElement;return(this._self._c||e)("message")},a=[]},"5Qx3":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={};t.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=s(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e,r&&r.set(e,n);return n}(r("rnq4"));Object.keys(a).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(n,e)||e in t&&t[e]===a[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}}))}));var o,i=r("1ET5");function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(s=function(e){return e?r:t})(e)}var u=(0,((o=r("JFUb"))&&o.__esModule?o:{default:o}).default)(a.default,i.render,i.staticRenderFns,!1,null,null,null).exports;t.default=u,e.exports=t.default},"5eCQ":function(e,t,r){"use strict";r.r(t),r.d(t,"render",(function(){return n})),r.d(t,"staticRenderFns",(function(){return a}));var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticClass:"m-community-select__menu-trigger",on:{click:function(t){return t.preventDefault(),e.toggleMenu(t)}}},[r("div",{staticClass:"m-community-select__lockup",class:{"is-open":e.menuOpen&&e.hasMenu,"m-community-select__lockup--openable":e.hasMenu}},[r("div",{staticClass:"m-community-select__avatar"},[r("img",{staticClass:"m-community-select__icon",attrs:{src:e.community.faviconUrl||e.defaultLogoUrl}})]),e._v(" "),r("span",{staticClass:"m-community-select__name"},[e._v(e._s(e.community.name))])])]),e._v(" "),e.networks&&e.networks.length?r("community-menu",{ref:"communityMenu",staticClass:"m-community-select__menu",class:{"is-active":e.menuOpen},attrs:{allowedRoles:e.allowedRoles,activeMemberships:e.activeMemberships,defaultLogoUrl:e.defaultLogoUrl,networks:e.networks,menuOpen:e.menuOpen},on:{closeMenu:e.closeMenu}}):e._e()],1)},a=[]},"5qpz":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.acknowledgeAnnouncements=function(){var e=d(app.state.get("user","lastAnnouncementSeenAt")).utc(),t=d(app.config.announcements.last_announcement_posted_at).utc();return e.isBefore(t)?m({lastAnnouncementSeenAt:d.utc().toISOString()}):Promise.resolve()},t.getChorusVideoAccess=async function(e){const{currentUser:t}=await l("/api/tower/graphql",{query:a,variables:{scopeId:e}});return!!t&&t.canAccessChorusVideo},t.getCurrentUser=async function(){var{currentUser:e}=await l("/api/tower/graphql",{query:n,variables:{size:"small"}});const t=p(app.config.policyRoles,"app.access");return e.memberships=e.memberships.filter(e=>e.roles.some(e=>t[e])),e.fullOrUserName=e.fullOrUserName||"Unknown User",e},t.getTimezone=function(){return app.state.get("user","timeZone")||app.state.get("community","timeZone")},t.getTwitterUsername=async function(e){const{user:t}=await l("/api/tower/graphql",{query:o,variables:{id:e}});return t.twitterUsername},t.getUser=async function(e){var{user:t}=await l("/api/tower/graphql",{query:i,variables:{id:e}});return t},t.getUsers=async function(e){if(0===e.length)return[];var{users:t}=await l("/api/tower/graphql",{query:s,variables:{ids:f(e)}});return t},t.getUsersWithTitles=async function(e,t){if(0===e.length)return[];var{users:r}=await l("/api/tower/graphql",{query:u,variables:{ids:f(e),communityId:t}});return r},t.readAnnouncements=function(){var e=d(app.state.get("user","lastAnnouncementReadAt")).utc(),t=d(app.config.announcements.last_announcement_posted_at).utc();if(e.isBefore(t)){var r=d.utc().toISOString();return app.state.set(["user","lastAnnouncementSeenAt"],r),app.state.set(["user","lastAnnouncementReadAt"],r),m({lastAnnouncementReadAt:r})}return Promise.resolve()},t.updateAnthemUser=m,t.userLabel=function(e){var t=e.first_name,r=e.last_name;if(!t&&!r)return e.username;if(!r)return t;if(!t)return r;return t+" "+r};var{CurrentUser:n,UserChorusVideo:a,UserTwitterHandle:o,UserName:i,UserNames:s,UserNamesTitles:u}=r("+0Ce"),c=r("kh36"),l=r("XhB+"),d=r("f0Wu"),{get:p,uniq:f}=r("LvDl");function m(e){return c("/api/users/currentUser",{method:"PUT",body:e})}},6:function(e,t){},"6fkZ":function(e,t,r){"use strict";t.ALT_TEXT_OVER_LIMIT="Alt text is currently limited to {alt_text_limit} characters. Please try again.",t.APPLE_NEWS_MEMBERS_ONLY_WARNING="This {docLabel} is exclusive to Apple News+. To unhide it, remove the exclusives group and publish the changes.",t.COMMUNITY_CHANGED="This {docLabel} has been moved!",t.CSV_TOO_LARGE="This CSV is too large. Please upload a file under 1 MB.",t.DATA_LINKS_ERROR="Suggestions timed out. Try again or add links manually.",t.DRAFT_HERMANO_RECORD="This {record} is a draft; it will be published automatically when this {docLabel} is published.",t.EMBARGOED="This story is embargoed.",t.HIDDEN="This story is hidden.",t.FEEDBACK_SENT="Message sent!",t.FILE_TOO_LARGE="Files must be under 100 MB.",t.GETTY_API_DOWN="Getty image search is unavailable. Please try again later.",t.GIF_IN_IMAGE_CARD="GIFs cannot be published with {type} cards. Choose another?",t.GIF_TOO_LARGE="This GIF is over {size} MB and will block this story from publishing to {platforms}.",t.IMAGE_IN_GALLERY="This image is already included in the gallery. Choose another?",t.IMAGE_TOO_LARGE="Images must be under 10,000 x 10,000 pixels.",t.INVALID_LINK_MESSAGE="Please enter a valid URL.",t.INVALID_SPREADSHEET_URL="Please add a valid public Google Sheet URL and try again.",t.INVALID_STREAM_MEMBERSHIP="This type of story cannot be added.",t.MERLIN_API_DOWN="Merlin image search is unavailable. Please try again later.",t.MISSING_LEGACY_ENTRY='Editing is disabled because a more recent version of this story may exist. &nbsp;<a href="https://www.chorus.help/hc/en-us/requests/new">Contact us for help.</a>',t.NETWORK_ASSETS_ACCESS_DENIED="You are not authorized to access assets across this network. Your permissions must be updated before searching across networks.",t.NEW_USER_MESSAGE='Welcome to Chorus! &nbsp;<a href="{url}">Check out our getting started guide.</a>',t.OEMBED_GENERIC_ERROR="Something went wrong. Make sure this embed is shareable and try again.",t.OEMBED_INSECURE_ERROR="This embed URL is insecure. Only HTTPS embeds are supported.",t.OEMBED_SUPPORT_ERROR="Embeds from this source are not supported at this time.",t.OEMBED_PDF_SUPPORT_ERROR="PDFs must be under 10 MB.",t.OEMBED_YOUTUBE_SUPPORT_ERROR="Embeds are disabled for this video by the YouTube account owner.",t.PLAGSCAN_ERROR="An error occurred. Please try scanning the story again.",t.PLAGSCAN_LOW_WORD_COUNT="You can scan this story once it's over 50 words.",t.PLAGSCAN_OUT_OF_DATE="The latest version of this story has not been scanned.",t.PLAGSCAN_RETRIEVED="A report has been generated for this story.",t.PLAGSCAN_SUBMITTED="A report is being generated.",t.PLAGSCAN_UNSCANNED="Submit the story for approval to generate a report.",t.PUBLISH_PACKAGE_ACTIVE_MESSAGE="Your stories are being {action}...",t.PUBLISH_PACKAGE_WARNING_MESSAGE="{gerund} this landing page will {verb} all drafts in this package.",t.PYM_EMBED_GENERIC_ERROR="Something went wrong. Make sure this Pym.js embed is shareable and try again.",t.PYM_EMBED_INSECURE_ERROR="This Pym.js embed URL is insecure. Only HTTPS Pym.js embeds are supported.",t.PYM_EMBED_SUPPORT_ERROR="Pym.js embeds from this source are not supported at this time.",t.REALTIME_ERROR="Autosave failed. Please reload your browser.",t.RECONNECT_ERROR="Something went wrong reconnecting. Please reload your browser.",t.RECONNECTING="Reconnecting...",t.RELOAD_REQUIRED="Please reload to get the latest updates.",t.RELOAD_STALE_TAB="You've been away for a while, please reload.",t.REQUIRED_FIELD="This field is required.",t.RESCUE_SAVED_REASSURE='Your work has been saved in &nbsp;<a href="{url}">this version.</a>',t.SEND_TO_PRINT_SUCCESS="Sent to print!",t.SHEET_PERMISSIONS="Please make the Google Sheet public to continue.",t.STRUCTURED_TAGS_ERROR="Suggestions timed out. Try again or add tags manually.",t.TOO_MANY_EDITORS="More than 10 editors at a time is not recommended.",t.UNEXPECTED="An error occurred. Try again or reload your browser.",t.UNSAVED_WARNING="Your changes are still being saved; leaving now could cause data loss!",t.UNSUPPORTED_ASSET_TYPE='This format is not supported. <a href="https://www.chorus.help/hc/en-us/articles/360009582854-Files">Learn more about supported file formats.</a>',t.UPLOAD_INVALID_FILE='At least one of the uploaded files is not supported. Please review supported <a href="https://www.chorus.help/hc/en-us/articles/360010240753">image</a> and <a href="https://www.chorus.help/hc/en-us/articles/360009582854-Files">file</a> formats and try again.',t.UPLOAD_TOO_MANY_FILES="One file at a time, please."},7:function(e,t){},"7HDv":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,a=(n=r("zBkF"))&&n.__esModule?n:{default:n};function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var s={name:"Message",computed:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},(0,r("L2JU").mapState)("messageBanner",["notifications"])),created(){this.$store.state.messageBanner||this.$store.registerModule("messageBanner",a.default)},methods:{designForNotice:e=>e.type||"neutral",deleteNotice(e){this.$store.commit("messageBanner/DELETE_NOTICE",e.id)}}};t.default=s,e.exports=t.default},"7a9H":function(e,t,r){"use strict";var{uniq:n}=r("LvDl");e.exports=function(e){const t=[],r=e.draft.body;if(r)for(let e of r.ops)"object"==typeof e.insert&&"doc"in e.insert&&t.push(e.insert.doc.id);const a=e.draft.main_gallery;return a&&t.push(a.id),n(t)}},8:function(e,t){},"83hf":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={};t.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=s(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e,r&&r.set(e,n);return n}(r("btQy"));Object.keys(a).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(n,e)||e in t&&t[e]===a[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}}))}));var o,i=r("30fg");function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(s=function(e){return e?r:t})(e)}var u=(0,((o=r("JFUb"))&&o.__esModule?o:{default:o}).default)(a.default,i.render,i.staticRenderFns,!1,null,null,null).exports;t.default=u,e.exports=t.default},"8cJq":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={};t.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=s(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e,r&&r.set(e,n);return n}(r("Q2tf"));Object.keys(a).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(n,e)||e in t&&t[e]===a[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}}))}));var o,i=r("Fzz5");function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(s=function(e){return e?r:t})(e)}var u=(0,((o=r("JFUb"))&&o.__esModule?o:{default:o}).default)(a.default,i.render,i.staticRenderFns,!1,null,null,null).exports;t.default=u,e.exports=t.default},"8x1/":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r("L2JU"),a=r("BbE4");function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var u={props:{childProps:{type:Object,required:!0,default:()=>({})}},data:()=>({title:"",placeholder:"Untitled search"}),computed:i(i({},(0,n.mapState)(["modalId","currentModal","currentCommunity"])),{},{disableButtons(){return this.childProps.saving}}),mounted(){this.title=this.childProps.keyword||""},methods:{handleCreate(){if(this.disableButtons)return;const{addSavedSearch:e}=this.childProps;e({name:this.title||this.placeholder,communityId:String(this.currentCommunity.id),query:this.$route.query.q}),this.clearModal()},clearModal(){this.$store.commit(a.SET_MODAL,{childProps:null,component:null})}}};t.default=u,e.exports=t.default},9:function(e,t){},"9UL2":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={},e.exports=t.default},"9dd1":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={namespaced:!0,state:{loading:!1},mutations:{SET_LOADING(e,t){e.loading=Boolean(t)}}};t.default=n,e.exports=t.default},"9h4/":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return function(e){function t(){e.state.autosave.contentApiSocket.on("connect",()=>{!function(){const t=e.state.autosave.currentDocId;e.state.autosave.contentApiSocket.on("reconnect",()=>e.state.autosave.contentApiSocket.emit("presence.join",t)),e.state.autosave.contentApiSocket.emit("presence.join",t)}()}),e.state.autosave.contentApiSocket.on("autosave.remote-update",(t,r)=>{e.dispatch("remoteUpdate",{docId:t,packet:r})}),e.state.autosave.contentApiSocket.on("autosave.doc-update",(t,r,n)=>{r.includes("schema_version")&&(e.commit("messageBanner/PUT_NOTICE",{type:"negative",message:a.default.RELOAD_REQUIRED,persistent:!0}),e.state.anthemSocket.emit("disconnect","read-only")),e.dispatch("updateDocFlag",{docId:t,path:r,value:n})}),e.state.autosave.contentApiSocket.on("autosave.error",()=>{e.commit("messageBanner/PUT_NOTICE",{type:"negative",message:a.default.REALTIME_ERROR,persistent:!0})}),e.state.autosave.contentApiSocket.once("autosave.error",()=>{e.state.autosave.contentApiSocket.off("autosave.remote-update"),e.state.anthemSocket.emit("disconnect","read-only")})}e.subscribe(r=>{r.type===n.SET_DOC&&(!function(){const t=`${e.state.ssl?"wss":"ws"}://${window.location.host}/`,r=(0,o.default)(t,{transports:["websocket"],path:"/api/content/socket.io/",reconnection:!0,reconnectionAttempts:e.state.sockets.reconnectAttempts});e.commit(n.CAPI_SOCKET,r)}(),t()),r.type===n.REMOVE_DOC_FROM_STATE&&function(){const t=e.state.autosave.currentDocId;e.state.autosave.contentApiSocket.emit(`presence.${t}.leave`),e.state.autosave.contentApiSocket.disconnect(),e.commit(n.CAPI_SOCKET,null),e.state.anthemSocket.emit(`presence.${t}.leave`)}()})}};var n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=s(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e,r&&r.set(e,n);return n}(r("BbE4")),a=i(r("6fkZ")),o=i(r("gFX4"));function i(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(s=function(e){return e?r:t})(e)}e.exports=t.default},"9irK":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r("BbE4"),a={methods:{resetErrorBoundary(){this.$store.commit(n.RESET_ERROR_BOUNDARY)}}};t.default=a,e.exports=t.default},"9pfF":function(e,t,r){"use strict";r.r(t),r.d(t,"render",(function(){return n})),r.d(t,"staticRenderFns",(function(){return a}));var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{staticClass:"m-chorus-help"},[r("res-button",{staticClass:"m-chorus-help__button",attrs:{design:"secondary"}},[r("res-icon",{attrs:{name:"publish"}}),e._v(" "),r("a",{attrs:{href:"https://chorussupport.zendesk.com/hc/en-us",target:"_blank",rel:"noopener noreferrer"}},[e._v("Open documentation")])],1),e._v(" "),e.announcementEntries.length>0?r("fieldset",{staticClass:"m-chorus-help__announcements"},[r("legend",[e._v("What’s new")]),e._v(" "),e._l(e.announcementEntries,(function(t,n){return r("div",{key:n,staticClass:"m-chorus-help__entry",on:{click:function(r){return e.openEntry(t)}}},[r("p",[r("a",[t.isNew?r("res-badge",{attrs:{size:"smallest",design:"grass"}},[e._v("New")]):e._e(),e._v("\n        "+e._s(t.title)+"\n      ")],1)]),e._v(" "),t.blurb?r("p",[e._v(e._s(t.blurb))]):e._e()])}))],2):e._e(),e._v(" "),r("p",{staticClass:"m-chorus-help__feedback"},[e._v("You can also "),r("a",{attrs:{type:"button"},on:{click:function(t){return e.openContactForm()}}},[e._v("contact us")]),e._v(".")])],1)},a=[]},A7S7:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,a=(n=r("fsDA"))&&n.__esModule?n:{default:n},o=r("L2JU");function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){u(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var c={components:{Message:a.default},computed:s(s({},(0,o.mapState)(["messageBanner","message"])),{},{systemMessage(){return Object.assign({},this.message)}}),mounted(){this.displaySystemMessage(this.systemMessage)},methods:{messageShown:e=>"shown"===window.localStorage.getItem(e),displaySystemMessage(){let e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t.id&&(e="message-"+t.id),t&&!this.messageShown(e)){let r=t.type;"primary"===r&&(r="neutral"),this.$store.commit("messageBanner/PUT_NOTICE",{type:r||"neutral",message:t.message,timeout:t.timeout||!1,icon:t.icon||null}),window.localStorage.setItem(e,"shown")}}}};t.default=c,e.exports=t.default},AOAV:function(e,t,r){"use strict";r.r(t),r.d(t,"render",(function(){return n})),r.d(t,"staticRenderFns",(function(){return a}));var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.names.length>1?r("div",[e._l(e.names,(function(t){return r("div",{key:t.fullOrUserName,staticClass:"m-avatar",attrs:{alt:t.fullOrUserName,title:t.fullOrUserName}},[e._v("\n    "+e._s(t.initials)+"\n  ")])})),e._v(" "),e.hiddenNames.length>0?r("div",[r("div",{staticClass:"m-avatar",attrs:{alt:e.hiddenNames.join(", "),title:e.hiddenNames.join(", ")}},[e._v("\n      +"+e._s(e.hiddenNames.length)+"\n    ")])]):e._e()],2):e._e()},a=[]},"AUH+":function(e,t,r){"use strict";e.exports=function(e){return e.draft.hasOwnProperty("package_toc")}},AUQt:function(e,t,r){"use strict";e.exports=function(e,t){let{latest:r}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{latest:!0};e=(e||[]).slice(),r&&e.reverse();const n=e.find(e=>t.indexOf(e.event_type)>-1);if(n)return"backdated"===n.event_type?n.backdated_date:n.date}},AzjT:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r("L2JU"),a=d(r("oRyF")),o=d(r("NyHj")),i=r("K5N4"),s=d(r("veYT")),u=d(r("ZCzW")),c=d(r("nwdn")),l=d(r("taCl"));function d(e){return e&&e.__esModule?e:{default:e}}function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){m(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function m(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var h={components:{CommunityLockup:s.default,UserStatus:u.default,StatusIcon:c.default,HelpToggle:l.default},props:{navLinks:{type:Array,required:!0},pageActive:{type:Function,required:!0}},computed:f(f({},(0,n.mapGetters)(["currentDoc"])),{},{communityId(){return this.currentDoc&&this.currentDoc.community_id},hed(){const e=this.currentDoc.head.contents.draft.hed;return(0,i.toPlaintext)(e)},formattedDocStatus(){const e=this.currentDoc.status;return(0,a.default)(o.default[e])}})};t.default=h,e.exports=t.default},BbE4:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={SET_IS_MOBILE:!0,SAVE_WINDOW_SIZE:!0,SET_SIDEBAR:!0,SET_MODAL:!0,SET_OVERLAY:!0,PATCH_USER:!0,RESET_ERROR_BOUNDARY:!0,CUSTOM_FIELDS_ENABLED:!0,SET_DOC:!0,SET_DIRTY:!0,SET_CLEAN:!0,CLEAR_DIRTY:!0,SET_INLINE:!0,UNSET_INLINE:!0,UPDATE_INLINE_DELTA:!0,SET_INFLIGHT:!0,UNSET_INFLIGHT:!0,UPDATE_INFLIGHT_DELTA:!0,SET_SENT_ID:!0,UPDATE_SEQUENCE:!0,REMOVE_DOC_FROM_STATE:!0,UPDATE_LAST_MODIFIED_DATE:!0,REMOVE_SENT_ID:!0,UPDATE_DOC:!0,CAPI_SOCKET:!0,ANTHEM_SOCKET_INIT:!0,ANTHEM_SOCKET_ADD_USER:!0,ANTHEM_SOCKET_REMOVE_USER:!0,ANTHEM_SOCKET_CONNECTED_STATUS:!0,UPDATE_DOC_BY_PATH:!0,SET_FATAL_ERROR:!0,ADD_RECONNECTING_DOC:!0,REMOVE_RECONNECTING_DOC:!0,SET_AUTOSAVE_READY:!0,READ_ONLY:!0,SOCKET_ERROR:!0};t.UPDATE_SEQUENCE=t.UPDATE_LAST_MODIFIED_DATE=t.UPDATE_INLINE_DELTA=t.UPDATE_INFLIGHT_DELTA=t.UPDATE_DOC_BY_PATH=t.UPDATE_DOC=t.UNSET_INLINE=t.UNSET_INFLIGHT=t.SOCKET_ERROR=t.SET_SIDEBAR=t.SET_SENT_ID=t.SET_OVERLAY=t.SET_MODAL=t.SET_IS_MOBILE=t.SET_INLINE=t.SET_INFLIGHT=t.SET_FATAL_ERROR=t.SET_DOC=t.SET_DIRTY=t.SET_CLEAN=t.SET_AUTOSAVE_READY=t.SAVE_WINDOW_SIZE=t.RESET_ERROR_BOUNDARY=t.REMOVE_SENT_ID=t.REMOVE_RECONNECTING_DOC=t.REMOVE_DOC_FROM_STATE=t.READ_ONLY=t.PATCH_USER=t.CUSTOM_FIELDS_ENABLED=t.CLEAR_DIRTY=t.CAPI_SOCKET=t.ANTHEM_SOCKET_REMOVE_USER=t.ANTHEM_SOCKET_INIT=t.ANTHEM_SOCKET_CONNECTED_STATUS=t.ANTHEM_SOCKET_ADD_USER=t.ADD_RECONNECTING_DOC=void 0;var a=r("aZOI");Object.keys(a).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(n,e)||e in t&&t[e]===a[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}}))}));t.SET_IS_MOBILE="setIsMobile";t.SAVE_WINDOW_SIZE="saveWindowSize";t.SET_SIDEBAR="setSidebar";t.SET_MODAL="setModal";t.SET_OVERLAY="setOverlay";t.PATCH_USER="patchUser";t.RESET_ERROR_BOUNDARY="resetErrorBoundary";t.CUSTOM_FIELDS_ENABLED="customFieldsEnabled";t.SET_DOC="setDoc";t.SET_DIRTY="setDirty";t.SET_CLEAN="setClean";t.CLEAR_DIRTY="clearDirty";t.SET_INLINE="setInLine";t.UNSET_INLINE="unsetInline";t.UPDATE_INLINE_DELTA="updateInlineDelta";t.SET_INFLIGHT="setInFlight";t.UNSET_INFLIGHT="unsetInFlight";t.UPDATE_INFLIGHT_DELTA="updateInflightDelta";t.SET_SENT_ID="setSentId";t.UPDATE_SEQUENCE="updateSequence";t.REMOVE_DOC_FROM_STATE="removeDocFromState";t.UPDATE_LAST_MODIFIED_DATE="updateLastModifiedDate";t.REMOVE_SENT_ID="removeSentId";t.UPDATE_DOC="updateDoc";t.CAPI_SOCKET="capiSocket";t.ANTHEM_SOCKET_INIT="anthemSocketInit";t.ANTHEM_SOCKET_ADD_USER="anthemSocketAddUser";t.ANTHEM_SOCKET_REMOVE_USER="anthemSocketRemoveUser";t.ANTHEM_SOCKET_CONNECTED_STATUS="anthemSocketConnectedStatus";t.UPDATE_DOC_BY_PATH="updateDocByPath";t.SET_FATAL_ERROR="setFatalError";t.ADD_RECONNECTING_DOC="addReconnectingDoc";t.REMOVE_RECONNECTING_DOC="removeReconnectingDoc";t.SET_AUTOSAVE_READY="setAutosaveReady";t.READ_ONLY="readOnly";t.SOCKET_ERROR="socketError"},CJ9i:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={};t.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=s(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e,r&&r.set(e,n);return n}(r("XPen"));Object.keys(a).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(n,e)||e in t&&t[e]===a[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}}))}));var o,i=r("bYZy");function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(s=function(e){return e?r:t})(e)}var u=(0,((o=r("JFUb"))&&o.__esModule?o:{default:o}).default)(a.default,i.render,i.staticRenderFns,!1,null,null,null).exports;t.default=u,e.exports=t.default},CJP3:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={};t.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=s(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e,r&&r.set(e,n);return n}(r("I8fX"));Object.keys(a).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(n,e)||e in t&&t[e]===a[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}}))}));var o,i=r("+ucT");function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(s=function(e){return e?r:t})(e)}var u=(0,((o=r("JFUb"))&&o.__esModule?o:{default:o}).default)(a.default,i.render,i.staticRenderFns,!1,null,null,null).exports;t.default=u,e.exports=t.default},CUho:function(e,t,r){"use strict";var n=r("tNa1").Delta;e.exports=function(e,t){var r=0;for(var a of e.ops){if(t(a))return r;r+=new n([a]).length()}return-1}},D5jB:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.rescueTimeout=t.autosaveThrottle=void 0;t.autosaveThrottle=2e3;t.rescueTimeout=1e3},Dh7P:function(e,t,r){"use strict";e.exports=function(e){return"unison_stream"===e.draft.entry_layout}},DiAx:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let t,r=[];(0,a.has)(e,"draft.body")&&(t=u(e.draft.body),t.length()>0&&r.push({p:["draft","body"],t:"rich-text",o:t}));e.body&&(t=u(e.body),t.length()>0&&r.push({p:["body"],t:"rich-text",o:t}));e.pros&&(t=u(e.pros),t.length()>0&&r.push({p:["pros"],t:"rich-text",o:t}));e.cons&&(t=u(e.cons),t.length()>0&&r.push({p:["cons"],t:"rich-text",o:t}));if((0,a.has)(e,"draft.map_points")){const n=e.draft.map_points;for(let[e,a]of n.entries())t=u(a.body),t.length()>0&&r.push({p:["draft","map_points",e,"body"],t:"rich-text",o:t})}return r};var n,a=r("LvDl"),o=r("tNa1"),i=(n=r("JUFS"))&&n.__esModule?n:{default:n};const s=Object.keys(i.default.object.properties);function u(e){const t=new o.Delta;for(let r of e.ops)1===r.insert?t.delete(1).insert((0,a.pick)(r.attributes,s),(0,a.omit)(r.attributes,s)):t.retain(r.insert.length||1);return t.chop()}e.exports=t.default},DraD:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={};t.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=s(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e,r&&r.set(e,n);return n}(r("Wdcv"));Object.keys(a).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(n,e)||e in t&&t[e]===a[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}}))}));var o,i=r("5eCQ");function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(s=function(e){return e?r:t})(e)}var u=(0,((o=r("JFUb"))&&o.__esModule?o:{default:o}).default)(a.default,i.render,i.staticRenderFns,!1,null,null,null).exports;t.default=u,e.exports=t.default},Dy2z:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={};t.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=s(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e,r&&r.set(e,n);return n}(r("k4q3"));Object.keys(a).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(n,e)||e in t&&t[e]===a[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}}))}));var o,i=r("K5cv");function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(s=function(e){return e?r:t})(e)}var u=(0,((o=r("JFUb"))&&o.__esModule?o:{default:o}).default)(a.default,i.render,i.staticRenderFns,!1,null,null,null).exports;t.default=u,e.exports=t.default},EK5S:function(e,t,r){"use strict";r.r(t),r.d(t,"render",(function(){return n})),r.d(t,"staticRenderFns",(function(){return a}));var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"m-overlay__entry"},[r("h1",[r("a",{staticClass:"m-overlay__entry__export",attrs:{href:e.entry.url,target:"_blank"}},[r("res-icon",{attrs:{size:"medium",title:"Open externally",name:"new-window"}})],1),e._v("\n    "+e._s(e.entry.title)+"\n    "),r("a",{staticClass:"m-overlay__entry__export--after",attrs:{href:e.entry.url,target:"_blank"}},[r("res-icon",{attrs:{size:"medium",title:"Open externally",name:"new-window"}})],1)]),e._v(" "),r("p",[e._v(e._s(e.entry.dek))]),e._v(" "),r("section",{domProps:{innerHTML:e._s(e.entry.body||e.entry.body_extended)}})])},a=[]},EVNL:function(e,t){var r={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"HeadlessConfig"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"community"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",alias:{kind:"Name",value:"headlessModeEnabled"},name:{kind:"Name",value:"siteConfigBoolean"},arguments:[{kind:"Argument",name:{kind:"Name",value:"key"},value:{kind:"StringValue",value:"headless_mode_enabled",block:!1}}],directives:[]},{kind:"Field",alias:{kind:"Name",value:"externalPreviewEnabled"},name:{kind:"Name",value:"hasSiteConfig"},arguments:[{kind:"Argument",name:{kind:"Name",value:"key"},value:{kind:"StringValue",value:"external_preview_url",block:!1}},{kind:"Argument",name:{kind:"Name",value:"type"},value:{kind:"StringValue",value:"string",block:!1}}],directives:[]},{kind:"Field",alias:{kind:"Name",value:"externalPreviewUrl"},name:{kind:"Name",value:"siteConfigString"},arguments:[{kind:"Argument",name:{kind:"Name",value:"key"},value:{kind:"StringValue",value:"external_preview_url",block:!1}}],directives:[]},{kind:"Field",alias:{kind:"Name",value:"externalLayoutEnabled"},name:{kind:"Name",value:"hasSiteConfig"},arguments:[{kind:"Argument",name:{kind:"Name",value:"key"},value:{kind:"StringValue",value:"external_layout_preview_url",block:!1}},{kind:"Argument",name:{kind:"Name",value:"type"},value:{kind:"StringValue",value:"string",block:!1}}],directives:[]},{kind:"Field",alias:{kind:"Name",value:"externalLayoutUrl"},name:{kind:"Name",value:"siteConfigString"},arguments:[{kind:"Argument",name:{kind:"Name",value:"key"},value:{kind:"StringValue",value:"external_layout_preview_url",block:!1}}],directives:[]},{kind:"Field",alias:{kind:"Name",value:"externalPreviewSharedSecret"},name:{kind:"Name",value:"siteConfigString"},arguments:[{kind:"Argument",name:{kind:"Name",value:"key"},value:{kind:"StringValue",value:"external_preview_shared_secret",block:!1}}],directives:[]},{kind:"Field",alias:{kind:"Name",value:"externalPreviewEnableAmp"},name:{kind:"Name",value:"siteConfigBoolean"},arguments:[{kind:"Argument",name:{kind:"Name",value:"key"},value:{kind:"StringValue",value:"external_preview_enable_amp",block:!1}}],directives:[]}]}}]}}],loc:{start:0,end:704}};r.loc.source={body:'query HeadlessConfig($id: Int!) {\n  community(id: $id) {\n    id\n    headlessModeEnabled:            siteConfigBoolean(key: "headless_mode_enabled")\n    externalPreviewEnabled:         hasSiteConfig(key: "external_preview_url", type: "string")\n    externalPreviewUrl:             siteConfigString(key: "external_preview_url")\n    externalLayoutEnabled:          hasSiteConfig(key: "external_layout_preview_url", type: "string")\n    externalLayoutUrl:              siteConfigString(key: "external_layout_preview_url")\n    externalPreviewSharedSecret:    siteConfigString(key: "external_preview_shared_secret")\n    externalPreviewEnableAmp:       siteConfigBoolean(key: "external_preview_enable_amp")\n  }\n}\n',name:"GraphQL request",locationOffset:{line:1,column:1}};var n={};function a(e,t){for(var r=0;r<e.definitions.length;r++){var n=e.definitions[r];if(n.name&&n.name.value==t)return n}}r.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,r){if("FragmentSpread"===t.kind)r.add(t.name.value);else if("VariableDefinition"===t.kind){var n=t.type;"NamedType"===n.kind&&r.add(n.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,r)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,r)})),t.definitions&&t.definitions.forEach((function(t){e(t,r)}))}(e,t),n[e.name.value]=t}})),e.exports=r,e.exports.HeadlessConfig=function(e,t){var r={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(r.loc=e.loc);var o=n[t]||new Set,i=new Set,s=new Set;for(o.forEach((function(e){s.add(e)}));s.size>0;){var u=s;s=new Set,u.forEach((function(e){i.has(e)||(i.add(e),(n[e]||new Set).forEach((function(e){s.add(e)})))}))}return i.forEach((function(t){var n=a(e,t);n&&r.definitions.push(n)})),r}(r,"HeadlessConfig")},Fw7v:function(e,t,r){"use strict";var n=r("rE/H"),a=r("gjeX");e.exports=function(e){return a(n(e))}},Fzz5:function(e,t,r){"use strict";r.r(t),r.d(t,"render",(function(){return n})),r.d(t,"staticRenderFns",(function(){return a}));var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"m-layout-mode__tools"},[r("form-subsection",{attrs:{label:"Stories"}},[r("div",{staticClass:"m-layout-mode__group"},[r("label",{staticClass:"is-fixed"},[e._v("Card size")]),e._v(" "),r("autosave-radio",{key:e.packageStoryLayout,attrs:{value:e.packageStoryLayout,options:e.packageStoryLayoutOptions,path:e.packageStoryLayoutPath,onResolve:e.sendFetch,onError:e.sendError}})],1)])],1)},a=[]},G87O:function(e,t,r){"use strict";r.r(t),r.d(t,"render",(function(){return n})),r.d(t,"staticRenderFns",(function(){return a}));var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{class:["m-tooltip",e.className]},[r("res-button",{attrs:{id:e.id,design:"default",paddingless:""}},[r("res-icon",{attrs:{name:"tooltip"}}),e._v(" "),r("button",{attrs:{type:"button"}})],1),e._v(" "),r("res-dropdown",{attrs:{for:e.id,placement:e.placement,visible:e.active,design:"dark"}},[e._t("default")],2)],1)},a=[]},GUvR:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={};t.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=s(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e,r&&r.set(e,n);return n}(r("A7S7"));Object.keys(a).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(n,e)||e in t&&t[e]===a[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}}))}));var o,i=r("5Q+G");function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(s=function(e){return e?r:t})(e)}var u=(0,((o=r("JFUb"))&&o.__esModule?o:{default:o}).default)(a.default,i.render,i.staticRenderFns,!1,null,null,null).exports;t.default=u,e.exports=t.default},H0mI:function(e,t,r){"use strict";var n=r("3XHv").type;n.registerSubtype(r("tNa1").type),e.exports=n},HNHc:function(e,t,r){"use strict";var n=r("QE0c");e.exports=function(e,t){var r=n(e,t);return r&&r.attributes||{}}},HcXc:function(e,t,r){"use strict";r.r(t),r.d(t,"render",(function(){return n})),r.d(t,"staticRenderFns",(function(){return a}));var n=function(){var e=this.$createElement,t=this._self._c||e;return t("error-boundary",{key:this.errorBoundaryKey},[t("app-modal"),this._v(" "),t("app-overlay"),this._v(" "),t("app-sidebar"),this._v(" "),t("router-view"),this._v(" "),t("app-loader",{attrs:{iconName:"more",animation:"static"}})],1)},a=[]},HfYJ:function(e,t,r){"use strict";function n(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(n=function(e){return e?r:t})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a={[function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=n(t);if(r&&r.has(e))return r.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=o?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(a,i,s):a[i]=e[i]}a.default=e,r&&r.set(e,a);return a}(r("aZOI")).SET_CONTEXT](e,t){let{community:r,user:n,entitlements:a}=t;r&&r.id&&r.network&&(e.currentCommunity=r,Object.keys(r.network).length&&(e.network=r.network)),n&&(e.currentUser=n),void 0!==a&&(e.entitlements=a)}};t.default=a,e.exports=t.default},I8fX:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r("L2JU"),a=r("BbE4"),o=r("yhHH"),i=u(r("j3fI")),s=u(r("Zi/e"));function u(e){return e&&e.__esModule?e:{default:e}}function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){d(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var p={components:{ChorusHelpAnnouncement:i.default,ChorusHelpContactForm:s.default},computed:l(l({},(0,n.mapState)(["currentOverlay"])),{},{componentClass(){return this.currentOverlay.component||null},pageType(){return(0,o.getPageType)(this.$route.name)}}),methods:{closeOverlay(){this.$store.commit(a.SET_OVERLAY,{childProps:null,component:null})}}};t.default=p,e.exports=t.default},IR4U:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={};t.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=s(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e,r&&r.set(e,n);return n}(r("9irK"));Object.keys(a).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(n,e)||e in t&&t[e]===a[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}}))}));var o,i=r("1V3m");function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(s=function(e){return e?r:t})(e)}var u=(0,((o=r("JFUb"))&&o.__esModule?o:{default:o}).default)(a.default,i.render,i.staticRenderFns,!1,null,null,null).exports;t.default=u,e.exports=t.default},IVGt:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r("tNa1"),a=r("LvDl"),o=r("L2JU");function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){u(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var c={props:{options:{type:Array,default:()=>[]},richText:{type:Boolean,default:!1},path:{type:Array,default:()=>[]},value:{type:String,default:""},onResolve:{type:Function},onError:{type:Function}},data:()=>({radioValue:null}),computed:s(s({},(0,o.mapGetters)(["currentDoc","contents"])),{},{docId(){return this.currentDoc.id}}),mounted(){this.radioValue=this.value},methods:{saveValue(){const e=this.path,t=[{p:e,od:(0,a.get)(this.contents,e),oi:this.richText?(new n.Delta).insert(this.radioValue):this.radioValue}];this.onResolve&&this.onError?this.asyncSave(t):this.$store.dispatch("localUpdate",{docId:this.docId,delta:t})},async asyncSave(e){try{await this.$store.dispatch("resolveOnLocalUpdate",{docId:this.docId,delta:e}),this.onResolve()}catch(e){this.onError(e)}}}};t.default=c,e.exports=t.default},JCm4:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={};t.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=s(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e,r&&r.set(e,n);return n}(r("jmbI"));Object.keys(a).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(n,e)||e in t&&t[e]===a[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}}))}));var o,i=r("QPnB");function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(s=function(e){return e?r:t})(e)}var u=(0,((o=r("JFUb"))&&o.__esModule?o:{default:o}).default)(a.default,i.render,i.staticRenderFns,!1,null,null,null).exports;t.default=u,e.exports=t.default},JOwg:function(e,t,r){"use strict";e.exports=function(e){var{total:t,perPage:r}=e;return e.totalPages=0===t?1:Math.ceil(t/r),e}},JQTl:function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Object.defineProperty(t,"__esModule",{value:!0}),t.pubHistoryUpdate=O,t.publishOrSchedule=b,t.scheduleDoc=g,t.sendToPrint=async function(e,t){app.state.set(["requestInProgress"],!0);try{await i(`/api/content/docs/${e.id}/dti_publish`,{method:"POST",body:{deskName:t}}),u.showMessage({type:"positive",message:y})}catch(e){u.showError()}finally{app.state.set(["requestInProgress"],!1)}},t.unschedule=function(e,t){return b(e,{publishScheduledFor:null},t)};const i=r("kh36"),s=r("SiKE"),u=r("lvH+"),c=r("K5N4").toPlaintext,l=r("f0Wu"),d=r("V8PI"),p=r("AUH+"),f=r("1wDL"),m=r("mMcG"),h=r("AUQt"),{SEND_TO_PRINT_SUCCESS:y}=r("6fkZ"),v=r("q1SX");async function b(e,t,r){app.state.set(["requestInProgress"],!0);const n=e.head.contents;let a=1,o=0;if(p(n)){const e=n.draft.package_toc,i=f(e);a+=i.length,r({loaded:o,total:a});try{await Promise.all(i.reduce((e,n)=>{const i=app.state.get(["packageDocs",n.uuid]);return d(i.status)||e.push(_(i,t)),o+=1,r({loaded:o,total:a}),e},[]))}catch(e){v.reportError(e)}}await _(e,t),r&&r({loaded:a,total:a}),app.state.set(["requestInProgress"],!1)}async function _(e,t){"publishScheduledFor"in t?await g(e,t.publishScheduledFor):await async function(e,t){try{await i(`/api/content/docs/${e.id}/publish`,{method:"POST",body:t})}catch(t){p(e.head.contents)&&v.reportError(t,!1),u.showError(),app.state.set(["requestInProgress"],!1)}}(e,t),null!==t.publishScheduledFor&&function(e,t,r){if(window.ga){const e=t.head.contents.draft,n=t.head.contents.publish_history,a=h(n,["published","published_via_schedule","backdated"],{latest:!1}),o=h(n,["published","published_via_schedule","backdated"]),i=a&&a!==o,s=e=>e?l(e).format("YYYY-MM-DD HH:mm"):"";window.ga("send",{hitType:"event",eventCategory:"publish",eventAction:"publish:entry",dimension1:t.entry_id,dimension4:e.contributors[0].chorus_id,dimension5:s(r.publishScheduledFor||a),dimension8:s(r.publishScheduledFor||o),dimension10:e.site_groups.map(e=>e.name).join(":"),dimension11:app.state.get("community","slug"),dimension12:app.state.get(["community","network","slug"]),dimension26:new Date(r.publishScheduledFor||o).getHours(),dimension35:app.state.get("user","fullOrUserName"),dimension36:c(e.hed),dimension37:c(e.internal_title),dimension38:c(e.seo_title),dimension39:c(e.social_title),dimension40:i?"Yes":"No",dimension53:m(e.body)})}}(t.publishScheduledFor,e,t)}async function g(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const n=e.head.contents.publish_history;let o,i;o=t?"SCHEDULED":h(n,["approved"])?"APPROVED":h(n,["submitted"])?"SUBMITTED":"DRAFT",i=t?t&&e.head.contents.publish_scheduled_for?"rescheduled":"scheduled":"schedule_canceled",await s.updateDoc(e.id,{status:o,delta:[{p:["publish_scheduled_for"],oi:t,od:e.head.contents.publish_scheduled_for},...O(e,i,a({publishScheduledFor:t},r))]})}function O(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const n={date:(new Date).toISOString(),user_id:r.userId||app.state.get(["user","id"]),event_type:t};"community_changed"===t?(n.origin_community_id=app.state.get(["community","id"]),n.destination_community_id=r.communityId):"scheduled"!==t&&"rescheduled"!==t||(n.scheduled_date=r.publishScheduledFor);const a=e.head.contents.publish_history.length;return[{p:["publish_history",a],li:n}]}},JUFS:function(e){e.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-04/schema#","id":"https://usechorus.com/schema/rich-text.json","document":{"type":"object","properties":{"ops":{"type":"array","minItems":1,"items":{"$ref":"#/op/insert"}}},"required":["ops"],"default":{"ops":[{"insert":"\\n"}]},"additionalProperties":false},"delta":{"type":"object","properties":{"ops":{"type":"array","items":{"oneOf":[{"$ref":"#/op/insert"},{"$ref":"#/op/retain"},{"$ref":"#/op/delete"}]}}},"required":["ops"],"default":{"ops":[{"insert":"\\n"}]},"additionalProperties":false},"op":{"insert":{"type":"object","properties":{"insert":{"oneOf":[{"type":"string","minLength":1},{"type":"integer","enum":[1]},{"$ref":"#/object"}]},"attributes":{"$ref":"#/attributes"}},"required":["insert"],"additionalProperties":false},"retain":{"type":"object","properties":{"retain":{"type":"integer"},"attributes":{"type":"object","minProperties":1}},"required":["retain"],"additionalProperties":false},"delete":{"type":"object","properties":{"delete":{"type":"integer","minimum":1}},"required":["delete"],"additionalProperties":false}},"attributes":{"type":"object","properties":{"actionbox":{"$ref":"#/object/properties/actionbox","context":"object"},"ad_placement":{"type":"string","context":"any-line"},"author":{"type":"string","context":"any"},"autolink":{"type":"object","context":"text","properties":{"id":{"type":"string"},"href":{"type":"string"},"disabled":{"type":"boolean"}},"required":["id","href","disabled"],"additionalProperties":false},"blockquote":{"type":"boolean","const":true,"context":"text-line"},"bold":{"type":"boolean","const":true,"context":"text"},"br":{"type":"boolean","const":true,"context":"text-line"},"bullet":{"type":"boolean","const":true,"context":"text-line"},"doc":{"$ref":"#/object/properties/doc","context":"object"},"dropcap":{"type":"boolean","const":true,"context":"text-line"},"endmark":{"type":"boolean","const":true,"context":"text-line"},"fifthheader":{"type":"boolean","const":true,"context":"text-line"},"firstheader":{"type":"boolean","const":true,"context":"text-line"},"fourthheader":{"type":"boolean","const":true,"context":"text-line"},"grouping":{"type":"string","context":"object-line","pattern":"^(2-up|3-up-top|3-up-bottom|4-up)$"},"hr":{"$ref":"#/object/properties/hr","context":"object"},"html":{"$ref":"#/object/properties/html","context":"object"},"id":{"type":"string","context":"any-line"},"image":{"$ref":"#/object/properties/image","context":"object"},"italic":{"type":"boolean","const":true,"context":"text"},"leadgraf":{"type":"boolean","const":true,"context":"text-line"},"link":{"type":"string","context":"text"},"list":{"type":"boolean","const":true,"context":"text-line"},"mark":{"type":"boolean","const":true,"context":"text"},"newsletter":{"$ref":"#/object/properties/newsletter","context":"object"},"oembed":{"$ref":"#/object/properties/oembed","context":"object"},"position":{"type":"string","context":"object-line","pattern":"^(default|float-left|float-right|hang-left|hang-right|full-bleed|wide-block)$"},"pullquote":{"$ref":"#/object/properties/pullquote","context":"object"},"ratingcard":{"$ref":"#/object/properties/ratingcard","context":"object"},"readmore":{"$ref":"#/object/properties/readmore","context":"object"},"secondheader":{"type":"boolean","const":true,"context":"text-line"},"small":{"type":"boolean","const":true,"context":"text"},"strike":{"type":"boolean","const":true,"context":"text"},"subscript":{"type":"boolean","const":true,"context":"text"},"superscript":{"type":"boolean","const":true,"context":"text"},"thirdheader":{"type":"boolean","const":true,"context":"text-line"},"video":{"$ref":"#/object/properties/video","context":"object"},"credits":{"$ref":"#/object/properties/credits","context":"object"},"toh_project_details":{"$ref":"#/object/properties/toh_project_details","context":"object"},"toh_tools":{"$ref":"#/object/properties/toh_tools","context":"object"},"pym":{"$ref":"#/object/properties/pym","context":"object"}},"minProperties":1,"additionalProperties":false},"object":{"type":"object","properties":{"actionbox":{"type":"object","context":"object","properties":{"title":{"type":"string","format":"html"},"description":{"type":"string","format":"html"},"label":{"type":"string","format":"html"},"url":{"type":"string"}},"required":["label","url"],"additionalProperties":false},"doc":{"$ref":"definitions.json#/doc","context":"object"},"html":{"type":"object","context":"object","properties":{"value":{"type":"string","format":"html"},"reason":{"type":"string"}},"required":["value"],"additionalProperties":false},"hr":{"type":"boolean","context":"object","enum":[true]},"image":{"$ref":"definitions.json#/image","context":"object"},"newsletter":{"type":"object","context":"object","properties":{"name":{"type":"string"},"slug":{"type":"string"}},"required":["name","slug"],"additionalProperties":false},"oembed":{"$ref":"definitions.json#/oembed","context":"object"},"pullquote":{"type":"object","context":"object","properties":{"value":{"type":"string","format":"html"}},"required":["value"],"additionalProperties":false},"readmore":{"type":"array","context":"object","items":{"type":"object","properties":{"url":{"type":"string"},"title":{"type":"string"},"description":{"type":"string"},"image":{"type":"string"}}}},"ratingcard":{"type":"object","context":"object","properties":{"rating":{"type":"number"},"title":{"type":"string"}},"required":["rating"],"additionalProperties":false},"video":{"$ref":"definitions.json#/video","context":"object"},"credits":{"$ref":"definitions.json#/credits","context":"object"},"toh_project_details":{"type":"object","context":"object","properties":{"skill":{"type":"integer"},"skill_description":{"type":"string"},"estimated_cost":{"type":"string"},"estimated_time":{"type":"string"}},"additionalProperties":false},"toh_tools":{"type":"array","context":"object","items":{"type":"object","properties":{"url":{"type":"string"},"caption":{"type":"string"},"image":{"$ref":"definitions.json#/image"}},"required":["caption","image"]}},"pym":{"type":"object","context":"object","properties":{"url":{"type":"string"}},"required":["url"],"additionalProperties":false}},"minProperties":1,"maxProperties":1,"additionalProperties":false}}')},"K+3G":function(e,t,r){"use strict";function n(e){Error.call(this);var t="GraphQL errors returned. "+e.length+" errors occurred";"function"==typeof Error.captureStackTrace?Error.captureStackTrace(this,n):this.stack=new Error(t).stack,this.message=t,this.data=e,this.name=this.constructor.name}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n.prototype=Object.create(Error.prototype),n.prototype.constructor=n;var a=n;t.default=a,e.exports=t.default},K5cv:function(e,t,r){"use strict";r.r(t),r.d(t,"render",(function(){return n})),r.d(t,"staticRenderFns",(function(){return a}));var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"m-search-panel__search"},[r("form",{staticClass:"m-search-panel__form",on:{submit:function(t){return t.preventDefault(),e.onSearchSubmit(t)}}},[r("res-input",{staticClass:"m-search-panel__field",on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.preventDefault(),e.onSearchSubmit(t))}}},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.keyword,expression:"keyword"}],ref:"keywordInput",attrs:{type:"search",placeholder:"Story title or keywords"},domProps:{value:e.keyword},on:{input:function(t){t.target.composing||(e.keyword=t.target.value)}}}),e._v(" "),r("res-icon",{attrs:{slot:"inner-left",name:"search"},slot:"inner-left"})],1),e._v(" "),e.$route.name.includes("pages")?e._e():r("autocomplete-input",{staticClass:"m-search-panel__form__field",attrs:{minSearchTextLength:2,queryType:"groups",fieldLabel:"Group",inputPlaceholder:"Group name"},model:{value:e.groupList,callback:function(t){e.groupList=t},expression:"groupList"}}),e._v(" "),"archive"!==e.currentPage&&"trash"!==e.currentPage?r("div",{staticClass:"m-search-panel__field-wrapper"},[r("p",{staticClass:"m-search-panel__field-label"},[e._v("Status")]),e._v(" "),"pages"===e.currentPage?r("div",{staticClass:"m-search-panel__checkbox-group"},e._l(e.pageStatuses,(function(t){return r("res-checkbox",{key:t.name+e.checkboxKey},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.checked,expression:"status.checked"}],attrs:{name:t.name,type:"checkbox"},domProps:{checked:Array.isArray(t.checked)?e._i(t.checked,null)>-1:t.checked},on:{change:function(r){var n=t.checked,a=r.target,o=!!a.checked;if(Array.isArray(n)){var i=e._i(n,null);a.checked?i<0&&e.$set(t,"checked",n.concat([null])):i>-1&&e.$set(t,"checked",n.slice(0,i).concat(n.slice(i+1)))}else e.$set(t,"checked",o)}}}),e._v(" "),r("label",[e._v(e._s(t.label))])])})),1):r("div",{staticClass:"m-search-panel__checkbox-group"},e._l(e.statuses,(function(t){return r("res-checkbox",{key:t.name+e.checkboxKey},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.checked,expression:"status.checked"}],attrs:{name:t.name,type:"checkbox"},domProps:{checked:Array.isArray(t.checked)?e._i(t.checked,null)>-1:t.checked},on:{change:function(r){var n=t.checked,a=r.target,o=!!a.checked;if(Array.isArray(n)){var i=e._i(n,null);a.checked?i<0&&e.$set(t,"checked",n.concat([null])):i>-1&&e.$set(t,"checked",n.slice(0,i).concat(n.slice(i+1)))}else e.$set(t,"checked",o)}}}),e._v(" "),r("label",[e._v(e._s(t.label))])])})),1)]):e._e(),e._v(" "),r("div",{staticClass:"m-search-panel__field-wrapper"},[r("p",{staticClass:"m-search-panel__field-label"},[e._v("Date")]),e._v(" "),r("div",{staticClass:"m-search-panel__date-operator"},[r("span",[e._v("Show stories")]),e._v(" "),r("res-radio",[r("input",{directives:[{name:"model",rawName:"v-model",value:e.dateOperator,expression:"dateOperator"}],ref:"on",attrs:{type:"radio",name:"dateOperator",value:"on"},domProps:{checked:e._q(e.dateOperator,"on")},on:{change:function(t){e.dateOperator="on"}}}),e._v(" "),r("label",[e._v("on")])]),e._v(" "),r("res-radio",[r("input",{directives:[{name:"model",rawName:"v-model",value:e.dateOperator,expression:"dateOperator"}],ref:"before",attrs:{type:"radio",name:"dateOperator",value:"before"},domProps:{checked:e._q(e.dateOperator,"before")},on:{change:function(t){e.dateOperator="before"}}}),e._v(" "),r("label",[e._v("before")])]),e._v(" "),r("res-radio",[r("input",{directives:[{name:"model",rawName:"v-model",value:e.dateOperator,expression:"dateOperator"}],ref:"after",attrs:{type:"radio",name:"dateOperator",value:"after"},domProps:{checked:e._q(e.dateOperator,"after")},on:{change:function(t){e.dateOperator="after"}}}),e._v(" "),r("label",[e._v("after")])])],1)]),e._v(" "),r("res-datepicker",[r("label"),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.dateString,expression:"dateString"}],attrs:{type:"text",placeholder:"Date last updated"},domProps:{value:e.dateString},on:{input:function(t){t.target.composing||(e.dateString=t.target.value)}}})]),e._v(" "),r("autocomplete-input",{ref:"autocompleteContributors",staticClass:"m-search-panel__form__field",attrs:{queryType:"contributors",fieldLabel:"Byline",inputPlaceholder:"Author byline"},model:{value:e.contributorList,callback:function(t){e.contributorList=t},expression:"contributorList"}}),e._v(" "),"pages"!==e.currentPage?r("div",{staticClass:"m-search-panel__field-wrapper"},[r("p",{staticClass:"m-search-panel__field-label"},[e._v("Story type")]),e._v(" "),r("div",{staticClass:"m-search-panel__checkbox-group"},[e._l(e.storyTypes,(function(t){return[e.typeAccess.includes(t.name)?r("res-checkbox",{key:t.name+e.checkboxKey},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.checked,expression:"storyType.checked"}],attrs:{name:t.name,type:"checkbox"},domProps:{checked:Array.isArray(t.checked)?e._i(t.checked,null)>-1:t.checked},on:{change:function(r){var n=t.checked,a=r.target,o=!!a.checked;if(Array.isArray(n)){var i=e._i(n,null);a.checked?i<0&&e.$set(t,"checked",n.concat([null])):i>-1&&e.$set(t,"checked",n.slice(0,i).concat(n.slice(i+1)))}else e.$set(t,"checked",o)}}}),e._v(" "),r("label",[e._v(e._s(t.label))])]):e._e()]}))],2)]):e._e()],1),e._v(" "),r("footer",{directives:[{name:"show",rawName:"v-show",value:!e.isCollapsed,expression:"!isCollapsed"}]},[e.showSaveButton?r("res-button",{attrs:{disabled:e.disableSaveButton,"res-modal-open":e.disableSaveButton?null:e.modalId,design:"secondary"},on:{click:function(t){return t.preventDefault(),e.openCreateModal(e.$refs.saveButton,e.keyword)}}},[r("button",{ref:"saveButton"},[e._v("Save search")])]):e._e(),e._v(" "),r("res-button",{attrs:{disabled:e.disableSearchButton,design:"primary"},on:{click:function(t){return t.preventDefault(),e.onSearchSubmit(t)}}},[r("res-icon",{attrs:{name:"search"}}),r("button",[e._v("Search")])],1)],1)])},a=[]},KK0Q:function(e,t,r){"use strict";r.r(t),r.d(t,"render",(function(){return n})),r.d(t,"staticRenderFns",(function(){return a}));var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"m-dashboard__modal"},[r("res-input",{staticClass:"m-dashboard__modal__input"},[r("label",[e._v("Share link")]),e._v(" "),e.notPublished?r("p",[e._v("\n      Before the story is published, this link will redirect to the homepage. Once it's published, it will redirect to the public URL.\n    ")]):e._e(),e._v(" "),r("input",{attrs:{readonly:"",type:"text"},domProps:{value:e.shortlink}})]),e._v(" "),r("div",{staticClass:"m-dashboard__modal__actions"},[r("res-button",{attrs:{design:"secondary"},on:{click:e.copyShortlink}},[r("button",[e._v("Copy link")])]),e._v(" "),e.copied?r("span",[r("res-icon",{staticClass:"m-dashboard__modal__icon",attrs:{name:"check-circle"}}),e._v("\n      Copied!\n    ")],1):e._e(),e._v(" "),r("res-button",{attrs:{"res-modal-close":e.modalId}},[r("res-icon",{staticClass:"m-dashboard__modal__icon",attrs:{name:"x"}}),e._v(" "),r("button",[e._v("Cancel")])],1)],1)],1)},a=[]},KPtd:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={};t.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=s(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e,r&&r.set(e,n);return n}(r("SORu"));Object.keys(a).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(n,e)||e in t&&t[e]===a[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}}))}));var o,i=r("jfF0");function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(s=function(e){return e?r:t})(e)}var u=(0,((o=r("JFUb"))&&o.__esModule?o:{default:o}).default)(a.default,i.render,i.staticRenderFns,!1,null,null,null).exports;t.default=u,e.exports=t.default},KSqv:function(e,t,r){"use strict";var n=r("U9Hs"),a=r("2cuI");e.exports=function(e){var t=0,r=[];for(let n of e.ops)n.attributes&&n.attributes.grouping&&r.push({id:n.attributes.id,offset:t,grouping:n.attributes.grouping}),t+="string"==typeof n.insert?n.insert.length:1;return n(r,(e,t)=>{var r=e[e.length-1];return t.grouping===r.grouping&&t.offset-r.offset==2&&!a(e)})}},Kns8:function(e,t,r){"use strict";r.r(t),r.d(t,"render",(function(){return n})),r.d(t,"staticRenderFns",(function(){return a}));var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"m-dashboard__modal"},[r("p",{staticClass:"m-dashboard__modal__text"},[e._v("Delete this search?")]),e._v(" "),r("div",{staticClass:"m-dashboard__modal__actions"},[r("res-button",{attrs:{disabled:e.disableButtons,"res-modal-close":e.modalId,design:"secondary"},on:{click:e.deleteSearch}},[r("button",[e._v("Delete")])]),e._v(" "),r("res-button",{attrs:{disabled:e.disableButtons,"res-modal-close":e.modalId}},[r("res-icon",{staticClass:"m-dashboard__modal__icon",attrs:{name:"x"}}),e._v(" "),r("button",[e._v("Cancel")])],1)],1)])},a=[]},LlNF:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r("L2JU"),a=r("EVNL"),o=u(r("VleF")),i=u(r("cCRb")),s=u(r("8cJq"));function u(e){return e&&e.__esModule?e:{default:e}}function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){d(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var p={components:{EditLayout:o.default,EditBlock:i.default,EditPackageCover:s.default},props:{uuid:{type:String,required:!0,default:""}},data:()=>({siteConfig:{},selectedBlockIds:[],packageCoverIndex:null}),computed:l(l(l({},(0,n.mapState)(["currentCommunity","autosave","messageBanner","isMobile"])),(0,n.mapGetters)(["currentDoc","draftBody","contents"])),{},{communityId(){return this.currentCommunity.id},componentData(){if(this.currentDoc){return this.draftBody.ops.filter(e=>e.hasOwnProperty("attributes")).map(e=>e.attributes.id).join(",")}return null},packageCovers(){return this.currentDoc&&this.contents.draft.package_cover?this.contents.draft.package_cover.length:0},iframeurl(){return`${this.siteConfig.externalLayoutUrl}/?&c=${this.componentData}&p=${this.packageCovers}`},bannerMessageOverride(){const e=this.isMobile?45:72;return`top: ${44*this.messageBanner.notifications.length+e}px`}}),mounted(){window.addEventListener("message",this.onMessage)},beforeDestroy(){window.removeEventListener("message",this.onMessage)},methods:{deselectBlocks(){this.postMessage({event:"setSelection",blockIds:[]})},postMessage(e){this.$refs.layoutIframe.contentWindow.postMessage(e,"*")},onMessage(e){"selection"===e.data.event&&(this.selectedBlockIds=e.data.blockIds,this.packageCoverIndex=e.data.packageCoverIndex)}},apollo:{siteConfig:{query:a.HeadlessConfig,variables(){return{id:this.communityId}},skip(){return!this.communityId},update:e=>e.community}}};t.default=p,e.exports=t.default},Lly2:function(e,t,r){"use strict";e.exports=function(e){return e.draft.hasOwnProperty("redirect_url")}},LnBV:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=c(r("f+5Y")),a=c(r("qQBL")),o=c(r("hKl9")),i=r("LvDl"),s=r("L2JU"),u=r("Pyf3");function c(e){return e&&e.__esModule?e:{default:e}}function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){p(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var f={components:{AutosaveRadio:n.default,FormSubsection:a.default,Tooltip:o.default},data:()=>({packageCoverLeadStoryLayoutOptions:u.packageCoverLeadStoryLayoutOptions,packageTOCOrientationOptions:u.packageTOCOrientationOptions}),computed:d(d(d({},(0,s.mapState)(["currentCommunity","entitlements"])),(0,s.mapGetters)(["docLabel","currentDoc","contents"])),{},{entryLayoutOptions(){let e=[];return this.isPackage||this.isPage||(e.push(u.standardLayoutOption),this.currentCommunity.featuresEnabled&&(e=e.concat(u.featureLayoutOptions),this.entitlements.includes("use_feature_head_impact_layouts")&&(e=e.concat(u.impactLayoutOptions)),this.entitlements.includes("use_feature_video_layout")&&e.push(u.videoFeatureLayoutOption))),e},isPackage(){return"package"===this.docLabel},isPage(){return"page"===this.docLabel},uuid(){return this.currentDoc.uuid},entryLayout(){return this.contents.draft.entry_layout},mainGallery(){return this.contents.draft.main_gallery},packageCoverLeadStory(){return(0,i.get)(this.contents,["draft","package_cover",0,"story"])},packageTOCLayout(){return this.contents.draft.package_toc_layout},canEditPackageTOC(){const e=this.contents.draft.package_toc;return!this.contents.draft.package_toc_hidden&&e&&e.length<7}})};t.default=f,e.exports=t.default},"MJ/R":function(e,t,r){"use strict";r.r(t),r.d(t,"render",(function(){return n})),r.d(t,"staticRenderFns",(function(){return a}));var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("form",{staticClass:"m-overlay__form",on:{submit:function(t){return t.preventDefault(),e.submitFeedback()}}},[r("res-input",{attrs:{block:""}},[r("label",[e._v("Send feedback or report an issue.")]),e._v(" "),r("textarea",{directives:[{name:"model",rawName:"v-model",value:e.message,expression:"message"}],attrs:{"aria-label":"Send feedback to the product team",cols:"30",rows:"5"},domProps:{value:e.message},on:{input:function(t){t.target.composing||(e.message=t.target.value)}}})]),e._v(" "),r("div",{staticClass:"p-button-row--left"},[e._m(0),e._v(" "),r("res-button",{staticClass:"m-t-1",attrs:{disabled:!e.message,design:"primary"}},[r("button",{attrs:{type:"submit"}},[e._v("Submit")])])],1),e._v(" "),e.submitted?r("res-icon",{attrs:{size:"small",name:"more"}}):e._e()],1)},a=[function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("By submitting this form, you agree to our "),t("a",{attrs:{href:"https://www.voxmedia.com/pages/community-guidelines-support-requests"}},[this._v("community guidelines")]),this._v(".")])}]},MN9u:function(e,t,r){"use strict";t.story="story",t.gallery="gallery",t.aside="sidebar",t.table="table",t.poll="poll",t.scorecard="scorecard",t.imageslider="image slider",t.productcard="product card"},NlGS:function(e,t,r){"use strict";r.r(t),r.d(t,"render",(function(){return n})),r.d(t,"staticRenderFns",(function(){return a}));var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("transition",{attrs:{name:"vue-transition--slide"},on:{"after-enter":function(t){e.isCollapsed=!1},"after-leave":function(t){e.isCollapsed=!0}}},[r("div",{directives:[{name:"show",rawName:"v-show",value:!e.isCollapsed,expression:"!isCollapsed"}],staticClass:"m-search-panel"},[r("section",{staticClass:"m-search-panel__content"},[e.isMobile?r("res-button",{key:e.mobileKey,staticClass:"m-search-panel__close",attrs:{paddingless:""},on:{click:function(t){return t.preventDefault(),e.closeSearchPanel()}}},[r("res-icon",{attrs:{name:"x"}}),r("button",[e._v("Close")])],1):e._e(),e._v(" "),r("div",{staticClass:"m-search-panel__heading"},[r("h2",[e._v(e._s(e.heading))]),e._v(" "),e.searchView?r("res-button",{staticClass:"m-search-panel__clear",attrs:{disabled:e.$refs.searchForm&&e.$refs.searchForm.emptyForm,paddingless:""},on:{click:e.clearSearch}},[r("res-icon",{attrs:{size:"smaller",name:"refresh"}}),e._v(" "),r("button",[e._v("Clear")])],1):e._e(),e._v(" "),e.showSavedSearches?r("res-toggle-buttons",{key:e.toggleKey},[r("res-button",{attrs:{active:e.searchView,value:"1"},on:{click:function(){return e.setSearchView(!0)}}},[r("res-icon",{attrs:{name:"search"}}),r("button")],1),e._v(" "),r("res-button",{attrs:{active:!e.searchView,value:"2"},on:{click:function(){return e.setSearchView(!1)}}},[r("res-icon",{attrs:{name:"list"}}),r("button")],1)],1):e._e()],1),e._v(" "),r("search-form",{directives:[{name:"show",rawName:"v-show",value:e.searchView,expression:"searchView"}],ref:"searchForm",attrs:{isCollapsed:e.isCollapsed,isSearching:e.isSearching,updateQuery:e.updateQuery,closeSearchPanel:e.closeSearchPanel,defaultQuery:e.defaultQuery,formattedQuery:e.formattedQuery,openCreateModal:e.openCreateModal,setSavedSearchName:e.setSavedSearchName,currentSavedSearch:e.currentSavedSearch,showSaveButton:e.showSavedSearches}}),e._v(" "),r("saved-search-list",{directives:[{name:"show",rawName:"v-show",value:!e.searchView&&e.showSavedSearches,expression:"!searchView && showSavedSearches"}],attrs:{searches:e.savedSearches,goToSearchView:e.goToSearchView,renameSavedSearch:e.renameSavedSearch,openDeleteModal:e.openDeleteModal,runSavedSearch:e.runSavedSearch,currentSavedSearch:e.currentSavedSearch}})],1)])])},a=[]},NyHj:function(e,t,r){"use strict";t.DRAFT="draft",t.SUBMITTED="submitted",t.APPROVED="approved",t.PUBLISHED="published",t.SCHEDULED="scheduled",t.UPDATED="unpublished changes"},"O/14":function(e,t,r){"use strict";r.r(t),r.d(t,"render",(function(){return n})),r.d(t,"staticRenderFns",(function(){return a}));var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"m-layout-mode__tools"},[r("form-subsection",{attrs:{label:"Layout"}},[e.entryLayoutOptions.length?r("div",{staticClass:"m-field m-layout-mode__group"},[r("label",{class:[{"m-layout-mode__has-gallery":Boolean(e.mainGallery)}]},[e._v("\n        Template\n        "),e.mainGallery?r("tooltip",{attrs:{id:e.uuid,placement:"top"}},[e._v("\n          When the lead art is a gallery, only the standard template may be used.\n        ")]):e._e()],1),e._v(" "),r("autosave-radio",{attrs:{value:e.entryLayout||"unison_standard",options:e.entryLayoutOptions,path:["draft","entry_layout"]}})],1):e._e(),e._v(" "),e.isPackage&&e.packageCoverLeadStory?r("div",{staticClass:"m-field"},[r("label",{staticClass:"is-fixed"},[e._v("Lead story")]),e._v(" "),r("autosave-radio",{attrs:{value:e.packageCoverLeadStory.layout,options:e.packageCoverLeadStoryLayoutOptions,path:["draft","package_cover",0,"story","layout"]}})],1):e._e(),e._v(" "),e.isPackage&&e.canEditPackageTOC?r("div",{staticClass:"m-field"},[r("label",{staticClass:"is-fixed"},[e._v("Table of contents")]),e._v(" "),r("autosave-radio",{attrs:{value:e.packageTOCLayout,options:e.packageTOCOrientationOptions,path:["draft","package_toc_layout"]}})],1):e._e()])],1)},a=[]},O7Kv:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r("L2JU");function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var s={props:{wrapperClass:{type:String,default:""}},data:()=>({connected:!1,statusMap:{Disconnected:"x",Error:"x",Working:"more",Saved:"check"}}),computed:o(o(o({},(0,n.mapState)({autosaveError:e=>e.autosave.error})),(0,n.mapGetters)(["currentDoc","anthemSocketConnectedStatus","isPipelineDirty"])),{},{status(){return this.autosaveError?"Error":this.connected?this.isPipelineDirty?"Working":"Saved":"Disconnected"},statusIcon(){return this.statusMap[this.status]}}),watch:{anthemSocketConnectedStatus(){this.connected=this.anthemSocketConnectedStatus}},mounted(){this.connected=this.anthemSocketConnectedStatus}};t.default=s,e.exports=t.default},"OM+z":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,a=(n=r("ZOem"))&&n.__esModule?n:{default:n};var o={currentDoc:e=>e.docsById[e.currentDocId],docLabel(e,t){const{currentDoc:r}=t;return(0,a.default)(r)},contents(e,t){const{currentDoc:r}=t;return r.head.contents},draftBody(e,t){const{currentDoc:r}=t;return r.head.contents.draft.body},docIds:e=>Object.keys(e.docsById).map(e=>parseInt(e)),isPipelineDirty:e=>Object.keys(e.dirty).length>0,isCurrentDocDirty:e=>e.dirty.hasOwnProperty(e.currentDocId)};t.default=o,e.exports=t.default},P98D:function(e,t,r){"use strict";r.r(t),r.d(t,"render",(function(){return n})),r.d(t,"staticRenderFns",(function(){return a}));var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"m-nav m-nav__root"},[r("banner-message"),e._v(" "),r("nav",{staticClass:"m-nav m-nav--dashboard m-nav--dashboard__vue"},[r("div",{staticClass:"m-nav__inner m-nav--dashboard__inner"},[r("community-select",{staticClass:"m-community-select",attrs:{community:e.currentCommunity,user:e.currentUser,activeMemberships:e.activeMemberships,allowedRoles:e.policyRoles.app.access},model:{value:e.communityId,callback:function(t){e.communityId=t},expression:"communityId"}}),e._v(" "),r("div",{staticClass:"m-nav__right"},[r("div",{staticClass:"m-nav--dashboard__subnav"},[e.canManagePages?r("span",{staticClass:"m-nav--dashboard__links"},[r("res-button",{attrs:{id:"editorial-dropdown"}},[r("button",[e._v("Admin")]),r("res-icon",{attrs:{name:"down"}})],1),e._v(" "),r("res-dropdown",{key:e.$route.name,attrs:{for:"editorial-dropdown"}},[r("a",{attrs:{href:"https://"+e.communityDomain+"/admin/entry_groups/list?community_id="+e.communityId+"&type=SiteGroup"}},[e._v("Groups")]),e._v(" "),r("a",{attrs:{href:"https://"+e.communityDomain+"/admin/hub_layout/show?community_id="+e.communityId}},[e._v("Home & Hubpages")]),e._v(" "),r("a",{attrs:{href:"https://"+e.communityDomain+"/admin/link_sets?community_id="+e.communityId}},[e._v("Link sets")]),e._v(" "),r("a",{attrs:{href:"https://"+e.communityDomain+"/admin/apple_news_articles/list?community_id="+e.communityId}},[e._v("Apple News")]),e._v(" "),r("router-link",{attrs:{to:{path:"/pages"}}},[e._v("Pages")]),e._v(" "),r("a",{attrs:{href:"http://"+e.communityDomain+"/admin/dashboard/hub_editorial?community_id="+e.communityId}},[e._v("Legacy Chorus")]),e._v(" "),r("a",{attrs:{href:"https://www.chorus.help/hc/en-us"}},[e._v("Help center")])],1)],1):e._e(),e._v(" "),e.canManageAssets?r("span",{staticClass:"m-nav--dashboard__links"},[r("res-button",[r("a",{attrs:{href:"/assets?community_id="+e.communityId,rel:"external"}},[e._v("Assets")])])],1):e._e(),e._v(" "),r("new-story-button",{attrs:{isMobile:e.isMobile,communityId:e.communityId}}),e._v(" "),r("help-toggle")],1)])],1)])],1)},a=[]},PLDh:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={};t.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=s(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e,r&&r.set(e,n);return n}(r("0CC9"));Object.keys(a).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(n,e)||e in t&&t[e]===a[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}}))}));var o,i=r("NlGS");function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(s=function(e){return e?r:t})(e)}var u=(0,((o=r("JFUb"))&&o.__esModule?o:{default:o}).default)(a.default,i.render,i.staticRenderFns,!1,null,null,null).exports;t.default=u,e.exports=t.default},PdIs:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,a=r("L2JU");function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var s={components:{CommunityCell:((n=r("+w+W"))&&n.__esModule?n:{default:n}).default},props:{allowedRoles:{type:Object,required:!0},activeMemberships:{type:Array,default:()=>[]},defaultLogoUrl:{type:String,required:!0},networks:{type:Array,default:null},menuOpen:{type:Boolean,required:!0}},data:()=>({selectionId:null,expandedNetworks:{},fullHeight:null}),computed:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},(0,a.mapState)(["currentUser"])),mounted(){this.setHeight(),window.addEventListener("click",this.closeMenu,!0),window.addEventListener("resize",this.setHeight)},beforeDestroy(){window.removeEventListener("click",this.closeMenu,!0),window.removeEventListener("resize",this.setHeight)},methods:{closeMenu(e){if(!e)return;const t=document.querySelector(".m-community-select__list"),r=document.querySelector(".m-community-select__menu-trigger");!this.menuOpen||t.contains(e.target)||r.contains(e.target)||this.$emit("closeMenu")},setHeight(){this.fullHeight=`height: ${window.innerHeight}px`},expandNetwork(e){this.expandedNetworks[e]=!this.expandedNetworks[e],this.expandedNetworks=Object.assign({},this.expandedNetworks)},isAuthorized(e){return this.currentUser.networkRoles.some(e=>e in this.allowedRoles)||this.activeMemberships.some(t=>t.community.id===e)},async selectCommunity(e){e&&(e&&e===this.selectionId||0===this.activeMemberships.length&&0===this.currentUser.networkRoles.length||(this.isAuthorized(e)||(e=this.activeMemberships[0].community.id),this.selectionId=e,localStorage.setItem("dashboardCommunityId",e),this.$router.push({query:{community_id:e}}),this.$emit("closeMenu")))}}};t.default=s,e.exports=t.default},PdXh:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){let e,t,r,i=!1;return function(s){function u(){s.state.anthemSocket.on("flash-message",e=>{e.type||(e.type="neutral"),"cautionary"===e.type&&(e.type="neutral"),"primary"===e.type&&(e.type="positive"),s.commit("messageBanner/PUT_NOTICE",{type:e.type,message:e.message,persistent:e.forceRefresh,icon:e.icon}),e.forceRefresh&&s.state.anthemSocket.disconnect()}),s.state.anthemSocket.on("connect",()=>{h(),t=l(),s.state.autosave.currentDocId&&(r=s.state.autosave.currentDocId,e=s.state.currentUser,function(e,t){s.state.anthemSocket.emit("presence.join",e,!0,t,c),s.state.anthemSocket.on(`presence.${e}.greet`,c),s.state.anthemSocket.on(`presence.${e}.left`,e=>{s.commit(n.ANTHEM_SOCKET_REMOVE_USER,{oldUser:e})}),s.state.anthemSocket.on(`presence.${e}.joined`,t=>{c(t),s.state.anthemSocket.emit(`presence.${e}.greet`,t.socketId)})}(r,e))}),s.state.anthemSocket.on("reconnect",()=>{d(),h(),m("reconnected"),s.state.autosave.currentDocId&&(r=s.state.autosave.currentDocId,e=s.state.currentUser,s.state.anthemSocket.emit("presence.join",r,!0,e,c))}),s.state.anthemSocket.on("connect_error",e=>{y(e)}),s.state.anthemSocket.on("disconnect",e=>{s.state.autosave.currentDocId&&(r=s.state.autosave.currentDocId,s.state.anthemSocket.emit("presence.leave",r)),y(e)}),s.state.anthemSocket.on("reconnect_attempt",()=>{f("reconnecting","reconnecting-banner")}),s.state.anthemSocket.on("reconnect_failed",()=>{y("reconnect_failed")}),s.state.anthemSocket.on("autosave.local-update",d),s.state.anthemSocket.on("autosave.remote-update",d)}function c(e){s.state.autosave.connectedUsers.find(t=>t.id===e.id)||s.commit(n.ANTHEM_SOCKET_ADD_USER,{newUser:e})}function l(){return setTimeout(()=>{s.state.anthemSocket.emit("disconnect","stale-tab")},s.state.sockets.inactivePeriod)}function d(){clearTimeout(t),t=l()}function p(){window.addEventListener("keypress",d,!1),window.addEventListener("click",d,!1),window.addEventListener("beforeunload",()=>{i=!0,window.removeEventListener("keypress",d),window.removeEventListener("click",d)})}function f(e,t){s.state.messageBanner.notifications.find(e=>e.id===t)||m(e)}function m(e){switch(e){case"reload-stale-tab":s.commit("messageBanner/PUT_NOTICE",{id:"stale-tab-banner",type:"negative",persistent:!0,message:a.default.RELOAD_STALE_TAB});break;case"reconnecting":s.commit("messageBanner/PUT_NOTICE",{id:"reconnecting-banner",type:"neutral",persistent:!0,message:a.default.RECONNECTING});break;case"reconnected":s.commit("messageBanner/PUT_NOTICE",{type:"positive",persistent:!1,timeout:!0,message:"Reconnected"});break;case"reconnect-error":s.commit(n.SOCKET_ERROR,!0),s.commit("messageBanner/PUT_NOTICE",{id:"reconnect-error-banner",type:"negative",persistent:!0,message:a.default.RECONNECT_ERROR});break;case"unexpected-error":s.commit(n.SOCKET_ERROR,!0),s.commit("messageBanner/PUT_NOTICE",{id:"error-banner",type:"negative",persistent:!0,message:a.default.UNEXPECTED});break;case"request-reload":s.commit("messageBanner/PUT_NOTICE",{id:"reload-banner",type:"neutral",persistent:!0,message:a.default.RELOAD_REQUIRED})}}function h(){s.commit("messageBanner/DELETE_NOTICE","error-banner"),s.commit("messageBanner/DELETE_NOTICE","reconnecting-banner"),s.commit("messageBanner/DELETE_NOTICE","reconnect-error-banner")}function y(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;switch(e){case"io client disconnect":s.commit(n.SOCKET_ERROR,!0),this.messageBanner.notifications.some(e=>e.persistent)||this.displayOnce("request-reload","reload-banner");break;case"read-only":s.commit(n.SOCKET_ERROR,!0);break;case"stale-tab":f("reload-stale-tab","stale-tab-banner");break;case"reconnect_failed":s.commit(n.SOCKET_ERROR,!0),s.commit("messageBanner/DELETE_NOTICE","reconnecting-banner"),f("reconnect-error","error-banner");break;default:i||f("unexpected-error","error-banner")}}const v=s.subscribe(e=>{e.type===n.SET_CONTEXT&&s.state.currentUser.fullOrUserName&&(!function(){const e=`${s.state.ssl?"wss":"ws"}://${window.location.host}/`,t=(0,o.default)(e,{transports:["websocket"],reconnection:!0,reconnectionAttempts:s.state.sockets.reconnectAttempts});s.commit(n.ANTHEM_SOCKET_INIT,t)}(),u(),p(),v())})}};var n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=s(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e,r&&r.set(e,n);return n}(r("BbE4")),a=i(r("6fkZ")),o=i(r("gFX4"));function i(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(s=function(e){return e?r:t})(e)}e.exports=t.default},PveH:function(e,t,r){"use strict";r.r(t),r.d(t,"render",(function(){return n})),r.d(t,"staticRenderFns",(function(){return a}));var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.blockIds.length>0?r("div",{staticClass:"m-layout-mode__tools"},[r("form-subsection",{attrs:{label:e.formattedLabel}},[e.displayParagraphOptions?r("div",{key:e.blockIds.join("-"),staticClass:"m-layout-mode__group"},[r("label",{staticClass:"is-fixed"},[e._v("Styles")]),e._v(" "),r("res-checkbox",{staticClass:"m-layout-mode__checkbox",attrs:{checked:e.currentDropcap},on:{change:function(t){return e.saveField("dropcap",!e.currentDropcap||null)}}},[r("input",{attrs:{id:"dropcap",disabled:e.readOnly,type:"checkbox",name:"dropcap"}}),e._v(" "),r("label",[e._v("Add drop cap")])]),e._v(" "),r("res-checkbox",{staticClass:"m-layout-mode__checkbox",attrs:{checked:e.currentLeadgraf},on:{change:function(t){return e.saveField("leadgraf",!e.currentLeadgraf||null)}}},[r("input",{attrs:{id:"leadgraf",disabled:e.readOnly,type:"checkbox",name:"leadgraf"}}),e._v(" "),r("label",[e._v("Make text large")])]),e._v(" "),r("res-checkbox",{staticClass:"m-layout-mode__checkbox",attrs:{checked:e.currentEndMark},on:{change:function(t){return e.saveField("endmark",!e.currentEndMark||null)}}},[r("input",{attrs:{id:"endMark",disabled:e.readOnly,type:"checkbox",name:"endMark"}}),e._v(" "),r("label",[e._v("Add end mark")])])],1):e._e(),e._v(" "),e.displayAlignmentOptions?r("div",{staticClass:"m-field m-layout-mode__group"},[r("label",{staticClass:"is-fixed"},[e._v("Alignment")]),e._v(" "),r("span",{staticClass:"m-radio-button-group"},e._l(e.positionOptions,(function(t){return r("label",{key:t.value,attrs:{title:t.label}},[r("input",{attrs:{type:"radio"},domProps:{checked:e.currentPosition===t.value,value:t.value},on:{change:function(r){return e.saveField("position",t.value)}}}),e._v(" "),r("span",{staticClass:"is-secondary -small",attrs:{type:"button"}},[r("res-icon",{attrs:{title:t.label,name:t.icon,size:"medium"}})],1)])})),0)]):e._e(),e._v(" "),e.displayGroupingOptions?r("div",{staticClass:"m-field m-layout-mode__group"},[r("label",{staticClass:"is-fixed"},[e._v("Grouping")]),e._v(" "),r("span",{staticClass:"m-radio-button-group"},e._l(e.groupingOptions,(function(t){return r("label",{key:t.value,attrs:{title:t.label}},[r("input",{attrs:{type:"radio"},domProps:{checked:e.currentGrouping===t.value,value:t.value},on:{change:function(r){return e.saveField("grouping",t.value)}}}),e._v(" "),r("span",{staticClass:"is-secondary -small",attrs:{type:"button"}},[r("res-icon",{attrs:{title:t.label,name:t.icon,size:"medium"}})],1)])})),0)]):e._e(),e._v(" "),e.displayGroupingMessage?r("div",{staticClass:"m-layout-mode__grouping-message"},[r("span",[e._v("This "+e._s(e.objectLabel)+" is part of a group.")]),e._v(" "),r("res-button",{attrs:{design:"default",paddingless:""}},[r("res-icon",{attrs:{name:"grid"}}),e._v(" "),r("button",{attrs:{type:"button"},on:{click:e.selectAllInGroup}},[e._v("Select all "+e._s(e.pluralize(e.objectLabel))+" in group")])],1)],1):e._e(),e._v(" "),e.displayLayoutOptions?r("div",{staticClass:"m-field"},[r("label",{staticClass:"is-fixed"},[e._v("Layout")]),e._v(" "),r("span",{staticClass:"m-radio-button-group"},e._l(e.productCardLayoutOptions,(function(t){return r("label",{key:t.value,attrs:{title:t.label}},[r("input",{attrs:{type:"radio"},domProps:{checked:e.currentLayout===t.value,value:t.value},on:{change:function(r){return e.saveSubdocLayout(t.value)}}}),e._v(" "),r("span",{staticClass:"is-secondary -small",attrs:{type:"button"}},[r("res-icon",{attrs:{title:t.label,name:t.icon,size:"medium"}})],1)])})),0)]):e._e()])],1):e._e()},a=[]},Pyf3:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.videoFeatureLayoutOption=t.standardLayoutOption=t.productCardLayoutOptions=t.packageTOCOrientationOptions=t.packageStoryLayoutOptions=t.packageCoverLeadStoryLayoutOptions=t.nonWideSubdocs=t.nonWideBlocks=t.nonFullBleedSubdocs=t.nonAlignedSubdocs=t.impactLayoutOptions=t.groupPositions=t.groupOptions=t.featureLayoutOptions=t.alignmentOptions=void 0;t.featureLayoutOptions=[{icon:"image-above",label:"Headline below",value:"unison_default"},{icon:"full-width-story",label:"Headline above",value:"unison_above"},{icon:"hed-overlay",label:"Overlay",value:"unison_overlay"},{icon:"short-image",label:"Short",value:"unison_short"},{icon:"split-left",label:"Split left",value:"unison_split_left"},{icon:"split-right",label:"Split right",value:"unison_split_right"}];t.packageCoverLeadStoryLayoutOptions=[{icon:"vertical-story",label:"Vertical",value:"vertical"},{icon:"horizontal-story",label:"Horizontal",value:"horizontal"},{icon:"full-width-story",label:"Full width",value:"fullwidth"}];t.packageTOCOrientationOptions=[{icon:"horizontal-toc",label:"Horizontal",value:"horizontal"},{icon:"vertical-toc",label:"Vertical",value:"vertical"}];t.standardLayoutOption={icon:"standard-layout",label:"Standard",value:"unison_standard"};t.impactLayoutOptions=[{icon:"full-width-impact",label:"Headline above, with impact",value:"unison_above_impact"},{icon:"hed-overlay-impact",label:"Overlay, with impact",value:"unison_overlay_impact"}];t.videoFeatureLayoutOption={icon:"video-story",label:"Video",value:"unison_video"};t.productCardLayoutOptions=[{icon:"layout-product-card-full-width-image",label:"Full with landscape image",value:"full_layout"},{icon:"layout-product-card-portrait",label:"Full with portrait image",value:"full_with_portrait_img"},{icon:"layout-product-card-square",label:"Full with square image",value:"full_with_square_img"},{icon:"layout-product-card-description",label:"Description",value:"description_layout"},{icon:"layout-product-card-brief",label:"Brief",value:"brief_layout"},{icon:"layout-product-card-buttons",label:"Buttons only",value:"buttons_only"}];t.alignmentOptions={center:{icon:"center-align",label:"Default",value:"default"},alignLeft:{icon:"left-align",label:"Left",value:"float-left"},hangLeft:{icon:"left-hang",label:"Hang Left",value:"hang-left"},wide:{icon:"wide-block",label:"Wide Block",value:"wide-block"},full:{icon:"full-bleed",label:"Full Bleed",value:"full-bleed"},hangRight:{icon:"right-hang",label:"Hang Right",value:"hang-right"},alignRight:{icon:"right-align",label:"Right",value:"float-right"}};t.groupOptions={none:{icon:"none",label:"No Group",value:null},twoUp:{icon:"2-up",label:"2-Up",value:"2-up"},threeUpTop:{icon:"3-up-top",label:"3-Up Top",value:"3-up-top"},threeUpBottom:{icon:"3-up-down",label:"3-Up Bottom",value:"3-up-bottom"},fourUp:{icon:"4-up",label:"4-Up",value:"4-up"}};t.groupPositions=[null,"wide-block","full-bleed"];t.packageStoryLayoutOptions=[{icon:"1-col",label:"Vertical",value:"1col"},{icon:"2-col",label:"Horizontal",value:"2col"}];t.nonWideSubdocs=["table","aside","scorecard"];t.nonFullBleedSubdocs=["table","aside","scorecard"];t.nonAlignedSubdocs=["productcard"];t.nonWideBlocks=["pullquote","ratingcard","newsletter"]},Q2tf:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r("L2JU"),a=u(r("f+5Y")),o=u(r("qQBL")),i=r("LvDl"),s=r("Pyf3");function u(e){return e&&e.__esModule?e:{default:e}}function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){d(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var p={components:{AutosaveRadio:a.default,FormSubsection:o.default},props:{coverIndex:{type:Number,required:!0},postMessage:{type:Function,required:!0}},data:()=>({packageStoryLayoutOptions:s.packageStoryLayoutOptions}),computed:l(l({},(0,n.mapGetters)(["currentDoc"])),{},{packageStoryLayoutPath(){return["draft","package_cover",this.coverIndex,"story","layout"]},packageStoryLayout(){return(0,i.get)(this.currentDoc.head.contents,this.packageStoryLayoutPath)}}),methods:{sendFetch(){this.postMessage({event:"refetch"})},sendError(e){this.postMessage({event:"error",message:e})}}};t.default=p,e.exports=t.default},Q6Xn:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={};t.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=s(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e,r&&r.set(e,n);return n}(r("1Yo0"));Object.keys(a).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(n,e)||e in t&&t[e]===a[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}}))}));var o,i=r("pVkb");function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(s=function(e){return e?r:t})(e)}var u=(0,((o=r("JFUb"))&&o.__esModule?o:{default:o}).default)(a.default,i.render,i.staticRenderFns,!1,null,null,null).exports;t.default=u,e.exports=t.default},QE0c:function(e,t,r){"use strict";var n=r("tNa1").Delta;e.exports=function(e,t){return new n(e).slice(t).ops[0]}},QPnB:function(e,t,r){"use strict";r.r(t),r.d(t,"render",(function(){return n})),r.d(t,"staticRenderFns",(function(){return a}));var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("tr",{ref:"row",staticClass:"m-dashboard__table__row",class:[e.isLeaving?"is-leaving":""]},[r("td",{staticClass:"m-dashboard__table__icon"},[e.isPackage?r("res-icon",{attrs:{size:"small",name:"package",title:"Package"}}):e._e(),e._v(" "),e.isMapstack?r("res-icon",{attrs:{size:"small",name:"mapstacks",title:"Mapstack"}}):e._e(),e._v(" "),e.isStream?r("res-icon",{attrs:{size:"small",name:"storystream",title:"Stream"}}):e._e(),e._v(" "),e.isLinkPost?r("res-icon",{attrs:{size:"small",name:"linkpost",title:"Link post"}}):e._e(),e._v(" "),e.isCustomstory?r("res-icon",{attrs:{size:"small",name:"grid",title:"Custom story"}}):e._e()],1),e._v(" "),r("td",{staticClass:"m-dashboard__table__title",attrs:{"data-heading":"Title"}},[r("a",{attrs:{href:e.docUrl,rel:"external"}},[r("span",[e._v(e._s(e.title))])])]),e._v(" "),r("td",{staticClass:"m-dashboard__table__byline",attrs:{"data-heading":"Byline"}},[e._v("\n    "+e._s(e.contributorsForDoc)+"\n  ")]),e._v(" "),e.community.printSlugEnabled?r("td",{staticClass:"m-dashboard__table__print-slug",attrs:{"data-heading":"Print slug"}},[e._v("\n    "+e._s(e.printSlug)+"\n  ")]):e._e(),e._v(" "),e.entitlements&&e.entitlements.includes("use_send_to_print")?r("td",{staticClass:"m-dashboard__table__print",class:[e.lastSentToPrintAt?"is-active":"","is-disabled"],attrs:{"data-heading":"Sent to print"}},[e.lastSentToPrintAt?r("res-icon",{attrs:{title:"Sent to print on "+e.lastSentToPrintAt,name:"check-circle",size:"large"}}):r("res-icon",{attrs:{name:"check-circle",size:"large",title:"Not sent to print"}})],1):e._e(),e._v(" "),r("td",{staticClass:"m-dashboard__table__activity",staticStyle:{"text-align":"left"},attrs:{"data-heading":e.tableActivityHeading}},[r("doc-cell-activity",{attrs:{doc:e.doc,filter:e.filter}})],1),e._v(" "),e.displayActions?r("td",{staticClass:"m-dashboard__table__actions"},[r("doc-cell-actions",{ref:"docActions",attrs:{doc:e.doc,filter:e.filter,onMoveCompleted:e.onMoveCompleted,canArchiveOrTrashStories:e.canArchiveOrTrashStories}})],1):e._e()])},a=[]},SJeu:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={};t.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=s(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e,r&&r.set(e,n);return n}(r("AzjT"));Object.keys(a).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(n,e)||e in t&&t[e]===a[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}}))}));var o,i=r("pOdz");function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(s=function(e){return e?r:t})(e)}var u=(0,((o=r("JFUb"))&&o.__esModule?o:{default:o}).default)(a.default,i.render,i.staticRenderFns,!1,null,null,null).exports;t.default=u,e.exports=t.default},SKMo:function(e,t,r){"use strict";r.r(t),r.d(t,"render",(function(){return n})),r.d(t,"staticRenderFns",(function(){return a}));var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"m-dashboard__modal"},[r("res-input",{staticClass:"m-dashboard__modal__input",on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.preventDefault(),e.handleCreate(t))}}},[r("label",[e._v("Saved search title")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.title,expression:"title",modifiers:{trim:!0}}],attrs:{placeholder:e.placeholder,autofocus:"",type:"text"},domProps:{value:e.title},on:{input:function(t){t.target.composing||(e.title=t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})]),e._v(" "),r("div",{staticClass:"m-dashboard__modal__actions"},[r("res-button",{attrs:{disabled:e.disableButtons,design:"primary"},on:{click:function(t){return t.preventDefault(),e.handleCreate(t)}}},[r("button",[e._v("Save search")])]),e._v(" "),r("res-button",{attrs:{disabled:e.disableButtons},on:{click:function(t){return t.preventDefault(),e.clearModal(t)}}},[r("res-icon",{staticClass:"m-dashboard__modal__icon",attrs:{name:"x"}}),e._v(" "),r("button",[e._v("Cancel")])],1)],1)],1)},a=[]},SNZc:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={};t.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=s(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e,r&&r.set(e,n);return n}(r("PdIs"));Object.keys(a).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(n,e)||e in t&&t[e]===a[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}}))}));var o,i=r("4khC");function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(s=function(e){return e?r:t})(e)}var u=(0,((o=r("JFUb"))&&o.__esModule?o:{default:o}).default)(a.default,i.render,i.staticRenderFns,!1,null,null,null).exports;t.default=u,e.exports=t.default},SORu:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r("L2JU"),a=l(r("oRyF")),o=l(r("NyHj")),i=l(r("veYT")),s=l(r("taCl")),u=l(r("ZCzW")),c=l(r("nwdn"));function l(e){return e&&e.__esModule?e:{default:e}}function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){f(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function f(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var m={components:{CommunityLockup:i.default,HelpToggle:s.default,UserStatus:u.default,StatusIcon:c.default},props:{navLinks:{type:Array,required:!0},isMobile:{type:Boolean,default:!0},pageActive:{type:Function,required:!0}},data:()=>({activeMobileNav:!1}),computed:p(p(p({},(0,n.mapState)({windowSize:e=>e.windowSize,connectedUsers:e=>e.autosave.connectedUsers})),(0,n.mapGetters)(["currentDoc"])),{},{communityId(){return this.currentDoc&&this.currentDoc.community_id},activeMobileNavClass(){return this.activeMobileNav?"is-active":""},activeMobileNavHeightStyle(){if(!this.activeMobileNav)return;return`height: ${this.windowSize.height}px`},formattedDocStatus(){const e=this.currentDoc.status;return"UPDATED"===e?"Changes":(0,a.default)(o.default[e])}}),methods:{toggleMobileNav(){this.activeMobileNav=!this.activeMobileNav}}};t.default=m,e.exports=t.default},SdQN:function(e,t,r){"use strict";const n=document.querySelector('script[type="config"]'),a=JSON.parse(n.textContent);e.exports=a},SiKE:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.changeDocCommunityAndRedirect=async function(e){app.state.set(["requestInProgress"],!0);const t=app.state.get(["doc"]);"SCHEDULED"===t.status&&await f.unschedule(t);const r=f.pubHistoryUpdate(t,"community_changed",{communityId:e}),a=(await m.getCommunity(e,"Basic")).twitterScreenName||null,o=(0,n.get)(t.head.contents,["draft","autotweets",0,"handle"])||null;a===o||(0,s.default)(t.status)||r.push({p:["draft","autotweets",0,"handle"],od:o,oi:a});await k(t.id,{community_id:e,delta:r}),(0,s.default)(t.status)?await f.publishOrSchedule(t,{republishPublished:!0}):await d.updateEntry(t,{community_id:e});document.location.href=`/preflight/${t.uuid}?communityChanged=true`},t.createDoc=g,t.createDocAndRedirect=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return g(e,t).then(e=>{var r="compose";"LandingPage"===t.entry_type?r="package":"CustomStory"===t.entry_type&&(r="customstory"),document.location.href=`/${r}/${e.uuid}`})},t.getAllDocObjects=function(e,t){var r=e.head.contents,n=P(e),a=(0,c.default)(r.draft.body,t);for(let e of n)"aside"!==e.schema_name&&"scorecard"!==e.schema_name||!e.head.contents.hasOwnProperty("body")||(a=a.concat((0,c.default)(e.head.contents.body,t)));const o=r.draft.main_oembed;t.includes("oembed")&&o&&a.push({oembed:o});return a},t.getDoc=function(e){return(0,o.default)("/api/content/docs/"+e,{query:{includes:"owner,updateUser,community,external_ids"},opts:{cache:!0,force:!0}})},t.getEntryParams=function(e){return(0,o.default)(`/api/content/docs/${e}/entry_params`)},t.searchDocs=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const r=e.q||"",a=O(e);let{docs:s,pagination:u,parsedQuery:c}=await(0,o.default)("/api/content/docs",{query:a,opts:t});if("story"===e.schema_name){let e=[];for(let t of s){let r=(0,n.get)(t,["head","contents","draft","contributors"],[]);e=e.concat(r.map(e=>e.chorus_id))}let t=await h.getUsers(e);for(let e of s){let r=(0,n.get)(e,["head","contents","draft","contributors"],[]);e.contributors=(0,n.compact)(r.map(e=>t.find(t=>t&&t.id===e.chorus_id)))}}return{docs:s,formattedQuery:w(c,r),pagination:(0,i.default)(u)}},t.setArchived=function(e){var t=!e.archived;return k(e.id,{archived:t}).then(()=>t)},t.setStatus=async function(e,t,r){try{app.state.set(["requestInProgress"],!0),await k(e.id,{status:t,delta:f.pubHistoryUpdate(e,r||t.toLowerCase())}),app.state.set(["requestInProgress"],!1)}catch(e){p.showError()}},t.setTrashed=function(e){var t=(0,n.get)(e,["head","contents","trashed_at"]),r=t?null:(0,a.default)().toISOString(),o=Promise.resolve();r&&"SCHEDULED"===e.status&&(o=f.unschedule(e));return o.then(()=>k(e.id,{delta:[{p:["trashed_at"],od:t,oi:r}]})).then(()=>d.updateEntryFlags(e,{trashed_at:r})).then(()=>r).catch(()=>p.showError())},t.subdocsForDoc=P,t.updateDoc=k,t.validateDoc=function(e){return(0,o.default)(`/api/content/docs/${e}/validate`,{query:{returnErrors:!0,returnWarnings:!0,returnValid:!0}})};var n=r("LvDl"),a=_(r("f0Wu")),o=_(r("kh36")),i=_(r("JOwg")),s=_(r("V8PI")),u=_(r("vKTg")),c=_(r("VKDZ")),l=_(r("7a9H")),d=b(r("4mBr")),p=b(r("lvH+")),f=b(r("JQTl")),m=b(r("u6+C")),h=b(r("5qpz")),y=r("mKD4");function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(v=function(e){return e?r:t})(e)}function b(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=v(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}function _(e){return e&&e.__esModule?e:{default:e}}function g(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return app.state.set(["requestInProgress"],!0),(0,o.default)("/new"+e,{method:"POST",query:{community_id:app.state.get("community","id")},body:t}).then(e=>(app.state.set(["requestInProgress"],!1),e))}function O(e){const t=(0,n.cloneDeep)(e);const r=(t.q||"").split(" ").reduce((e,t)=>((0,y.isValidUrlWithSlash)(t)?e.url=(0,u.default)(t):t&&e.q.push(t),e),{url:void 0,q:[]});return r.q.length>0?t.q=r.q.join(" "):delete t.q,r.url&&(t.url=r.url),t}function w(e,t){if(!e||!t)return[];let{keywordQueries:r,phrases:n,tokens:a}=e;return r.reduce((e,t)=>{let{keyword:r,type:n,value:a}=t;return"type"===r&&"page"===a&&window.location.pathname.includes("pages")||("phrase"===n?a=`"${a}"`:"date"===n&&(a=a.original),e.push(`${r}:${a}`)),e},[]).map(e=>({type:"keyword",value:e})).concat((n||[]).map(e=>({type:"phrase",value:`"${e}"`}))).concat([{type:"tokens",value:a}]).filter(e=>{let{value:t}=e;return""!==t})}function k(e,t){return(0,o.default)("/api/content/docs/"+e,{method:"PUT",body:t},{handleError:!1})}function P(e){var t=(0,l.default)(e.head.contents);return app.state.get(["subdocs"]).filter(e=>t.includes(e.id))}},Tmdh:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.unscheduleDoc=async function(e,t){const r=e.head.contents;if((0,a.default)(r)){const e=r.draft.package_toc,a=(0,n.default)(e).map(e=>e.uuid).join(","),{docs:u}=await(0,s.searchDocs)({uuids:a}),c=u.filter(e=>!(0,o.default)(e.status)).map(e=>(0,i.scheduleDoc)(e,null,{userId:t}));await Promise.all(c)}return await(0,i.scheduleDoc)(e,null,{userId:t})};var n=u(r("1wDL")),a=u(r("AUH+")),o=u(r("V8PI")),i=r("JQTl"),s=r("SiKE");function u(e){return e&&e.__esModule?e:{default:e}}},U9Hs:function(e,t,r){"use strict";e.exports=function(e,t){if(e.length<2)return[e];var r=[],n=[e[0]];for(let a of e.slice(1))t(n,a)?n.push(a):(r.push(n),n=[a]);return r.push(n),r}},UA2e:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return function(e){function t(e){return"rescue:"+e}function r(e){return"message:"+e}async function f(n){let{doc:a,path:o}=n;try{await function(n){if(setTimeout(()=>function(t){var n=r(t);if(window.localStorage.hasOwnProperty(n)){var a=JSON.parse(window.localStorage.getItem(n));window.localStorage.removeItem(n),e.commit("messageBanner/PUT_NOTICE",{message:a})}}(n),c.rescueTimeout),!window.localStorage.hasOwnProperty(t(n)))return Promise.resolve();setTimeout(()=>b(n,!1),c.rescueTimeout/2)}(a.id),await function(t){const r=e.getters.currentDoc,n=e.getters.contents,a=(0,l.default)(r,e.state.currentUser);let o=[];for(let[e,t]of Object.entries(a))null==n[e]&&null!=t&&o.push({p:[e],oi:t});if(a.draft)if(n.draft)for(let[e,t]of Object.entries(a.draft))null==n.draft[e]&&null!=t&&o.push({p:["draft",e],oi:t});else o.push({p:["draft"],oi:a.draft});return o=o.concat((0,d.default)(n)),o.length>0?e.dispatch("resolveOnLocalUpdate",{docId:t,delta:o,userId:-1}):Promise.resolve()}(a.id),"doc"===o&&e.commit(p.SET_AUTOSAVE_READY,!0)}catch(t){e.dispatch("markError",{error:t})}}var h=(0,n.throttle)((function(){for(let t of e.getters.docIds)e.state.autosave.inFlight.hasOwnProperty(t)||!e.state.autosave.inLine.hasOwnProperty(t)||e.state.autosave.error||(e.commit(p.SET_INFLIGHT,t),e.commit(p.UNSET_INLINE,t),v(t),y(t))}),c.autosaveThrottle,{leading:!1,trailing:!0});function y(r){if(e.state.autosave.error)return;if(e.state.autosave.inLine.hasOwnProperty(r))try{const t=o.default.compose(e.state.autosave.inFlight[r].delta,e.state.autosave.inLine[r].delta);e.commit(p.UPDATE_INFLIGHT_DELTA,{docId:r,delta:t}),e.commit(p.UNSET_INLINE,r),v(r)}catch(t){return void e.dispatch("markError",{error:t})}const n=e.state.autosave.docsById[r],u=n.head.end_sequence,c=n.head.contents,l=e.state.autosave.inFlight[r].delta,d=i.default.v4(),f=u+1;return e.commit(p.SET_SENT_ID,d),(0,a.default)("/api/content/docs/"+n.id+"/contents",{method:"PATCH",body:{user_id:e.state.autosave.inFlight[r].userId,delta:l,sequence:f,uuid:d,content_hash:(0,s.default)(c),schema_version:n.schema_version},opts:{handleError:!1,retry:{delay:0,maxDelay:2e4}}}).then(()=>{window.localStorage.removeItem(t(r)),e.commit(p.UNSET_INFLIGHT,r),e.commit(p.UPDATE_SEQUENCE,{docId:r,sequence:f}),e.state.autosave.inLine.hasOwnProperty(r)?e.commit(p.SET_DIRTY,r):e.commit(p.SET_CLEAN,r),h()}).catch(t=>409===(t.response&&t.response.status)?function(t,r){return r.response.clone().json().then((function(n){if(/too low/.test(n.message)&&n.packets){for(let r of n.packets)e.dispatch("remoteUpdate",{docId:t,packet:r});return y(t)}return Promise.reject(r)}))}(r,t):Promise.reject(t)).catch(t=>{e.dispatch("markError",{error:t,sendToSentry:!1}),b(r,!1)})}function v(r){var n=[],a=e.state.autosave.docsById[r].head.contents;try{e.state.autosave.inFlight.hasOwnProperty(r)&&(n=o.default.compose(n,e.state.autosave.inFlight[r].delta)),e.state.autosave.inLine.hasOwnProperty(r)&&(n=o.default.compose(n,e.state.autosave.inLine[r].delta))}catch(t){return void e.dispatch("markError",{error:t})}var i=e.state.autosave.docsById[r];const s={doc_id:i.id,user_id:e.state.currentUser.id,schema_version:i.schema_version,schema_name:i.schema_name,end_sequence:null,contents:a,delta:n};window.localStorage.setItem(t(r),JSON.stringify(s))}function b(n,o){const i=window.localStorage.getItem(t(n));if(i)return(0,a.default)("/api/content/versions",{method:"POST",body:JSON.parse(i),opts:{handleError:!1}}).then(a=>{if(!(window.location.pathname.indexOf("package")>-1)&&m.indexOf(a.schema_name)>-1){var i=e.state.autosave.docsById[n].uuid,s=u.default.RESCUE_SAVED_REASSURE.replace("{url}",`/compose/${i}/version/${a.id}`);o?e.commit("messageBanner/PUT_NOTICE",{message:s}):function(e,t){window.localStorage.setItem(r(e),JSON.stringify(t))}(n,s)}window.localStorage.removeItem(t(n))}).catch(t=>{e.dispatch("markError",{error:t,sendToSentry:!1})})}e.subscribe((e,t)=>{switch(e.type){case p.SET_DIRTY:h();break;case p.SET_DOC:f(e.payload)}})}};var n=r("LvDl"),a=f(r("kh36")),o=f(r("zmXh")),i=f(r("fEA7")),s=f(r("Fw7v")),u=f(r("6fkZ")),c=r("D5jB"),l=f(r("oNRi")),d=f(r("DiAx")),p=r("BbE4");function f(e){return e&&e.__esModule?e:{default:e}}const m=["story"];e.exports=t.default},UGSD:function(e,t,r){"use strict";r.r(t),r.d(t,"render",(function(){return n})),r.d(t,"staticRenderFns",(function(){return a}));var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("dashboard-nav"),e._v(" "),r("div",{staticClass:"m-dashboard m-dashboard--has-search-panel"},[r("div",{staticClass:"l-content p-flex is-compose",style:e.contentStyles},[r("div",{staticClass:"l-content__inner m-dashboard__inner"},[r("search-panel",{key:e.mobileKey,ref:"searchPanel",class:e.searchPanelClass,attrs:{isCollapsed:e.searchPanelCollapsed,updateQuery:e.updateQuery,formattedQuery:e.formattedQuery,isSearching:e.isSearching,defaultQuery:e.baseQuery,setSavedSearchName:e.setSavedSearchName},on:{collapse:function(t){return e.toggleSearchPanel()}}}),e._v(" "),e.isMobile?e._e():r("div",{class:"m-dashboard__search-panel "+e.searchPanelClass,on:{click:function(t){return e.toggleSearchPanel(!e.searchPanelCollapsed)}}},[r("div",{staticClass:"m-dashboard__search-panel-actions"},[r("span",{staticClass:"m-dashboard__search-panel-icons"},[r("res-icon",{attrs:{name:"search",size:"small"}}),e._v(" "),e.searchPanelCollapsed?r("res-icon",{attrs:{name:"right",size:"small"}}):r("res-icon",{attrs:{name:"left",size:"small"}})],1)])]),e._v(" "),r("main",{staticClass:"m-dashboard__content m-dashboard__content--has-search-panel"},[e.isMobile?r("res-button",{key:e.mobileKey,staticClass:"m-dashboard__mobile-search-toggle",attrs:{design:"secondary"},on:{click:function(t){return e.toggleSearchPanel()}}},[r("res-icon",{attrs:{name:"search"}}),e._v(" "),r("button",[e._v("Open search")])],1):e._e(),e._v(" "),r("header",{staticClass:"m-dashboard__header"},[e.filter||e.isPagesViewMode?r("div",{staticClass:"m-dashboard__sub-head"},[r("div",{staticClass:"m-dashboard__sub-head__title"},[r("h1",[e._v(e._s(e.title))]),e._v(" "),r("res-button",{staticClass:"m-l-1",attrs:{design:"default",paddingless:""},on:{click:e.back}},[r("res-icon",{attrs:{name:"back"}}),e._v(" "),r("button",[e._v("\n                    "+e._s(e.titleButtonText)+"\n                  ")])],1)],1),e._v(" "),"trash"===e.filter?r("p",[e._v("\n                Items in the trash are automatically deleted after 30 days.\n              ")]):e._e()]):e._e(),e._v(" "),e.savedSearchName?r("res-badge",{staticClass:"m-dashboard__sub-head__saved-search",attrs:{size:"smaller"}},[e._v("\n              Saved search: "+e._s(e.savedSearchName)+"\n            ")]):e._e(),e._v(" "),e.displayResultsInfo?r("div",{staticClass:"m-dashboard__sub-head m-dashboard__sub-head__summary"},[r("span",{staticClass:"m-dashboard__sub-head--bold"},[e._v("\n                "+e._s(e.resultsCount)+"\n              ")]),e._v("\n              "+e._s(e.resultsFor)+"\n              "),r("span",{staticClass:"m-dashboard__sub-head--bold"},[e._v("\n                "+e._s(e.searchPhrase)+"\n              ")]),e._v(" "),r("div",{staticClass:"m-chip__container"},e._l(e.chipGroups,(function(t,n){return r("div",{key:n},[r("span",{staticClass:"m-chip__label"},[e._v(e._s(n)+":")]),e._v(" "),e._l(t,(function(t,a){return r("chip",{key:a+"-"+t,attrs:{chipId:n+":"+t,chipLabel:t},on:{removeSelection:e.removeChipFromQuery}})}))],2)})),0)]):e._e(),e._v(" "),r("div",{staticClass:"m-dashboard__header__table-filters"},[e.canListAllStories?r("res-switch",{staticClass:"m-dashboard__header__my-stories",attrs:{checked:e.myDocs},on:{change:e.onMyDocsChange}},[r("input",{attrs:{type:"checkbox",name:"myDocs"}}),e._v(" "),r("label",[e._v("Show my "+e._s(e.storyLabel))])]):e._e(),e._v(" "),r("res-select",{attrs:{size:"small"}},[r("label",[e._v("Sort by:")]),e._v(" "),r("select",{attrs:{name:"order"},domProps:{value:e.sortBy},on:{change:e.onOrderChange}},[e.canSortByScore?r("option",{attrs:{value:"score",role:"option","aria-selected":"true"}},[e._v("\n                    Relevance\n                  ")]):e._e(),e._v(" "),r("option",{attrs:{value:"date",role:"option","aria-selected":"true"}},[e._v("\n                    Last modified\n                  ")]),e._v(" "),r("option",{attrs:{value:"last_published",role:"option"}},[e._v("\n                    Last published\n                  ")]),e._v(" "),r("option",{attrs:{value:"first_published",role:"option"}},[e._v("\n                    Original publish date\n                  ")]),e._v(" "),r("option",{attrs:{value:"updated",role:"option"}},[e._v("Latest activity")]),e._v(" "),r("option",{attrs:{value:"title",role:"option"}},[e._v("Title")])])])],1)],1),e._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:e.canArchiveOrTrashStories&&e.selectedIndices.length>0,expression:"canArchiveOrTrashStories && selectedIndices.length > 0"}],staticClass:"m-dashboard__table-actions"},[r("res-button",{ref:"actionsBtn",attrs:{id:"dashboard-actions-btn",design:"secondary"}},[r("button",[e._v("Actions")])]),e._v(" "),r("res-dropdown",{attrs:{for:"dashboard-actions-btn"}},[e.filter?e._e():r("button",{on:{click:function(t){return e.setDocAction("updateArchived","archive")}}},[r("res-icon",{attrs:{size:"small",name:"versions",title:"Archive"}}),e._v("\n                Archive\n              ")],1),e._v(" "),e.filter?e._e():r("button",{on:{click:function(t){return e.setDocAction("updateTrashedAt","trash")}}},[r("res-icon",{attrs:{size:"small",name:"trash",title:"Move to trash"}}),e._v("\n                Move to trash\n              ")],1),e._v(" "),"archive"===e.filter?r("button",{on:{click:function(t){return e.setDocAction("updateArchived","dashboard")}}},[r("res-icon",{attrs:{size:"small",name:"refresh",title:"Restore"}}),e._v("\n                Restore\n              ")],1):e._e(),e._v(" "),"archive"===e.filter?r("button",{on:{click:function(t){return e.setDocAction("updateArchivedAndTrashed","trash")}}},[r("res-icon",{attrs:{size:"small",name:"trash",title:"Move to trash"}}),e._v("\n                Move to trash\n              ")],1):e._e(),e._v(" "),"trash"===e.filter?r("button",{on:{click:function(t){return e.setDocAction("updateTrashedAt","dashboard")}}},[r("res-icon",{attrs:{size:"small",name:"refresh",title:"Restore"}}),e._v("\n                Restore\n              ")],1):e._e(),e._v(" "),"trash"===e.filter?r("button",{on:{click:function(t){return e.setDocAction("updateArchivedAndTrashed","archive")}}},[r("res-icon",{attrs:{size:"small",name:"versions",title:"Move to archive"}}),e._v("\n                Move to archive\n              ")],1):e._e()])],1),e._v(" "),r("res-table",{ref:"table",staticClass:"m-dashboard__table",attrs:{mobile:e.isMobile,zebra:"",selectable:""}},[r("table",[r("thead",[r("tr",[r("th",{staticClass:"m-dashboard__table__icon"}),e._v(" "),r("th",[e._v("Title")]),e._v(" "),r("th",[e._v("Byline")]),e._v(" "),e.currentCommunity.printSlugEnabled?r("th",[e._v("Print slug")]):e._e(),e._v(" "),e.entitlements&&e.entitlements.includes("use_send_to_print")?r("th",{attrs:{align:"center"}},[e._v("\n                    Print\n                  ")]):e._e(),e._v(" "),r("th",[e._v(e._s(e.lastActivityLabel))]),e._v(" "),e.displayActions?r("th",{attrs:{align:"center"}}):e._e()])]),e._v(" "),r("tbody",e._l(e.docs,(function(t,n){return r("doc-cell",{key:t.uuid,ref:n+"DocCell",refInFor:!0,attrs:{doc:t,filter:e.filter,canArchiveOrTrashStories:e.canArchiveOrTrashStories,displayActions:e.displayActions,updateTernaryCheckbox:e.updateTernaryCheckbox}})})),1)])]),e._v(" "),r("footer",{staticClass:"m-dashboard__footer"},[e.filter?e._e():r("div",{staticClass:"m-dashboard__footer__view-mode-buttons"},[e.canArchiveOrTrashStories?r("res-button",{attrs:{design:"secondary"},on:{click:function(t){return e.setFilter("archive")}}},[r("button",{attrs:{type:"button"}},[e._v("Show archived "+e._s(e.storyLabel))])]):e._e(),e._v(" "),e.canArchiveOrTrashStories?r("res-button",{attrs:{design:"secondary"},on:{click:function(t){return e.setFilter("trash")}}},[r("button",{attrs:{type:"button"}},[e._v("Show trash")])]):e._e()],1),e._v(" "),e.pagination?r("div",{staticClass:"m-dashboard__footer__pagination"},[r("res-pagination",{attrs:{count:e.pagination.total,disabled:e.isSearching,display:e.pagination.perPage,page:e.pagination.page,pagination:e.isMobile?"nav-only-toggle":"text-only",indicator:"page",navigation:"text"},on:{change:e.paginate}})],1):e._e()])],1)],1)]),e._v(" "),e.searchPanelCollapsed?e._e():r("scroll-lock")],1)],1)},a=[]},V8PI:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return["PUBLISHED","UPDATED"].includes(e)},e.exports=t.default},VKDZ:function(e,t,r){"use strict";e.exports=function(e,t){return e.ops.reduce((e,r)=>{var n=t.find(e=>r.insert.hasOwnProperty(e));return n&&e.push({[n]:r.insert[n]}),e},[])}},VNsO:function(e,t,r){"use strict";r.r(t),r.d(t,"render",(function(){return n})),r.d(t,"staticRenderFns",(function(){return a}));var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"m-chip",attrs:{id:e.chipId,title:e.chipLabel}},[r("res-badge",{staticClass:"m-chip__selection",attrs:{size:"medium"}},[r("span",[e._v(e._s(e.truncateString(e.chipLabel)))]),r("res-icon",{attrs:{name:"x",title:"remove selection"},on:{click:function(t){return e.removeChip(e.chipId)}}})],1)],1)},a=[]},VlS4:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o(r("IR4U")),a=o(r("knw4"));function o(e){return e&&e.__esModule?e:{default:e}}var i={name:"ErrorBoundary",components:{NotFound:n.default},data:()=>({error:{}}),errorCaptured(e){return console.error("Error captured by ErrorBoundary",e),e.response&&404===e.response.status?this.error=new a.default(e.message):this.error=e,!1},render(e){switch(this.error.name){case"CommunityMismatchError":case"NotFoundError":return e(n.default);default:return e("div",this.$slots.default)}}};t.default=i,e.exports=t.default},VleF:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={};t.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=s(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e,r&&r.set(e,n);return n}(r("LnBV"));Object.keys(a).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(n,e)||e in t&&t[e]===a[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}}))}));var o,i=r("O/14");function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(s=function(e){return e?r:t})(e)}var u=(0,((o=r("JFUb"))&&o.__esModule?o:{default:o}).default)(a.default,i.render,i.staticRenderFns,!1,null,null,null).exports;t.default=u,e.exports=t.default},Vsx1:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EditorCommunity=t.DashboardCommunity=t.BasicCommunity=void 0;t.EditorCommunity='\n  query EditorCommunity($communityId: Int!) {\n    community(id: $communityId) {\n      id\n      name\n      slug\n      domain\n      schemaDomain\n      commentArchiveAgeInDays\n      faviconUrl\n      placeFirstAvailableDefault\n      timeZone\n      placeholderImageUrl\n      twitterScreenName\n      twitterSendDefault\n      defaultImageSearchParams\n      featuresEnabled:                siteConfigBoolean(key: "features_enabled")\n      adsEnabled:                     siteConfigBoolean(key: "ads_enabled")\n      paywallEnabled:                 siteConfigBoolean(key: "paywall_enabled")\n      tweetWithImageByDefault:        siteConfigBoolean(key: "tweet_with_image_by_default")\n      entryDisclaimerEnabled:         siteConfigBoolean(key: "entry_disclaimer_enabled")\n      commentsEnabled:                siteConfigBoolean(key: "comments_enabled")\n      coralCommentsEnabled:           siteConfigBoolean(key: "coral_enabled")\n      commentsClosedDefault:          siteConfigBoolean(key: "comments_closed_on_editorial_posts_by_default")\n      publishForGoogleAmp:            siteConfigBoolean(key: "publish_for_google_amp")\n      bylineShowTitle:                siteConfigBoolean(key: "byline_show_title")\n      printSlugEnabled:               siteConfigBoolean(key: "print_slug_enabled")\n      printDeskHidden:                siteConfigBoolean(key: "print_desk_hidden")\n      ratingCardMaxStars:             siteConfigInt(key: "rating_card_max_stars")\n      useProjectDetails:              siteConfigBoolean(key: "project_details_enabled")\n      useToolsAndMaterials:           siteConfigBoolean(key: "tools_and_materials_enabled")\n      projectDetailsSkillLevels:      siteConfigJson(key: "project_details_skill_levels")\n      hasGettyApi:                    hasSiteConfig(key: "getty_api_config", type: "json")\n      hasUsatodayApi:                 hasSiteConfig(key: "usatoday_api_config", type: "json")\n      hasPlagscan:                    hasSiteConfig(key: "plagscan_api_config", type: "json")\n      hasMerlinApi:                   hasSiteConfig(key: "merlin_api_config", type: "json")\n      entrySlugIsEvergreenDefault:    siteConfigBoolean(key: "entry_slug_is_evergreen_default")\n      showEntryEvergreenUrlToggle:    siteConfigBoolean(key: "show_entry_evergreen_url_toggle")\n      defaultGroupSlug:               siteConfigString(key: "default_story_group_slug")\n      headlessModeEnabled:            siteConfigBoolean(key: "headless_mode_enabled")\n      externalPreviewEnabled:         hasSiteConfig(key: "external_preview_url", type: "string")\n      externalPreviewUrl:             siteConfigString(key: "external_preview_url")\n      externalPreviewMode:            siteConfigString(key: "external_preview_mode")\n      externalPreviewSharedSecret:    siteConfigString(key: "external_preview_shared_secret")\n      externalPreviewRequestMethod:   siteConfigString(key: "external_preview_request_method")\n      externalPreviewApiHeaders:      siteConfigJson(key: "external_preview_api_headers")\n      externalPreviewEnableAmp:       siteConfigBoolean(key: "external_preview_enable_amp")\n      publishForAppleNews:            siteConfigBoolean(key: "publish_for_apple_news")\n      useAffiliateLinks:              siteConfigBoolean(key: "use_affiliate_links")\n      allowDisablingOfAffiliateLinks: siteConfigBoolean(key: "allow_disabling_of_affiliate_links_in_stories")\n      network {\n        id\n        name\n        schemaDomain\n        slug\n        autoplayDefault:      siteConfigBoolean(key: "autoplay_videos_on_entry_pages")\n        usesSuperGroups:      siteConfigBoolean(key: "uses_super_groups")\n        usesCampaignGroups:   networkConfigBoolean(key: "uses_campaign_groups?")\n        usesAutotags:         siteConfigBoolean(key: "uses_autotagger")\n        excludesFromRssFeeds: networkConfigBoolean(key: "excludes_from_rss_feeds?")\n\n        organization {\n          id\n          slug\n        }\n      }\n      locale {\n        lat\n        lng\n      }\n      newsletters {\n        name\n        slug\n      }\n      googleAmpLogo {\n        url\n      }\n      autoTagging {\n        leagueRequired\n        leagueId\n        teamId\n        autolinkTagTypes\n        autotagTagTypes: manualTagTypes\n      }\n    }\n  }\n';t.DashboardCommunity='\n  query DashboardCommunity($communityId: Int!) {\n    community(id: $communityId) {\n      id\n      name\n      faviconUrl\n      timeZone\n      printSlugEnabled: siteConfigBoolean(key: "print_slug_enabled")\n      network {\n        id\n        name\n        schemaDomain\n      }\n    }\n  }\n';t.BasicCommunity="\n  query BasicCommunity($communityId: Int!) {\n    community(id: $communityId) {\n      id\n      name\n      twitterScreenName\n    }\n  }\n"},VyFV:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(r("BbE4")),a=u(r("zmXh")),o=l(r("q1SX")),i=u(r("6fkZ")),s=u(r("kh36"));function u(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(c=function(e){return e?r:t})(e)}function l(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=c(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}var d={reconnectDocs(e){let{state:t,commit:r,dispatch:a}=e;for(let e of t.docIds){if(t.inFlight.hasOwnProperty(e)||t.reconnectingIds.hasOwnProperty(e))continue;r(n.ADD_RECONNECTING_DOC,e);const o=t.docsById[e].head.end_sequence;(0,s.default)(`/api/content/docs/${e}/ops?sequence__gt=${o}`,{opts:{retry:{delay:0,maxDelay:2e4}}}).then((function(t){for(let r of t)a("remoteUpdate",{docId:e,packet:r});r(n.REMOVE_RECONNECTING_DOC,e)})).catch(e=>{a("markError",{error:e,sendToSentry:!1})})}},localUpdate(e,t){let{state:r,commit:o,rootState:i,dispatch:s}=e,{docId:u,delta:c,userId:l}=t;l=l||i.currentUser.id;const d=r.docsById[u];if(!d){const e=new Error("An invalid docId was supplied to autosave.");return e.name="AutosaveReferenceError",e.doc_id=u,void s("markError",{error:e})}o(n.UPDATE_LAST_MODIFIED_DATE,{docId:u,date:(new Date).toISOString()}),r.inLine.hasOwnProperty(u)?o(n.SET_INLINE,{docId:u,userId:l}):o(n.SET_INLINE,{docId:u,delta:[],userId:l});const p=d.head.contents.publish_history;if(p&&p.length>0){var f=p.findIndex(e=>"legacy_updated_at"===e.event_type);if(f>-1){var m=p[f];c.push({p:["publish_history",f],ld:m})}}try{const e=r.inLine[u].delta;o(n.SET_INLINE,{docId:u,delta:a.default.compose(e,c)}),o(n.UPDATE_DOC,{docId:u,delta:c}),o(n.SET_DIRTY,u)}catch(e){s("markError",{error:e})}},remoteUpdate(e,t){let{state:r,commit:o,dispatch:i}=e,{docId:s,packet:u}=t;if(r.error||!r.docsById.hasOwnProperty(s))return;if(r.sentIds.hasOwnProperty(u.uuid))return void o(n.REMOVE_SENT_ID,u.uuid);const c=r.docsById[s].head.end_sequence;if(!(u.sequence<=c))if(u.sequence>c+1)i("markError",{error:new Error("Missed a sequence"),sendToSentry:!1});else{try{let e,t;r.inFlight.hasOwnProperty(s)&&(e=a.default.transform(u.delta,r.inFlight[s].delta,"left"),t=a.default.transform(r.inFlight[s].delta,u.delta,"right"),u.delta=e,o(n.UPDATE_INFLIGHT_DELTA,{docId:s,delta:t})),r.inLine.hasOwnProperty(s)&&(e=a.default.transform(u.delta,r.inLine[s].delta,"left"),t=a.default.transform(r.inLine[s].delta,u.delta,"right"),u.delta=e,o(n.UPDATE_INLINE_DELTA,{docId:s,delta:t})),o(n.UPDATE_SEQUENCE,{docId:s,sequence:u.sequence}),o(n.UPDATE_DOC,{docId:s,delta:u.delta})}catch(e){i("markError",{error:e})}r.contentApiSocket.emit("autosave.remote-update",s,u)}},resolveOnLocalUpdate(e,t){let{dispatch:r,getters:a,state:o}=e,{docId:i,delta:s,userId:u}=t;return r("localUpdate",{docId:i,delta:s,userId:u}),new Promise((e,t)=>{if(!a.isPipelineDirty)return e();const r=this.subscribe(i=>{if(i.type===n.SET_CLEAN||i.type===n.CLEAR_DIRTY)return r(),a.isPipelineDirty||o.error?t():e()})})},resolveOnAutosaveReady(e,t){let{commit:r}=e,{doc:a,path:o}=t;return r(n.SET_DOC,{doc:a,path:o}),new Promise((e,t)=>{const r=this.subscribe(a=>a.type===n.SET_AUTOSAVE_READY?(r(),e()):a.type===n.SET_FATAL_ERROR?(r(),t()):void 0)})},resolveOnClean(e,t){let{state:r}=e;return new Promise((e,t)=>{if(Object.keys(r.dirty).length<1)return e();const a=this.subscribe(r=>r.type===n.SET_FATAL_ERROR?(a(),t()):r.type===n.SET_CLEAN?(a(),e()):void 0)})},updateDocFlag(e,t){let{state:r,commit:a}=e,{docId:o,path:i,value:s}=t;!r.error&&r.docsById.hasOwnProperty(o)&&a(n.UPDATE_DOC_BY_PATH,{docId:o,path:i,value:s})},teardownDoc(e,t){let{commit:r,state:a,dispatch:o}=e;return a.docsById.hasOwnProperty(t)?o("resolveOnClean",t).then(()=>{r(n.REMOVE_DOC_FROM_STATE,t)}):Promise.resolve()},markError(e,t){let{commit:r,state:a}=e,{error:s,reportToSentry:u=!0}=t;a.error||r("messageBanner/PUT_NOTICE",{message:i.default.REALTIME_ERROR,type:"negative"}),r(n.SET_FATAL_ERROR),r(n.CLEAR_DIRTY),u&&(s.from="autosave",o.reportError(s,!1))}};t.default=d,e.exports=t.default},WNFn:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={};t.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=s(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e,r&&r.set(e,n);return n}(r("3mho"));Object.keys(a).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(n,e)||e in t&&t[e]===a[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}}))}));var o,i=r("VNsO");function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(s=function(e){return e?r:t})(e)}var u=(0,((o=r("JFUb"))&&o.__esModule?o:{default:o}).default)(a.default,i.render,i.staticRenderFns,!1,null,null,null).exports;t.default=u,e.exports=t.default},Wdcv:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r("L2JU"),a=o(r("iUff"));function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){u(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var c={components:{CommunityMenu:o(r("SNZc")).default},props:{value:{type:Number},community:{type:Object,required:!0},user:{type:Object,required:!0},allowedRoles:{type:Object,required:!0},activeMemberships:{type:Array,default:()=>[]}},data:()=>({menuOpen:!1}),computed:s(s({},(0,n.mapState)(["defaultLogoUrl"])),{},{networks(){return(0,a.default)(this.activeMemberships)},hasMenu(){return this.networks.length>1||this.networks.some(e=>e.communities.length>1)}}),watch:{value(){this.$refs.communityMenu&&this.$refs.communityMenu.selectCommunity(this.value)}},methods:{closeMenu(){this.menuOpen=!1},toggleMenu(){this.menuOpen=!this.menuOpen}}};t.default=c,e.exports=t.default},Wdq0:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={};t.default=void 0;var a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=i(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}n.default=e,r&&r.set(e,n);return n}(r("VlS4"));function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(i=function(e){return e?r:t})(e)}Object.keys(o).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(n,e)||e in t&&t[e]===o[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}}))}));var s=(0,((a=r("JFUb"))&&a.__esModule?a:{default:a}).default)(o.default,void 0,void 0,!1,null,null,null).exports;t.default=s,e.exports=t.default},Whsh:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addSearch=async function(e){return await(0,a.default)("/api/saved_search",{method:"POST",body:e,opts:{handleError:!1}})},t.deleteAll=async function(e){return await(0,a.default)("/api/saved_search/deleteAll",{method:"PUT",body:e,opts:{handleError:!1}})},t.deleteSearch=async function(e){return await(0,a.default)("/api/saved_search",{method:"DELETE",body:e,opts:{handleError:!1}})},t.getSearches=async function(e){return await(0,a.default)("/api/saved_search",{method:"GET",query:e,opts:{handleError:!1}})},t.renameSearch=async function(e){return await(0,a.default)("/api/saved_search",{method:"PUT",body:e,opts:{handleError:!1}})},t.runSearch=async function(e){return await(0,a.default)("/api/saved_search/touch/",{method:"PUT",body:e,opts:{handleError:!1}})};var n,a=(n=r("kh36"))&&n.__esModule?n:{default:n}},WxQR:function(e,t,r){"use strict";e.exports=function(e){return e.draft&&e.draft.hasOwnProperty("customstory_pages")}},XEzZ:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,a=r("L2JU"),o=(n=r("zHkP"))&&n.__esModule?n:{default:n};function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){u(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var c={computed:s(s({},(0,a.mapState)({connectedUsers:e=>e.autosave.connectedUsers})),{},{maxVisible(){return this.connectedUsers.length>4?3:4},names(){const e=this.connectedUsers,t=this.maxVisible;return e.slice(0,t).map(e=>({fullOrUserName:e.fullOrUserName,initials:(0,o.default)(e.fullOrUserName)}))},hiddenNames(){const e=this.connectedUsers,t=this.maxVisible;return e.slice(t).map(e=>e.fullOrUserName)}})};t.default=c,e.exports=t.default},XPen:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=f(r("nKbw")),a=f(r("yAmA")),o=f(r("k9NW")),i=f(r("knw4")),s=r("6fkZ"),u=f(r("wd/R")),c=f(r("kh36")),l=r("BbE4"),d=r("4mBr"),p=r("L2JU");function f(e){return e&&e.__esModule?e:{default:e}}function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach((function(t){y(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function y(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var v={components:{Layout:n.default,EditorNav:a.default},props:{action:{type:String,required:!0,default:""},uuid:{type:String,required:!0,default:""}},data:()=>({fatalError:!1,MESSAGE_RESCUE_VERSION:["story"],beforeUnload:()=>{}}),computed:h(h(h({},(0,p.mapState)(["appName","autosave"])),(0,p.mapGetters)(["currentDoc","docLabel","isPipelineDirty"])),{},{communityId(){return this.currentDoc&&this.currentDoc.community_id},docIds(){return Object.keys(this.autosave.docsById).map(e=>parseInt(e))}}),watch:{"currentDoc.title"(){this.currentDoc&&this.currentDoc.title&&(document.title=`${this.currentDoc.title} | ${this.appName}`)}},async created(){if(this.uuid){const e=await this.getDoc(this.uuid);await this.haltIfTrashed(e),this.$store.commit(l.SET_DOC,{doc:e,path:"doc"}),await this.checkCommunityContexts(e)}},mounted(){this.initUnsavedWarning(),this.initCommunityChangedNotice()},beforeDestroy(){window.removeEventListener("beforeunload",this.beforeUnload)},methods:{getDoc:async e=>await(0,c.default)("/api/content/docs/"+e,{query:{includes:"owner,updateUser,community,external_ids"},opts:{cache:!0,force:!0,handleError:!1}}),haltIfTrashed(e){var t=e.head.contents.trashed_at,r=(0,u.default)().subtract(30,"days");if(t&&(0,u.default)(t)<r)throw new i.default("Doc was trashed over 30 days ago");return Promise.resolve()},async checkCommunityContexts(e){const t=await(0,d.getEntryById)(e.entry_id);if(t&&t.community_id&&e.community_id!==t.community_id)throw new o.default(e);return Promise.resolve()},initUnsavedWarning(){window.addEventListener("beforeunload",this.beforeUnload=e=>{if(this.isPipelineDirty)return e.preventDefault(),e.returnValue=s.UNSAVED_WARNING,s.UNSAVED_WARNING})},initCommunityChangedNotice(){this.$route.query.communityChanged&&this.$store.commit("messageBanner/PUT_NOTICE",{type:"positive",message:s.COMMUNITY_CHANGED.replace("{docLabel}",this.docLabel)})}}};t.default=v,e.exports=t.default},Xbgq:function(e,t,r){"use strict";function n(e,t){Error.call(this),"function"==typeof Error.captureStackTrace?Error.captureStackTrace(this,n):this.stack=new Error(e).stack,this.message=e,this.response=t,this.name=this.constructor.name}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n.prototype=Object.create(Error.prototype),n.prototype.constructor=n;var a=n;t.default=a,e.exports=t.default},"XhB+":function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=async function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};var{data:n,errors:o}=await i(e,{method:"POST",body:t,opts:a({cache:!0},r)});if(!n&&o)throw new s(o);return n};var i=r("kh36"),s=r("K+3G");e.exports=t.default},XhEn:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r("L2JU"),a=s(r("yaPn")),o=s(r("w/JT")),i=s(r("fMQq"));function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var l={components:{ShortlinkModal:a.default,SavedSearchCreateModal:o.default,SavedSearchDeleteModal:i.default},computed:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){c(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},(0,n.mapState)(["currentModal","modalKey","modalId"]))};t.default=l,e.exports=t.default},Xv6j:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,a=(n=r("9dd1"))&&n.__esModule?n:{default:n},o=r("L2JU");function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var u={name:"AppLoader",props:{iconName:{type:String,default:"loading"},animation:{type:String,default:"spin"}},computed:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},(0,o.mapState)("appLoader",["loading"])),created(){this.$store.state.appLoader||this.$store.registerModule("appLoader",a.default)}};t.default=u,e.exports=t.default},YbFx:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.towerClient=t.importerClient=t.apolloProvider=void 0,r("Kz25");var n=u(r("Kw5r")),a=u(r("Ui0k")),o=r("dMq0"),i=r("R44f"),s=r("K/JX");function u(e){return e&&e.__esModule?e:{default:e}}let c=new URL(window.location);c.pathname="/api/tower/graphql",c.search="";const l=new i.HttpLink({uri:c.toString(),credentials:"include"}),d=new o.ApolloClient({link:l,cache:new s.InMemoryCache,connectToDevTools:!0,shouldBatch:!0});t.towerClient=d,n.default.use(a.default);const p=new a.default({defaultClient:d});t.apolloProvider=p;let f=new URL(window.location);f.pathname="/api/chorus-import-manager/graphql",f.search="";const m=new o.ApolloClient({link:new i.HttpLink({uri:f.toString(),credentials:"include"}),cache:new s.InMemoryCache,connectToDevTools:!0,defaultOptions:{watchQuery:{fetchPolicy:"network-only"},query:{fetchPolicy:"network-only"}}});t.importerClient=m},Ybhz:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={};t.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=s(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e,r&&r.set(e,n);return n}(r("0S5Z"));Object.keys(a).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(n,e)||e in t&&t[e]===a[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}}))}));var o,i=r("9pfF");function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(s=function(e){return e?r:t})(e)}var u=(0,((o=r("JFUb"))&&o.__esModule?o:{default:o}).default)(a.default,i.render,i.staticRenderFns,!1,null,null,null).exports;t.default=u,e.exports=t.default},YfO1:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=n(e);return!["link","stream","package","page"].includes(t)};var n=r("ZOem");e.exports=t.default},YnlO:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r("L2JU"),a=r("LvDl"),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=b(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e,r&&r.set(e,n);return n}(r("BbE4")),i=v(r("6fkZ")),s=v(r("f0Wu")),u=v(r("kh36")),c=v(r("5Qx3")),l=v(r("oPuc")),d=v(r("CJP3")),p=v(r("+Q8c")),f=v(r("Wdq0")),m=r("5qpz"),h=r("maTt"),y=r("hb94");function v(e){return e&&e.__esModule?e:{default:e}}function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(b=function(e){return e?r:t})(e)}function _(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_(Object(r),!0).forEach((function(t){O(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function O(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var w={components:{AppSidebar:c.default,AppModal:l.default,AppOverlay:d.default,AppLoader:p.default,ErrorBoundary:f.default},data:()=>({debouncedComputeSizes:null,entitlements:[]}),computed:g(g(g({},(0,n.mapState)(["user","isMobile","errorBoundaryKey","appName"])),(0,n.mapGetters)(["activeMemberships","currentDoc"])),{},{communityId(){return this.loadDoc?this.currentDoc&&this.currentDoc.community_id:this.$route.query.community_id?parseInt(this.$route.query.community_id):this.getExternalCommunityId()}}),beforeMount(){this.computeSizes(),this.debouncedComputeSizes=(0,a.debounce)(this.computeSizes,500),window.addEventListener("resize",this.debouncedComputeSizes)},mounted(){window.addEventListener("keyup",this.overlayEscapeHandler)},beforeDestroy(){window.removeEventListener("resize",this.debouncedComputeSizes),window.removeEventListener("keyup",this.overlayEscapeHandler)},apollo:{currentUser:{query:h.CurrentUser,result(e){let{data:t}=e;this.$store.commit(o.SET_CONTEXT,{user:t.currentUser}),this.newUserWelcome()}},community:{query:()=>y.CurrentCommunity,result(e){let{data:t}=e;this.$store.commit(o.SET_CONTEXT,{community:t.community}),this.getEntitlements()},skip(){return!this.communityId},variables(){return{id:this.communityId}}}},methods:{computeSizes(){const e=window.getComputedStyle(document.documentElement).getPropertyValue("font-size"),t=+e.substring(0,e.indexOf("px")),r=40*t;this.$store.commit(o.SET_IS_MOBILE,window.innerWidth<=r),this.$store.commit(o.SAVE_WINDOW_SIZE,{fontSize:t,width:window.innerWidth,height:window.innerHeight})},getExternalCommunityId(){const e=location.search.match(/(?:\?|&)community_id=(\d+)/);if(e)return parseInt(e[1]);const t=localStorage.getItem("dashboardCommunityId");return t?parseInt(t):this.activeMemberships.length?parseInt(this.activeMemberships[0].community.id):null},async getEntitlements(){this.entitlements=await(0,u.default)("/api/entitlements?communityId="+this.communityId),this.$store.commit(o.SET_CONTEXT,{entitlements:this.entitlements})},newUserWelcome(){const e=(0,s.default)("2018-03-29","YYYY-MM-DD").utc();Boolean(!this.user.hasLoggedIn&&(0,s.default)(this.currentUser.createdOn).utc().isAfter(e))&&(this.$store.commit("messageBanner/PUT_NOTICE",{type:"positive",message:i.default.NEW_USER_MESSAGE.replace("{url}","https://www.chorus.help/hc/en-us/articles/360009073453-Getting-started-with-the-story-editor")}),(0,m.updateAnthemUser)({hasLoggedIn:!0}))},overlayEscapeHandler(e){"Escape"!==e.key||this.isMobile||(this.$store.commit(o.SET_OVERLAY,{childProps:null,component:null}),this.$store.commit(o.SET_SIDEBAR,null))}}};t.default=w,e.exports=t.default},YqRe:function(e,t,r){"use strict";r.r(t),r.d(t,"render",(function(){return n})),r.d(t,"staticRenderFns",(function(){return a}));var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{class:"m-chorus-help__icon "+e.announcementClass,style:e.isMobile?"position: absolute; right: 0;":""},[r("res-button",{attrs:{design:"default",paddingless:""},on:{click:function(t){return e.toggleHelp()}}},[r("res-icon",{attrs:{size:"medium",title:"Help",name:"help"}}),e._v(" "),r("button",{attrs:{type:"button"}})],1)],1)},a=[]},Yv60:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={};t.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=s(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e,r&&r.set(e,n);return n}(r("cH6S"));Object.keys(a).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(n,e)||e in t&&t[e]===a[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}}))}));var o,i=r("2vd1");function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(s=function(e){return e?r:t})(e)}var u=(0,((o=r("JFUb"))&&o.__esModule?o:{default:o}).default)(a.default,i.render,i.staticRenderFns,!1,null,null,null).exports;t.default=u,e.exports=t.default},Z4oj:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=o(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=a?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(n,i,s):n[i]=e[i]}n.default=e,r&&r.set(e,n);return n}(r("BbE4"));function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(o=function(e){return e?r:t})(e)}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){u(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var c=s(s({},((n=r("HfYJ"))&&n.__esModule?n:{default:n}).default),{},{[a.SET_IS_MOBILE](e,t){e.isMobile=t},[a.SAVE_WINDOW_SIZE](e,t){let{width:r=null,height:n=null}=t;null!==r&&(e.windowSize.width=r),null!==n&&(e.windowSize.height=n)},[a.PATCH_USER](e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object.keys(t).length&&(e.currentUser=Object.assign({},e.currentUser,t))},[a.SET_SIDEBAR](e,t){if(t&&t.when&&!t.when.test(e.currentSidebar.type))return;const r=t?t.to:null,n=["chorus-help"].includes(r);e.currentSidebar={type:n?r:null,title:n&&t.title||null,id:n&&t.id||null,childProps:n&&t.childProps||null,orientation:n?t.orientation:"right",pushContent:!!n&&t.pushContent}},[a.SET_MODAL](e,t){if(!t)return void(e.currentModal=null);const{childProps:r,component:n}=t,a=["shortlink-modal","saved-search-delete-modal","saved-search-create-modal"].includes(n),o=a&&n!==e.currentModal.component;e.currentModal={childProps:r||null,component:a?n:null},o&&e.modalKey++},[a.SET_OVERLAY](e,t){if(!t)return void(e.currentOverlay=null);const{childProps:r,component:n,orientation:a}=t,o=["chorus-help-announcement","chorus-help-contact-form"].includes(n);e.currentOverlay={childProps:r||null,component:o?n:null,orientation:a||"left"}},[a.ANTHEM_SOCKET_INIT](e,t){e.anthemSocket=t},[a.ANTHEM_SOCKET_ADD_USER](e,t){let{newUser:r}=t;e.autosave.connectedUsers.push(r)},[a.ANTHEM_SOCKET_REMOVE_USER](e,t){let{oldUser:r}=t;e.autosave.connectedUsers.splice(e.autosave.connectedUsers.indexOf(r),1)},[a.SOCKET_ERROR](e,t){e.socketError=t},[a.RESET_ERROR_BOUNDARY](e){e.errorBoundaryKey++}});t.default=c,e.exports=t.default},ZCzW:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={};t.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=s(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e,r&&r.set(e,n);return n}(r("XEzZ"));Object.keys(a).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(n,e)||e in t&&t[e]===a[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}}))}));var o,i=r("AOAV");function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(s=function(e){return e?r:t})(e)}var u=(0,((o=r("JFUb"))&&o.__esModule?o:{default:o}).default)(a.default,i.render,i.staticRenderFns,!1,null,null,null).exports;t.default=u,e.exports=t.default},ZOem:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return"story"===e.schema_name?n(e.head.contents):a[e.schema_name]};var n=r("1+zu"),a=r("MN9u");e.exports=t.default},"Zi/e":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={};t.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=s(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e,r&&r.set(e,n);return n}(r("sxCh"));Object.keys(a).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(n,e)||e in t&&t[e]===a[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}}))}));var o,i=r("MJ/R");function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(s=function(e){return e?r:t})(e)}var u=(0,((o=r("JFUb"))&&o.__esModule?o:{default:o}).default)(a.default,i.render,i.staticRenderFns,!1,null,null,null).exports;t.default=u,e.exports=t.default},a42v:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=u(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e,r&&r.set(e,n);return n}(r("BbE4")),a=s(r("Kw5r")),o=s(r("zmXh")),i=r("LvDl");function s(e){return e&&e.__esModule?e:{default:e}}function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(u=function(e){return e?r:t})(e)}var c={[n.SET_DOC](e,t){let{doc:r,path:n}=t;a.default.set(e.docsById,r.id,r),"doc"===n?(e.ready=!1,e.currentDocId=r.id):"subdoc"===n&&e.subdocs.push(r.id)},[n.REMOVE_DOC_FROM_STATE](e,t){e.currentDocId===t&&(e.currentDocId={}),e.subdocs.includes(t)&&e.subdocs.splice(e.subdocs.indexOf(t),1),a.default.delete(e.docsById,t)},[n.CLEAR_DIRTY](e){e.dirty={}},[n.SET_DIRTY](e,t){a.default.set(e.dirty,t,!0)},[n.SET_CLEAN](e,t){a.default.delete(e.dirty,t)},[n.SET_INLINE](e,t){let{docId:r,userId:n,delta:o}=t;e.inLine.hasOwnProperty(r)||(e.inLine[r]={}),n&&a.default.set(e.inLine[r],"userId",n),o&&a.default.set(e.inLine[r],"delta",o)},[n.UNSET_INLINE](e,t){a.default.delete(e.inLine,t)},[n.SET_INFLIGHT](e,t){a.default.set(e.inFlight,t,e.inLine[t])},[n.UPDATE_INLINE_DELTA](e,t){let{docId:r,delta:n}=t;e.inLine[r].delta=n},[n.UNSET_INFLIGHT](e,t){a.default.delete(e.inFlight,t)},[n.UPDATE_INFLIGHT_DELTA](e,t){let{docId:r,delta:n}=t;e.inFlight[r].delta=n},[n.SET_SENT_ID](e,t){a.default.set(e.sentIds,t,!0)},[n.REMOVE_SENT_ID](e,t){a.default.delete(e.sentIds,t)},[n.UPDATE_SEQUENCE](e,t){let{docId:r,sequence:n}=t;e.docsById[r].head.end_sequence=n},[n.UPDATE_LAST_MODIFIED_DATE](e,t){let{docId:r,date:n}=t;e.docsById[r].updated_at=n},[n.UPDATE_DOC](e,t){let{docId:r,delta:n}=t;e.docsById[r].head.delta=o.default.compose(e.docsById[r].head.delta,n),e.docsById[r].head.contents=o.default.apply(e.docsById[r].head.contents,n)},[n.UPDATE_DOC_BY_PATH](e,t){let{docId:r,path:n,value:a}=t;(0,i.set)(e.docsById[r],n,a)},[n.SET_FATAL_ERROR](e){e.error=!0},[n.ADD_RECONNECTING_DOC](e,t){e.reconnectingIds.push(t)},[n.REMOVE_RECONNECTING_DOC](e,t){e.reconnectingIds.splice(e.reconnectingIds.indexOf(t),1)},[n.CAPI_SOCKET](e,t){e.contentApiSocket=t},[n.SET_AUTOSAVE_READY](e,t){e.ready=t}};t.default=c,e.exports=t.default},a62e:function(e,t,r){"use strict";e.exports=function(e){return e.draft.hasOwnProperty("map_points")}},aZOI:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SET_CONTEXT=t.ACTIVE_MEMBERSHIPS=void 0;t.SET_CONTEXT="setContext";t.ACTIVE_MEMBERSHIPS="activeMemberships"},agH8:function(e,t,r){"use strict";r.r(t),r.d(t,"render",(function(){return n})),r.d(t,"staticRenderFns",(function(){return a}));var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("li",{class:e.className},[r("div",{directives:[{name:"show",rawName:"v-show",value:e.editing,expression:"editing"}],staticClass:"m-editable-list-item__content"},[r("res-input",{on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.preventDefault(),e.save(t))}}},[r("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.name,expression:"name",modifiers:{trim:!0}}],ref:"input",attrs:{type:"text"},domProps:{value:e.name},on:{input:function(t){t.target.composing||(e.name=t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})]),e._v(" "),r("res-button",{staticClass:"m-editable-list-item__save",attrs:{design:"primary"},on:{click:e.save}},[r("res-icon",{attrs:{name:"check"}}),e._v(" "),r("button")],1),e._v(" "),r("res-button",{staticClass:"m-editable-list-item__cancel",attrs:{design:"secondary"},on:{click:e.cancel}},[r("res-icon",{attrs:{name:"x"}}),e._v(" "),r("button")],1)],1),e._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:!e.editing,expression:"!editing"}],staticClass:"m-editable-list-item__content"},[r("res-button",{staticClass:"m-editable-list-item__name",attrs:{disabled:e.disabled,paddingless:""},on:{click:function(t){!e.disabled&&e.onNameClick()}}},[r("button",[e._v(e._s(e.name))])]),e._v(" "),r("res-button",{staticClass:"m-editable-list-item__edit",attrs:{disabled:e.disabled,title:"Edit"},on:{click:function(t){!e.disabled&&e.edit()}}},[r("res-icon",{attrs:{name:"edit"}}),e._v(" "),r("button")],1),e._v(" "),r("res-button",{staticClass:"m-editable-list-item__delete",attrs:{"res-modal-open":e.modalId,disabled:e.disabled,title:"Delete",negative:""},on:{click:function(t){!e.disabled&&e.onDeleteClick()}}},[r("res-icon",{attrs:{name:"trash"}}),e._v(" "),r("button")],1)],1)])},a=[]},"b7+n":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r("L2JU"),a=s(r("GUvR")),o=s(r("SJeu")),i=s(r("KPtd"));function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var d={components:{BannerMessage:a.default,EditorSubnav:o.default,EditorMobileSubnav:i.default},computed:c(c(c({},(0,n.mapState)(["isMobile"])),(0,n.mapGetters)(["currentDoc","customFieldsEnabled"])),{},{navLinks(){const e=this.docLabel;let t=[];return t="package"===e?[{name:"package",label:"Package"},{name:"compose",label:"Compose"},{name:"docs",label:"Layout",params:{action:"layout"}},{name:"preview",label:"Preview"},{name:"preflight",label:"Finalize"}]:"link"===e?[{name:"compose",label:"Compose"},{name:"preflight",label:"Finalize"}]:"custom story"===e?[{name:"customstory",label:"Project"},{name:"compose",label:"Compose"},{name:"preview",label:"Preview"},{name:"preflight",label:"Finalize"}]:"mapstack"===e||"stream"===e?[{name:"compose",label:"Compose"},{name:"preview",label:"Preview"},{name:"preflight",label:"Finalize"}]:[{name:"compose",label:"Compose"},{name:"docs",label:"Layout",params:{action:"layout"}},{name:"preview",label:"Preview"},{name:"preflight",label:"Finalize"}],t}}),methods:{pageActive(e,t){return"docs"!==e?this.$route.name===e?"is-active":"":this.$route.params.action===t?"is-active":""}}};t.default=d,e.exports=t.default},bREV:function(e,t,r){"use strict";var n=c(r("Kw5r")),a=c(r("SdQN")),o=u(r("WSEr")),i=u(r("TGyJ"));function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(s=function(e){return e?r:t})(e)}function u(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=s(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}function c(e){return e&&e.__esModule?e:{default:e}}a.default.sentry&&o.init({dsn:a.default.sentry.dsn,release:a.default.release,environment:a.default.env,integrations:[new i.Vue({Vue:n.default})]})},bYZy:function(e,t,r){"use strict";r.r(t),r.d(t,"render",(function(){return n})),r.d(t,"staticRenderFns",(function(){return a}));var n=function(){var e=this.$createElement,t=this._self._c||e;return t("div",[this.currentDoc?t("editor-nav"):this._e(),this._v(" "),t(this.action,{tag:"component",attrs:{uuid:this.uuid}})],1)},a=[]},bnHI:function(e,t,r){"use strict";r.r(t),r.d(t,"render",(function(){return n})),r.d(t,"staticRenderFns",(function(){return a}));var n=function(){var e=this.$createElement,t=this._self._c||e;return this.currentModal.component?t("res-modal",{key:this.modalKey,attrs:{id:this.modalId,background:"darken",bgclose:""}},[t(this.currentModal.component,{tag:"component",attrs:{childProps:this.currentModal.childProps}})],1):this._e()},a=[]},btQy:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,a=r("L2JU"),o=r("wWdB"),i=(n=r("kh36"))&&n.__esModule?n:{default:n};function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){c(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var l={props:{communityId:{type:Number,required:!0},isMobile:{type:Boolean,default:!1}},data:()=>({loadingNewDoc:!1,mobileKey:1}),computed:u(u(u({},(0,a.mapState)(["currentUser","entitlements","policyRoles"])),(0,a.mapGetters)(["readOnly"])),{},{isPagesViewMode(){return this.$route.name.includes("pages")},storyTypes(){if(this.isPagesViewMode)return[{type:"page",defaults:{entry_type:"Page"}}];let e=[{type:"story",defaults:{}}];return(0,o.hasPolicyRole)(this.currentUser,this.communityId,this.policyRoles.editor.accessStoryTypes)&&e.push({type:"stream",defaults:{entry_type:"Stream"}},{type:"link",defaults:{entry_type:"LinkPost"}}),this.entitlements&&this.entitlements.includes("use_packages")&&e.push({type:"package",defaults:{entry_type:"LandingPage"}}),this.entitlements&&this.entitlements.includes("use_mapstacks")&&e.push({type:"mapstack",defaults:{entry_type:"MapStack"}}),this.entitlements&&this.entitlements.includes("use_customstories")&&e.push({type:"custom story",defaults:{entry_type:"CustomStory"},status:"beta"}),e}}),watch:{isMobile(){this.mobileKey++},loadingNewDoc(){this.loadingNewDoc?this.$store.commit("appLoader/SET_LOADING",!0):this.$store.commit("appLoader/SET_LOADING",!1)}},methods:{newDoc(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.loadingNewDoc=!0,t.community_id=this.communityId,this.createDoc(e,t)},async createDoc(e,t){let r="compose";"package"===e&&(r="package"),"custom story"===e&&(r="customstory");try{const e=await(0,i.default)("/newstory",{method:"POST",body:t,opts:{handleError:!1}});window.location.assign(`/${r}/${e.uuid}`)}catch(e){console.log("error",e),this.$store.commit("messageBanner/PUT_NOTICE",{type:"negative",message:e.message})}}}};t.default=l,e.exports=t.default},bz8U:function(e,t,r){"use strict";e.exports=function(e){return"unison_page"===e.draft.entry_layout}},c1be:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={props:{childProps:{type:Object,required:!0}},computed:{entry(){return this.childProps}}};t.default=n,e.exports=t.default},cBfs:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=f(r("Kw5r")),a=f(r("L2JU")),o=f(r("9UL2")),i=f(r("Z4oj")),s=f(r("fjHQ")),u=f(r("trU6")),c=f(r("UA2e")),l=f(r("9h4/")),d=f(r("PdXh")),p=f(r("zBkF"));function f(e){return e&&e.__esModule?e:{default:e}}const m=(0,c.default)(),h=(0,l.default)(),y=(0,d.default)();n.default.use(a.default);var v=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new a.default.Store({state:Object.assign({anthemSocket:null,currentSidebar:{type:null,id:null,childProps:null,orientation:"right",pushContent:!1},currentModal:{},modalKey:1,errorBoundaryKey:1,modalId:"storyEditorModal",currentOverlay:{childProps:null,component:null,orientation:"left"},currentUser:{id:null,createdOn:null,fullOrUserName:null,email:null,timeZone:null,networkRoles:[],memberships:[]},currentCommunity:{id:0,name:null},network:{id:null,name:null,schemaDomain:null},entitlements:[],isMobile:!1,socketError:!1,windowSize:{width:null,height:null}},e),actions:o.default,mutations:i.default,getters:s.default,modules:{autosave:u.default,messageBanner:p.default},plugins:[m,h,y]})};t.default=v,e.exports=t.default},cCRb:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={};t.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=s(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e,r&&r.set(e,n);return n}(r("54Gv"));Object.keys(a).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(n,e)||e in t&&t[e]===a[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}}))}));var o,i=r("PveH");function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(s=function(e){return e?r:t})(e)}var u=(0,((o=r("JFUb"))&&o.__esModule?o:{default:o}).default)(a.default,i.render,i.staticRenderFns,!1,null,null,null).exports;t.default=u,e.exports=t.default},cH6S:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,a=(n=r("gzEu"))&&n.__esModule?n:{default:n},o=r("L2JU");function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){u(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var c={components:{EditableListItem:a.default},props:{searches:{type:Array,default:()=>[],required:!0},goToSearchView:{type:Function,default:()=>{},required:!0},renameSavedSearch:{type:Function,default:()=>{},required:!0},openDeleteModal:{type:Function,default:()=>{},required:!0},runSavedSearch:{type:Function,default:()=>{},required:!0},currentSavedSearch:{type:Object,default:()=>({}),required:!0}},computed:s(s({},(0,o.mapState)(["currentCommunity"])),(0,o.mapGetters)(["readOnly"]))};t.default=c,e.exports=t.default},cfah:function(e,t,r){"use strict";e.exports=function(e){return new Promise((function(t){setTimeout(t,e)}))}},dsbL:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={props:{className:{type:String,default:""},placement:{type:String,default:"bottom-end"},id:{type:String,default:null},active:{type:Boolean,default:!1}}};t.default=n,e.exports=t.default},dvEM:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(r("Kw5r")),a=s(r("jE9Z")),o=s(r("kDsS")),i=s(r("CJ9i"));function s(e){return e&&e.__esModule?e:{default:e}}n.default.use(a.default);const u=window.location.origin;var c=new a.default({base:"/",mode:"history",routes:[{path:"/",name:"dashboard",component:o.default},{path:"/pages",name:"pages",component:o.default},{path:"/pages/:filter",name:"pages-filtered",component:o.default},{path:"/:filter",name:"dashboard-filtered",component:o.default},{path:"/:action(layout)/:uuid",name:"doc",component:i.default,props:!0,beforeEnter:(e,t,r)=>{e.query.testing?r():t.name?r({name:t.name}):window.location=u}}]});t.default=c,e.exports=t.default},eD2k:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={};t.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=s(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e,r&&r.set(e,n);return n}(r("lRlg"));Object.keys(a).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(n,e)||e in t&&t[e]===a[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}}))}));var o,i=r("xAlf");function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(s=function(e){return e?r:t})(e)}var u=(0,((o=r("JFUb"))&&o.__esModule?o:{default:o}).default)(a.default,i.render,i.staticRenderFns,!1,null,null,null).exports;t.default=u,e.exports=t.default},"f+5Y":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={};t.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=s(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e,r&&r.set(e,n);return n}(r("IVGt"));Object.keys(a).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(n,e)||e in t&&t[e]===a[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}}))}));var o,i=r("verp");function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(s=function(e){return e?r:t})(e)}var u=(0,((o=r("JFUb"))&&o.__esModule?o:{default:o}).default)(a.default,i.render,i.staticRenderFns,!1,null,null,null).exports;t.default=u,e.exports=t.default},"f/5d":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={};t.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=s(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e,r&&r.set(e,n);return n}(r("gWih"));Object.keys(a).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(n,e)||e in t&&t[e]===a[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}}))}));var o,i=r("ftGw");function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(s=function(e){return e?r:t})(e)}var u=(0,((o=r("JFUb"))&&o.__esModule?o:{default:o}).default)(a.default,i.render,i.staticRenderFns,!1,null,null,null).exports;t.default=u,e.exports=t.default},fMQq:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={};t.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=s(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e,r&&r.set(e,n);return n}(r("0Lfj"));Object.keys(a).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(n,e)||e in t&&t[e]===a[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}}))}));var o,i=r("Kns8");function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(s=function(e){return e?r:t})(e)}var u=(0,((o=r("JFUb"))&&o.__esModule?o:{default:o}).default)(a.default,i.render,i.staticRenderFns,!1,null,null,null).exports;t.default=u,e.exports=t.default},fjHQ:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=o(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=a?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(n,i,s):n[i]=e[i]}n.default=e,r&&r.set(e,n);return n}(r("BbE4"));function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(o=function(e){return e?r:t})(e)}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){u(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var c=s(s({},((n=r("uX1+"))&&n.__esModule?n:{default:n}).default),{},{[a.READ_ONLY](e){const t=e.autosave.error,r=e.socketError,n=e.messageBanner.notifications.some(e=>e.persistent);return t||r||n},[a.CUSTOM_FIELDS_ENABLED](e){const t=["startribune"];let r=!1;e.currentCommunity&&e.currentCommunity.network&&e.currentCommunity.network.organization&&e.currentCommunity.network.organization.slug&&(r=t.includes(e.currentCommunity.network.organization.slug));const n=[];let a=!1;e.currentCommunity&&e.currentCommunity.network&&e.currentCommunity.network.slug&&(a=n.includes(e.currentCommunity.network.slug));const o=["startribune","citypages","anthem-test-blog-sbnprivate","crimsontesting"];let i=!1;return e.currentCommunity&&e.currentCommunity.slug&&(i=o.includes(e.currentCommunity.slug)),r||a||i},[a.ANTHEM_SOCKET_CONNECTED_STATUS]:e=>!!e.anthemSocket&&e.anthemSocket.connected});t.default=c,e.exports=t.default},fnaE:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=m(r("xi4I")),a=m(r("JCm4")),o=m(r("PLDh")),i=m(r("4eU8")),s=m(r("WNFn")),u=m(r("6fkZ")),c=r("wWdB"),l=r("LvDl"),d=r("L2JU"),p=r("q1SX"),f=r("SiKE");function m(e){return e&&e.__esModule?e:{default:e}}function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach((function(t){v(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function v(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var b={components:{DashboardNav:n.default,DocCell:a.default,SearchPanel:o.default,ScrollLock:i.default,Chip:s.default},data:()=>({docs:[],formattedQuery:[],isSearching:!1,myDocs:!1,pagination:null,selectedIndices:[],searchPanelCollapsed:!1,mobileKey:1,defaultOrder:"date",savedSearchName:""}),computed:y(y({},(0,d.mapState)(["appName","currentCommunity","currentUser","entitlements","isMobile","windowSize","messageBanner","policyRoles"])),{},{communityId(){return parseInt(this.currentCommunity.id)},bannerMessageOverride(){return 44*this.messageBanner.notifications.length+49},contentStyles(){const e=this.bannerMessageOverride;return{"margin-top":e+"px",height:this.isMobile&&!this.searchPanelCollapsed?this.windowSize.height-e+"px":"auto"}},canListAllStories(){return(0,c.hasPolicyRole)(this.currentUser,this.currentCommunity.id,this.policyRoles.doc.accessAny)},canArchiveOrTrashStories(){return(0,c.hasPolicyRole)(this.currentUser,this.currentCommunity.id,this.policyRoles.doc.archiveOrTrash)},filter(){return this.$route.params.filter||""},isPagesViewMode(){return this.$route.name.includes("pages")},displayActions(){return"trash"!==this.filter||this.canArchiveOrTrashStories},sortBy(){return this.$route.query.order||this.defaultQuery.order},canSortByScore(){return Boolean(this.$route.query.q)},lastActivityLabel(){switch(this.filter){case"":return"Status";case"archive":return"Last Activity";case"trash":return"Added to Trash"}},title(){const e=(0,l.compact)([this.storyLabel,this.filter]).join(" ");return(0,l.capitalize)(e)},storyLabel(){return this.isPagesViewMode?"pages":"stories"},titleButtonText(){let e="Back";return this.isPagesViewMode&&!this.filter&&(e+=" to dashboard"),e},displayResultsInfo(){return Boolean(this.$route.query.q)&&this.formattedQuery.length>0},resultsCount(){return 0===this.docs.length?"No results":this.pagination.total},resultsFor(){return 0===this.pagination.total?" for":(this.pagination.total>1?" results":" result")+" for"},baseQuery(){return{page:1,order:this.defaultOrder,community_id:this.currentCommunity.id,q:""}},defaultQuery(){return{page:this.$route.query.page||1,order:this.$route.query.order||this.defaultOrder,community_id:this.currentCommunity.id||this.$route.query.community_id,q:this.$route.query.q||""}},missingQueryParams(){return Object.keys(this.defaultQuery).some(e=>!this.$route.query.hasOwnProperty(e))},searchPanelClass(){return"m-dashboard__search-panel"+(this.searchPanelCollapsed?"--is-collapsed":"--is-open")},searchPhrase(){const e=[];return this.formattedQuery.forEach(t=>{"tokens"!==t.type&&"phrase"!==t.type||e.push(t.value)}),e.join(" ")},chipGroups(){let e={};return this.formattedQuery.forEach(t=>{if("tokens"===t.type||"phrase"===t.type)return;const[r,n]=t.value.split(":");e[r]?e[r].push(n):e[r]=[n]}),e}}),watch:{currentCommunity(){this.updateQuery(this.defaultQuery)},$route(e,t){(0,l.isEqual)(e,t)||this.checkParamsAndSearch(e,t)},isMobile(){this.mobileKey++,this.isMobile&&(this.searchPanelCollapsed=!0)},isSearching(){this.isSearching?this.$store.commit("appLoader/SET_LOADING",!0):this.$store.commit("appLoader/SET_LOADING",!1)}},created(){document.title="Dashboard | "+this.appName},beforeMount(){if(this.isMobile&&(this.searchPanelCollapsed=!0),!this.isMobile&&localStorage.getItem("preferredCollapse")){const e=JSON.parse(localStorage.getItem("preferredCollapse"));this.searchPanelCollapsed=e}},mounted(){this.$store.commit("appLoader/SET_LOADING",!0),this.checkParamsAndSearch(this.$route);new MutationObserver(()=>{this.selectedIndices=this.$refs.table&&this.$refs.table.selectedIndices||[]}).observe(this.$refs.table,{attributes:!0,childList:!0,subtree:!0}),this.isMobile&&(this.searchPanelCollapsed=!0),window.addEventListener("keypress",this.keyHandler)},beforeDestroy(){window.removeEventListener("keypress",this.keyHandler)},methods:{handleError(e){(0,p.reportError)(e,!1),this.$store.commit("messageBanner/PUT_NOTICE",{type:"negative",message:u.default.UNEXPECTED})},resetOrder(e,t){return t&&t.query.q&&!e.query.q&&e.query.order!==this.defaultOrder?y(y({},e.query),{},{order:this.defaultOrder}):e.query.q||"score"!==e.query.order?null:y(y({},e.query),{},{order:this.defaultOrder})},checkParamsAndSearch(e,t){let r;r=this.resetOrder(e,t),this.missingQueryParams&&(r=y(y(y({},this.defaultQuery),e.query),r)),r?this.updateQuery(r):this.search(),this.myDocs=Boolean(e.query.q)&&(e.query.q.includes("by:me")||e.query.q.includes('by:"me"'))},async search(){const e=this.getSearchParams();if(e.community_id){this.isSearching=!0;try{const{docs:t,pagination:r,formattedQuery:n}=await(0,f.searchDocs)(e,{handleError:!1});this.docs=t,this.pagination=r,this.formattedQuery=n,await this.$nextTick(),this.$refs.table&&this.$refs.table.rebuildCheckboxes(),this.isSearching=!1}catch(e){this.handleError(e),this.isSearching=!1}}},getSearchParams(){const{q:e,order:t,page:r,community_id:n}=this.$route.query;return{q:this.isPagesViewMode?e+" type:page":e,order:t||this.defaultOrder,page:r||1,schema_name:"story",community_id:n,per_page:36,archived:"archive"===this.filter,trashed:"trash"===this.filter,story_type_blocklist:this.isPagesViewMode?[]:["page"]}},paginate(e){const t=y(y({},this.$route.query),{},{page:e.detail.page});return this.updateQuery(t,!0)},onOrderChange(e){const t=y(y({},this.$route.query),{},{order:e.target.value,page:1});this.updateQuery(t)},async removeChipFromQuery(e){let t;t=this.$route.query.q.replace(e,"").trim();const r=y(y({},this.$route.query),{},{q:t,page:1});await this.updateQuery(r),this.$refs.searchPanel&&(this.$refs.searchPanel.clearSavedSearch(),this.$refs.searchPanel.goToSearchView())},async onMyDocsChange(e){let t,r;e.target.checked?(this.myDocs=!0,t=("by:me "+this.$route.query.q).trim(),r=y(y({},this.$route.query),{},{q:t,order:"score",page:1})):(this.myDocs=!1,t=this.$route.query.q.replace(/by:"?me"?\s*/,"").trim(),r=y(y({},this.$route.query),{},{q:t,page:1})),await this.updateQuery(r)},async updateQuery(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const r=this.$route.path||"/";try{t?await this.$router.push({path:r,query:e}):await this.$router.replace({path:r,query:e})}catch(e){}},async setDocAction(e,t){this.$refs.actionsBtn.toggleDropdown();const r=this.selectedIndices.map(r=>(0,this.$refs[r+"DocCell"][0].$refs.docActions[e])(t));await Promise.all(r)},updateTernaryCheckbox(){this.$refs.table.querySelector(".res-checkbox[ternary]").setupTernaryFollowers()},setFilter(e){const t=this.isPagesViewMode?"/pages/"+e:e,r=y(y({},this.defaultQuery),{},{page:1});this.$router.push({path:t,query:r}),document.body.scrollTo(0,0)},back(){const e=this.isPagesViewMode&&this.filter?"/pages":"/";this.$router.push({path:e,query:this.defaultQuery}),document.body.scrollTo(0,0)},toggleSearchPanel(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;null!==e&&localStorage.setItem("preferredCollapse",e),this.searchPanelCollapsed=!this.searchPanelCollapsed},keyHandler(e){switch(e.key){case"/":this.searchPanelCollapsed?(this.searchPanelCollapsed=!1,e.preventDefault()):"INPUT"!==document.activeElement.tagName&&(this.$refs.searchPanel.focusKeywordInput(),e.preventDefault())}},setSavedSearchName(e){this.savedSearchName=e}}};t.default=b,e.exports=t.default},fsDA:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={};t.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=s(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e,r&&r.set(e,n);return n}(r("7HDv"));Object.keys(a).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(n,e)||e in t&&t[e]===a[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}}))}));var o,i=r("x8ox");function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(s=function(e){return e?r:t})(e)}var u=(0,((o=r("JFUb"))&&o.__esModule?o:{default:o}).default)(a.default,i.render,i.staticRenderFns,!1,null,null,null).exports;t.default=u,e.exports=t.default},ftGw:function(e,t,r){"use strict";r.r(t),r.d(t,"render",(function(){return n})),r.d(t,"staticRenderFns",(function(){return a}));var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{ref:"autocompleteInputWrap",staticClass:"m-autocomplete"},[r("res-input",[r("label",{attrs:{for:e.trimString(e.fieldLabel)}},[e._v(e._s(e.fieldLabel))]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.currentInput,expression:"currentInput",modifiers:{trim:!0}}],ref:"autocompleteInput",attrs:{placeholder:e.inputPlaceholder||e.fieldLabel,id:e.trimString(e.fieldLabel),type:"text",autocomplete:"off"},domProps:{value:e.currentInput},on:{input:function(t){t.target.composing||(e.currentInput=t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),e._v(" "),e.searching?r("res-icon",{attrs:{name:"more",size:"small"}}):e._e()],1),e._v(" "),r("ul",{directives:[{name:"show",rawName:"v-show",value:e.mappedResults.length,expression:"mappedResults.length"}],ref:"autocompleteInputResults",staticClass:"m-autocomplete__input__menu",attrs:{role:"listbox"}},e._l(e.mappedResults,(function(t,n){return r("li",{key:n+"-"+t.id,class:e.focusIndex===n?"m-autocomplete__result--focused":"",attrs:{id:t.id,disabled:0===t.id,title:t.name,tabindex:e.focusIndex===n?0:-1,role:"option"},on:{click:function(r){return e.addOpt(t)}}},[e._v("\n      "+e._s(t.name)+e._s("SUPER_GROUP"===t.type?" (Super group)":"")+"\n    ")])})),0),e._v(" "),e.currentSelections.length?r("div",{staticClass:"m-chip__container"},e._l(e.currentSelections,(function(t,n){return r("chip",{key:n+"-"+e.trimString(t.name),attrs:{chipId:t.id,chipLabel:t.name},on:{removeSelection:e.removeSelection}})})),1):e._e()],1)},a=[]},gWih:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(r("lTCR")),a=r("ojZi"),o=r("kgc9"),i=r("L2JU");function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var d={components:{Chip:s(r("WNFn")).default},props:{fieldLabel:{type:String,required:!0},inputPlaceholder:{type:String,default:null},queryType:{type:String,required:!0},value:{type:Array,default:()=>[]},minSearchTextLength:{type:Number,default:3}},data:()=>({mappedResults:[],currentInput:"",searchInput:"",currentSelections:[],searching:!1,focusIndex:-1}),computed:c(c({},(0,i.mapState)(["currentCommunity"])),{},{communityId(){return this.currentCommunity.id}}),apollo:{currentOptions:{query(){switch(this.queryType){case"contributors":return n.default`${a.SearchContributors}`;case"groups":return n.default`${o.SearchGroups}`;case"packages":return}},variables(){switch(this.queryType){case"contributors":case"groups":return{text:this.searchInput,communityId:this.communityId};case"packages":return}},skip(){return!this.searchInput},debounce:500}},watch:{currentOptions(){this.currentOptions.results&&this.mapResults()},currentInput(){this.currentInput?this.currentInput.length<this.minSearchTextLength?("me"!==this.currentInput&&"Me"!==this.currentInput||(this.mappedResults=[{id:"me",name:"me"}]),this.searching=!1):(this.searching=!0,this.searchInput=this.currentInput):(this.searching=!1,this.clearInput())},mappedResults(){this.mappedResults.length?(this.searching=!1,setTimeout(this.addClickListeners(),200)):this.removeClickListeners()},value(){this.currentSelections=this.value.map(this.formatOption)}},beforeDestroy(){this.removeClickListeners()},methods:{updateValue(){var e=this.currentSelections.map(e=>e.name);this.$emit("input",e)},trimString:e=>e.replace(/[^\w\s]/gi,"").replace(/\s+/g,"").toLowerCase(),clearInput(){this.currentInput="",this.currentOptions={},this.searchInput="",this.mappedResults=[],this.focusIndex=-1,this.removeClickListeners()},addClickListeners(){window.addEventListener("click",this.onClickOut),this.$refs.autocompleteInputWrap.addEventListener("keydown",this.handleKeydown)},removeClickListeners(){window.removeEventListener("click",this.onClickOut),this.$refs.autocompleteInputWrap.removeEventListener("keydown",this.handleKeydown)},addOpt(e){if(0===e.id)return;!this.currentSelections.find(t=>t.id===e.id)&&(this.currentSelections.push(e),this.updateValue()),this.clearInput()},removeSelection(e){let t,r=this.currentSelections;for(t=0;t<r.length;t++)r[t].id===e&&(r.splice(t,1),t--);this.updateValue()},onClickOut(e){this.$refs.autocompleteInput.contains(e.target)||this.$refs.autocompleteInputResults.contains(e.target)||(this.searching=!1,this.clearInput())},mapResults(){this.currentOptions.results&&this.currentOptions.results.length?this.mappedResults=this.currentOptions.results.map(this.formatOption):this.mappedResults=[{id:0,name:"No results found"}]},formatOption(e){let t;return t="string"==typeof e?{name:e.replaceAll('"',"")}:c({},e),t.id=this.trimString(t.name),t},handleKeydown(e){const t=()=>e.preventDefault();switch(e.which){case 9:t(),this.searching=!1,this.clearInput();break;case 13:t(),this.selectItemByIndex(this.focusIndex);break;case 27:t(),this.searching=!1,this.clearInput();break;case 38:t(),this.setFocus(this.focusIndex-1);break;case 40:t(),this.setFocus(this.focusIndex+1)}},selectItemByIndex(e){-1===e&&(e=0);const t=this.mappedResults[e];t&&(this.addOpt(t),this.$refs.autocompleteInput.focus())},setFocus(e){if(this.mappedResults.length){this.focusIndex=Math.max(0,Math.min(e,this.mappedResults.length-1));Array.from(this.$refs.autocompleteInputResults.children)[this.focusIndex].focus()}else this.focusIndex=-1}}};t.default=d,e.exports=t.default},gzEu:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={};t.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=s(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e,r&&r.set(e,n);return n}(r("uaWY"));Object.keys(a).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(n,e)||e in t&&t[e]===a[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}}))}));var o,i=r("agH8");function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(s=function(e){return e?r:t})(e)}var u=(0,((o=r("JFUb"))&&o.__esModule?o:{default:o}).default)(a.default,i.render,i.staticRenderFns,!1,null,null,null).exports;t.default=u,e.exports=t.default},hKl9:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={};t.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=s(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e,r&&r.set(e,n);return n}(r("dsbL"));Object.keys(a).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(n,e)||e in t&&t[e]===a[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}}))}));var o,i=r("G87O");function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(s=function(e){return e?r:t})(e)}var u=(0,((o=r("JFUb"))&&o.__esModule?o:{default:o}).default)(a.default,i.render,i.staticRenderFns,!1,null,null,null).exports;t.default=u,e.exports=t.default},hb94:function(e,t){var r={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"CurrentCommunity"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"community"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"slug"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"domain"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"schemaDomain"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"faviconUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"timeZone"},arguments:[],directives:[]},{kind:"Field",alias:{kind:"Name",value:"featuresEnabled"},name:{kind:"Name",value:"siteConfigBoolean"},arguments:[{kind:"Argument",name:{kind:"Name",value:"key"},value:{kind:"StringValue",value:"features_enabled",block:!1}}],directives:[]},{kind:"Field",alias:{kind:"Name",value:"printSlugEnabled"},name:{kind:"Name",value:"siteConfigBoolean"},arguments:[{kind:"Argument",name:{kind:"Name",value:"key"},value:{kind:"StringValue",value:"print_slug_enabled",block:!1}}],directives:[]},{kind:"Field",alias:{kind:"Name",value:"svgLogo"},name:{kind:"Name",value:"siteConfigString"},arguments:[{kind:"Argument",name:{kind:"Name",value:"key"},value:{kind:"StringValue",value:"svg_small_mark_full_color",block:!1}}],directives:[]},{kind:"Field",alias:{kind:"Name",value:"hasImagePlaceholder"},name:{kind:"Name",value:"hasSiteConfig"},arguments:[{kind:"Argument",name:{kind:"Name",value:"key"},value:{kind:"StringValue",value:"replacement_image_url",block:!1}},{kind:"Argument",name:{kind:"Name",value:"type"},value:{kind:"StringValue",value:"string",block:!1}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"network"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"slug"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"schemaDomain"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"organization"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"slug"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:557}};r.loc.source={body:'query CurrentCommunity($id: Int!) {\n  community(id: $id) {\n    id\n    name\n    slug\n    url\n    domain\n    schemaDomain\n    faviconUrl\n    timeZone\n    featuresEnabled: siteConfigBoolean(key: "features_enabled")\n    printSlugEnabled: siteConfigBoolean(key: "print_slug_enabled")\n    svgLogo: siteConfigString(key: "svg_small_mark_full_color")\n    hasImagePlaceholder: hasSiteConfig(key: "replacement_image_url", type: "string")\n    network {\n      id\n      name\n      slug\n      schemaDomain\n      organization {\n        id\n        slug\n      }\n    }\n  }\n}\n',name:"GraphQL request",locationOffset:{line:1,column:1}};var n={};function a(e,t){for(var r=0;r<e.definitions.length;r++){var n=e.definitions[r];if(n.name&&n.name.value==t)return n}}r.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,r){if("FragmentSpread"===t.kind)r.add(t.name.value);else if("VariableDefinition"===t.kind){var n=t.type;"NamedType"===n.kind&&r.add(n.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,r)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,r)})),t.definitions&&t.definitions.forEach((function(t){e(t,r)}))}(e,t),n[e.name.value]=t}})),e.exports=r,e.exports.CurrentCommunity=function(e,t){var r={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(r.loc=e.loc);var o=n[t]||new Set,i=new Set,s=new Set;for(o.forEach((function(e){s.add(e)}));s.size>0;){var u=s;s=new Set,u.forEach((function(e){i.has(e)||(i.add(e),(n[e]||new Set).forEach((function(e){s.add(e)})))}))}return i.forEach((function(t){var n=a(e,t);n&&r.definitions.push(n)})),r}(r,"CurrentCommunity")},iUff:function(e,t,r){"use strict";const{sortBy:n}=r("LvDl");e.exports=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=e.reduce((e,t)=>{let r=t.community,n=r.network,a=e.findIndex(e=>{let{id:t}=e;return t===n.id});return a>-1?e[a].communities.push(r):e.push({id:n.id,name:n.name,logo:n.svgLogo,communities:[r]}),e},[]);return n(t,"name")}},j3fI:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={};t.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=s(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e,r&&r.set(e,n);return n}(r("c1be"));Object.keys(a).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(n,e)||e in t&&t[e]===a[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}}))}));var o,i=r("EK5S");function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(s=function(e){return e?r:t})(e)}var u=(0,((o=r("JFUb"))&&o.__esModule?o:{default:o}).default)(a.default,i.render,i.staticRenderFns,!1,null,null,null).exports;t.default=u,e.exports=t.default},jfF0:function(e,t,r){"use strict";r.r(t),r.d(t,"render",(function(){return n})),r.d(t,"staticRenderFns",(function(){return a}));var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{class:"m-nav-mobile "+e.activeMobileNavClass},[r("button",{attrs:{type:"button"},on:{click:function(t){return e.toggleMobileNav()}}},[r("div",{staticClass:"bar"}),e._v(" "),r("div",{staticClass:"bar"}),e._v(" "),r("div",{staticClass:"bar"})])]),e._v(" "),r("div",{class:"m-nav-mobile--menu "+e.activeMobileNavClass,style:e.activeMobileNavHeightStyle},[r("div",{staticClass:"m-nav-mobile--menu__top"},[r("h1",[e._v(e._s(e.currentDoc.title))]),e._v(" "),r("help-toggle",{attrs:{isMobile:e.isMobile}})],1),e._v(" "),r("div",{staticClass:"m-nav-mobile--menu__community"},[r("community-lockup",{attrs:{communityId:e.communityId,isMobile:e.isMobile}})],1),e._v(" "),r("nav",{staticStyle:{background:"white"}},e._l(e.navLinks,(function(t){return r("a",{key:t.label,class:e.pageActive(t.name,t.label.toLowerCase()),attrs:{href:"/"+t.label.toLowerCase()+"/"+e.currentDoc.uuid,type:"button"}},[e._v("\n        "+e._s(t.label)+"\n      ")])})),0),e._v(" "),r("div",{class:"m-nav-mobile--menu__status "+(e.connectedUsers.length>1?"m-nav-mobile--menu__status--active":"")},[r("div",{staticClass:"m-nav-mobile__user-status"},[r("user-status")],1),e._v(" "),r("div",{staticClass:"m-nav-mobile__icon-cont"},[r("status-icon"),e._v(" "),r("span",{class:"m-status m-status--"+e.currentDoc.status.toLowerCase()},[e._v(e._s(e.formattedDocStatus))])],1)])])])},a=[]},jmbI:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=m(r("Q6Xn")),a=m(r("eD2k")),o=m(r("AUQt")),i=m(r("WxQR")),s=m(r("Lly2")),u=m(r("a62e")),c=m(r("AUH+")),l=m(r("Dh7P")),d=m(r("f0Wu")),p=r("L2JU"),f=r("K5N4");function m(e){return e&&e.__esModule?e:{default:e}}function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach((function(t){v(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function v(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var b={components:{DocCellActivity:a.default,DocCellActions:n.default},props:{doc:{type:Object,required:!0,default:()=>({})},filter:{type:String,default:""},displayActions:{type:Boolean,default:!1},canArchiveOrTrashStories:{type:Boolean,default:!1},updateTernaryCheckbox:{type:Function,default:()=>{}}},data(){return{isPackage:(0,c.default)(this.doc.head.contents),isMapstack:(0,u.default)(this.doc.head.contents),isStream:(0,l.default)(this.doc.head.contents),isLinkPost:(0,s.default)(this.doc.head.contents),isCustomstory:(0,i.default)(this.doc.head.contents),title:this.doc.title,tableActivityHeading:"Actions",isLeaving:!1}},computed:y(y({},(0,p.mapState)({user:e=>e.currentUser,community:e=>e.currentCommunity,network:e=>e.network,entitlements:e=>e.entitlements,dateFormat:e=>e.dateFormat})),{},{docUrl(){return this.isCustomstory?"/customstory/"+this.doc.uuid:"/compose/"+this.doc.uuid},contributorsForDoc(){if(this.isPackage)return this.network.name+" staff";const e=this.doc.contributors||[];if(!e.length)return this.doc.owner.fullName;const t=e.slice(0,2),r=e.slice(2);let n=t.map(e=>e.fullOrUserName).join(", ");return r.length>0&&(n=`${n} +${r.length}`),n},printSlug(){return(0,f.toPlaintext)(this.doc.head.contents.print_slug)},lastSentToPrintAt(){const e=(0,o.default)(this.doc.head.contents.publish_history,"sent_to_print");if(e){const t=this.user.timeZone||this.community.timeZone;return d.default.tz(e,t).format(this.dateFormat+"[ at ]h:mma")}return null}}),watch:{filter(){this.isLeaving=!1}},methods:{onMoveCompleted(e){this.isLeaving=e;const t=this.$refs.row.querySelector("res-checkbox");this.isLeaving?(t.checked=!1,t.style.display="none"):t.style.display="",this.updateTernaryCheckbox()}}};t.default=b,e.exports=t.default},"k/aP":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={};t.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=s(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e,r&&r.set(e,n);return n}(r("YnlO"));Object.keys(a).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(n,e)||e in t&&t[e]===a[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}}))}));var o,i=r("HcXc");function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(s=function(e){return e?r:t})(e)}var u=(0,((o=r("JFUb"))&&o.__esModule?o:{default:o}).default)(a.default,i.render,i.staticRenderFns,!1,null,null,null).exports;t.default=u,e.exports=t.default},k0zk:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toggleArchived=async function(e){const t=!e.archived;return await(0,n.updateDoc)(e.id,{archived:t})},t.updateTrashedAt=async function(e,t){const r=e.head.contents.trashed_at,i=r?null:(new Date).toISOString();i&&"SCHEDULED"===e.status&&await(0,o.unscheduleDoc)(e,t);const s=await(0,n.updateDoc)(e.id,{delta:[{p:["trashed_at"],od:r,oi:i}]});return await(0,a.updateEntryFlags)(e,{trashed_at:i},!1),s};var n=r("SiKE"),a=r("4mBr"),o=r("Tmdh")},k4q3:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,a=r("L2JU"),o=(n=r("f/5d"))&&n.__esModule?n:{default:n},i=r("LvDl");function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){c(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var l={components:{AutocompleteInput:o.default},props:{isCollapsed:{type:Boolean,default:!1,required:!0},isSearching:{type:Boolean,default:!1,required:!0},updateQuery:{type:Function,default:()=>{},required:!0},closeSearchPanel:{type:Function,default:()=>{},required:!0},defaultQuery:{type:Object,default:()=>({}),required:!0},formattedQuery:{type:Array,default:()=>[]},openCreateModal:{type:Function,default:()=>{},required:!0},setSavedSearchName:{type:Function,default:()=>{},required:!0},currentSavedSearch:{type:Object,default:()=>({}),required:!0},showSaveButton:{type:Boolean,default:!0}},data:()=>({checkboxKey:1,keyword:"",groupList:[],statuses:[{name:"draft",label:"Draft",checked:!1},{name:"submitted",label:"Submitted",checked:!1},{name:"approved",label:"Approved",checked:!1},{name:"embargoed",label:"Embargoed",checked:!1},{name:"scheduled",label:"Scheduled",checked:!1},{name:"published",label:"Published",checked:!1},{name:"updated",label:"Unpublished changes",checked:!1}],pageStatuses:[{name:"draft",label:"Draft",checked:!1},{name:"scheduled",label:"Scheduled",checked:!1},{name:"published",label:"Published",checked:!1},{name:"updated",label:"Unpublished changes",checked:!1}],dateOperator:"on",dateString:"",storyTypes:[{name:"story",label:"Story",checked:!1},{name:"stream",label:"Stream",checked:!1},{name:"link",label:"Link",checked:!1},{name:"feature",label:"Feature",checked:!1},{name:"package",label:"Package",checked:!1},{name:"mapstack",label:"Mapstack",checked:!1},{name:"customstory",label:"Custom story",checked:!1}],fields:["keyword","group","status","date","contributors","type"],contributorList:[],lastSearchedFormValues:{}}),computed:u(u(u({},(0,a.mapState)(["entitlements","isMobile","modalId","currentCommunity"])),(0,a.mapGetters)(["readOnly"])),{},{emptyForm(){return this.fields.every(e=>!this[e])},group(){return this.groupList.map(e=>`group:"${e}"`).join(" ")},status(){return("pages"===this.currentPage?this.pageStatuses:this.statuses).reduce((e,t)=>(t.checked&&e.push("status:"+t.name),e),[]).join(" ")},type(){return this.storyTypes.reduce((e,t)=>(t.checked&&e.push("type:"+t.name),e),[]).join(" ")},date(){if(this.dateString){const e=new Date(this.dateString).toLocaleDateString("en-US");return`${this.dateOperator}:${e}`}return null},typeAccess(){const e=["story","stream","link"];return this.currentCommunity.headlessModeEnabled||e.push("feature"),this.entitlements&&(this.entitlements.includes("use_packages")&&e.push("package"),this.entitlements.includes("use_mapstacks")&&e.push("mapstack"),this.entitlements.includes("use_customstories")&&e.push("customstory")),e},contributors(){if(this.contributorList.length<1)return"";let e=[];return this.contributorList.forEach(t=>{e.push(`by:"${t}"`)}),e.join(" ")},currentPage(){return this.$route.path.slice(1)},currentFormValues(){return this.getFormValues()},formStateChanged(){return!(0,i.isEqual)(this.lastSearchedFormValues,this.currentFormValues)},disableSearchButton(){return this.emptyForm||this.isSearching||!this.formStateChanged},disableSaveButton(){return this.emptyForm||this.isSearching||!this.allowSaving||this.formStateChanged||this.readOnly},allowSaving(){return!Object.keys(this.lastSearchedFormValues).every(e=>(0,i.isEmpty)(this.lastSearchedFormValues[e]))}}),watch:{emptyForm(){this.emptyForm&&this.formattedQuery.length>0&&this.updateQuery(this.defaultQuery)},formattedQuery(){this.populateFields(this.formattedQuery)},isCollapsed(){this.isCollapsed||this.$nextTick(()=>this.$refs.keywordInput.focus())},formStateChanged(e){e&&this.currentSavedSearch.searchId&&this.setSavedSearchName("")}},methods:{onSearchSubmit(){if(this.disableSearchButton)return;const e=u(u({},this.$route.query),{},{q:this.buildSearchQuery(),order:"score",page:1});this.updateQuery(e),this.isMobile&&this.closeSearchPanel()},buildSearchQuery(){return this.fields.reduce((e,t)=>(this[t]&&e.push(this[t]),e),[]).join(" ")},clearSearch(){this.clearSearchFields(),this.isMobile&&this.closeSearchPanel(),this.updateQuery(this.defaultQuery),this.updateLastSearchedFormValues()},clearSearchFields(){const e=this.pageStatuses.map(e=>({name:e.name,label:e.label,checked:!1})),t=this.statuses.map(e=>({name:e.name,label:e.label,checked:!1})),r=this.storyTypes.map(e=>({name:e.name,label:e.label,checked:!1}));this.pageStatuses=e,this.statuses=t,this.storyTypes=r,this.checkboxKey++,this.keyword="",this.groupList=[],this.updateDateOperator("on"),this.dateString="",this.contributorList=[]},populateFields(e){const t=[];this.clearSearchFields(),e.forEach(e=>{if("tokens"===e.type||"phrase"===e.type)t.push(e.value);else{const[r,n]=e.value.split(":");switch(r){case"status":"pages"===this.currentPage?this.pageStatuses.forEach((e,t)=>{e.name===n&&this.$set(this.pageStatuses[t],"checked",!0)}):this.statuses.forEach((e,t)=>{e.name===n&&this.$set(this.statuses[t],"checked",!0)}),this.checkboxKey++;break;case"type":this.storyTypes.forEach((e,t)=>{e.name===n&&this.$set(this.storyTypes[t],"checked",!0)}),this.checkboxKey++;break;case"on":case"before":case"after":this.updateDateOperator(r),this.dateString=n;break;case"by":this.contributorList.push(n.replace(/"/gi,""));break;case"group":this.groupList.push(n.replace(/"/gi,""));break;default:t.push(e.value)}}}),this.keyword=t.join(" "),this.updateLastSearchedFormValues()},updateDateOperator(e){this.dateOperator=e,this.$refs[e].dispatchEvent(new Event("change"))},getFormValues(){return this.fields.reduce((e,t)=>(e[t]=this[t],e),{})},updateLastSearchedFormValues(){this.lastSearchedFormValues=this.getFormValues()}}};t.default=l,e.exports=t.default},k9NW:function(e,t,r){"use strict";function n(e){Error.call(this),Error.captureStackTrace(this,n),this.docId=e.id,this.entryId=e.entry_id,this.message="Community mismatch between Content API doc and SBN entry"}r("MCLT").inherits(n,Error),n.prototype.name="CommunityMismatchError",n.prototype.status=500,e.exports=n},kDsS:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={};t.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=s(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e,r&&r.set(e,n);return n}(r("fnaE"));Object.keys(a).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(n,e)||e in t&&t[e]===a[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}}))}));var o,i=r("UGSD");function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(s=function(e){return e?r:t})(e)}var u=(0,((o=r("JFUb"))&&o.__esModule?o:{default:o}).default)(a.default,i.render,i.staticRenderFns,!1,null,null,null).exports;t.default=u,e.exports=t.default},kTi9:function(e,t,r){"use strict";e.exports=function(e){let t=Date.now(),r=Date.parse(e.draft.coverage_start_time),n=Date.parse(e.draft.coverage_end_time);return(e=>{let{now:t,start:r}=e;return t>r})({now:t,start:r})&&!(e=>{let{now:t,end:r}=e;return r&&t>r})({now:t,end:n})}},kgc9:function(e,t){var r={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"SearchGroups"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"text"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"communityId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"currentOptions"},name:{kind:"Name",value:"searchEntryGroups"},arguments:[{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"text"},value:{kind:"Variable",name:{kind:"Name",value:"text"}}},{kind:"ObjectField",name:{kind:"Name",value:"communityId"},value:{kind:"Variable",name:{kind:"Name",value:"communityId"}}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"results"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:204}};r.loc.source={body:"query SearchGroups($text: String!, $communityId: Int!) {\n  currentOptions: searchEntryGroups(query: {\n    text: $text,\n    communityId: $communityId\n  }) {\n    results {\n      type\n      name\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var n={};function a(e,t){for(var r=0;r<e.definitions.length;r++){var n=e.definitions[r];if(n.name&&n.name.value==t)return n}}r.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,r){if("FragmentSpread"===t.kind)r.add(t.name.value);else if("VariableDefinition"===t.kind){var n=t.type;"NamedType"===n.kind&&r.add(n.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,r)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,r)})),t.definitions&&t.definitions.forEach((function(t){e(t,r)}))}(e,t),n[e.name.value]=t}})),e.exports=r,e.exports.SearchGroups=function(e,t){var r={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(r.loc=e.loc);var o=n[t]||new Set,i=new Set,s=new Set;for(o.forEach((function(e){s.add(e)}));s.size>0;){var u=s;s=new Set,u.forEach((function(e){i.has(e)||(i.add(e),(n[e]||new Set).forEach((function(e){s.add(e)})))}))}return i.forEach((function(t){var n=a(e,t);n&&r.definitions.push(n)})),r}(r,"SearchGroups")},kh36:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var r=h(e,t);return m(r.url,r.reqOpts,r.opts)};const{merge:n,omit:a}=r("LvDl"),o=r("Qyje"),i=r("cfah"),s=r("Xbgq"),u=r("lvH+"),{reportError:c}=r("q1SX"),l=r("Fw7v"),d={};function p(e){if(e.ok)return e;var t=new s("Response status not within range: "+e.status,e);return Promise.reject(t)}function f(e,t,r){return r?{data:t,headers:e.headers}:t}function m(e,t,r){let n=function(e,t){let{method:r,body:n}=t,a=e;r&&"GET"!==r&&n&&(a+=l(n));return a}(e,t);return r.cache&&!r.force&&n in d?Promise.resolve(d[n]):fetch(e,t).then(p).then(e=>{return n=e,a=t.headers.Accept,o=r.withHeaders,204===n.status?Promise.resolve():"text/html"===a?n.text().then(e=>f(n,e,o)):n.json().then(e=>f(n,e,o));var n,a,o}).then(e=>(r.cache&&(d[n]=e),e)).catch(n=>function(e,t,r,n){var a=e.response&&e.response.status;if(n.retry&&n.retry.delay<n.retry.maxDelay&&(!a||502===a||503===a)){var{retry:o}=n,s=Math.min(o.delay+1e3,o.maxDelay);return o.delay=s,i(s).then(()=>m(t,r,n))}return n.handleError&&(window.app&&window.app.state?u.showError():(console.warn("An unexpected error occurred while making a request, but the app is not able to display it"),c(e,!1))),Promise.reject(e)}(n,e,t,r))}function h(e,t){var r={credentials:"include",headers:{Accept:"application/json"}},i={handleError:!0,cache:!1,retry:{delay:0,maxDelay:3e3}},s=t.opts||{},u=a(t,"opts");return u.method&&"GET"!==u.method.toUpperCase()&&(r.headers["Content-Type"]="application/json"),u.query&&(e=e+"?"+o.stringify(u.query),delete u.query),u.body&&"string"!=typeof u.body&&(u.body=JSON.stringify(u.body)),!1===u.credentials&&(delete r.credentials,delete u.credentials),s.retry||(i.retry=!1),"boolean"==typeof s.retry&&delete s.retry,{url:e,opts:n(i,s),reqOpts:n(r,u)}}e.exports=t.default},knw4:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;class n extends Error{constructor(e){super(e),this.name="NotFoundError"}}t.default=n,e.exports=t.default},lRlg:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=c(r("oRyF")),a=c(r("NyHj")),o=c(r("kTi9")),i=r("L2JU"),s=c(r("f0Wu")),u=c(r("AUQt"));function c(e){return e&&e.__esModule?e:{default:e}}function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){p(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var f={props:{doc:{type:Object,required:!0,default:()=>({})},filter:{type:String,default:""}},data(){return{activityIconClass:"m-dashboard__table__activity__icon "+this.doc.status.toLowerCase(),docStatus:(0,n.default)(a.default[this.doc.status]),isPublishedOrScheduled:["PUBLISHED","UPDATED","SCHEDULED"].includes(this.doc.status),isLivePost:(0,o.default)(this.doc.head.contents)}},computed:d(d({},(0,i.mapState)(["currentUser","currentCommunity","dateFormat","network"])),{},{showHiddenBadge(){return this.doc.head.contents.hidden&&this.isPublishedOrScheduled},showExpirationBadge(){return this.doc.head.contents.expiration_scheduled_for&&!this.doc.head.contents.hidden&&this.isPublishedOrScheduled},userTimezone(){return this.currentUser.timeZone||this.currentCommunity.timeZone},statusDateTime(){return s.default.tz(this.statusDate,this.userTimezone)},fullDate(){const e=this.dateFormat+"[ at ]h:mma z";return this.statusDateTime.format(e)},now(){return s.default.tz((0,s.default)(),this.userTimezone)},datePrefix(){const e=this.doc.status,t=this.now.diff(this.statusDateTime,"days");return this.statusDate?"SCHEDULED"===e?"for":"UPDATED"===e?"from":"DRAFT"===e?t<8?"modified":"modified on":"PUBLISHED"===e||t>8?"on":"":""},statusDate(){const e=this.doc.head.contents.publish_history;switch(this.doc.status){case"DRAFT":case"UPDATED":return(0,u.default)(e,["legacy_updated_at"])||this.doc.updated_at;case"APPROVED":return(0,u.default)(e,["approved"]);case"SCHEDULED":return this.doc.head.contents.publish_scheduled_for;case"SUBMITTED":return(0,u.default)(e,["submitted"]);case"PUBLISHED":return(0,u.default)(e,["published","published_via_schedule","backdated"])}},hideScheduledMessage(){const e=this.doc.head.contents.expiration_scheduled_for,t=s.default.tz((0,s.default)(),this.userTimezone),r=-1*t.diff(e,"minutes"),n=-1*t.diff(e,"hours"),a=-1*t.diff(e,"days"),o=-1*t.diff(e,"years");if(o>=1){return`Hide in ${o} ${1===o?"year":"years"}`}if(a>=1){return`Hide in ${a} ${1===a?"day":"days"}`}if(n>=1){return`Hide in ${n} ${1===n?"hour":"hours"}`}return`Hide in ${r} ${1===r?"minute":"minutes"}`}}),methods:{timeAgo(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const t=e?s.default.tz(e,this.userTimezone):this.statusDateTime;if(this.displayRelative(t)){let e=this.getDiffUnit(t);if("now"===e)return"just now";{const r=this.now.diff(t,e);return e=1===r?e.substring(0,e.length-1):e,`${r} ${e} ago`}}return t.format(this.dateFormat+"[ at ]h:mma z")},displayRelative(e){const t=Boolean(this.filter),r=this.now.diff(e,"days");return t||r<8},getDiffUnit(e){return 0===this.now.diff(e,"minutes")?"now":this.now.diff(e,"minutes")<60?"minutes":this.now.diff(e,"hours")<24?"hours":"days"}}};t.default=f,e.exports=t.default},ljzP:function(e,t,r){"use strict";r.r(t),r.d(t,"render",(function(){return n})),r.d(t,"staticRenderFns",(function(){return a}));var n=function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"m-nav m-nav__root"},[t("banner-message"),this._v(" "),t("nav",{staticClass:"m-nav m-nav--editor m-nav--editor__vue"},[this.isMobile?t("editor-mobile-subnav",{attrs:{navLinks:this.navLinks,pageActive:this.pageActive}}):t("editor-subnav",{attrs:{navLinks:this.navLinks,pageActive:this.pageActive}})],1)],1)},a=[]},"lvH+":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.removeMessage=function(e){var t=u(e);app.state.select(["messages"]).splice([t,1])},t.showError=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.UNEXPECTED;var t=app.state.get(["messages"]).some(e=>e.isError);t||s({message:e,type:"negative",isError:!0})},t.showMessage=s;var{defaults:n}=r("LvDl"),a=r("Fw7v"),o=r("6fkZ");const i={dismissible:!0,type:"negative"};function s(e){var t=a(e.message);return-1===u(t)&&function(e){if(!e.id)return!0;var t="message-"+e.id;if("shown"===window.localStorage.getItem(t))return!1;return window.localStorage.setItem(t,"shown"),!0}(e)&&(e.id=t,e=n(e,i),app.state.select(["messages"]).push(e)),t}function u(e){return app.state.get(["messages"]).findIndex(t=>t.id===e)}},mKD4:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.replace(/^(https?:\/\/|mailto:)/,"").split("/")[0],r=/,/.test(t),a=/(%20)/.test(t),o=/^file:\/\//.test(e);return n.test(e)&&!/\s/g.test(e)&&!r&&!a&&!o},t.isValidUrlWithSlash=function(e){return/\w\.[^\s]+\//.test(e)};const n=/\w\.[^\s]+/},mMcG:function(e,t,r){"use strict";var{get:n}=r("LvDl");e.exports=function(e){var t=e.ops.reduce((function(e,t){return"string"!=typeof t.insert||n(t,["attributes","mark"])?e:e+t.insert}),"").trim().match(/\S+/g);return t?t.length:0}},maTt:function(e,t){var r={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"CurrentUser"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdOn"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fullOrUserName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"timeZone"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"networkRoles"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"memberships"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"roles"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"community"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"faviconUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"network"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",alias:{kind:"Name",value:"svgLogo"},name:{kind:"Name",value:"siteConfigString"},arguments:[{kind:"Argument",name:{kind:"Name",value:"key"},value:{kind:"StringValue",value:"svg_small_mark_full_color",block:!1}}],directives:[]}]}}]}}]}}]}}]}}],loc:{start:0,end:366}};r.loc.source={body:'query CurrentUser {\n  currentUser {\n    id\n    createdOn\n    fullOrUserName\n    email\n    timeZone\n    networkRoles\n    memberships {\n      roles\n      status\n      community {\n        id\n        name\n        faviconUrl\n        network {\n          id\n          name\n          svgLogo: siteConfigString(key: "svg_small_mark_full_color")\n        }\n      }\n    }\n  }\n}\n',name:"GraphQL request",locationOffset:{line:1,column:1}};var n={};function a(e,t){for(var r=0;r<e.definitions.length;r++){var n=e.definitions[r];if(n.name&&n.name.value==t)return n}}r.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,r){if("FragmentSpread"===t.kind)r.add(t.name.value);else if("VariableDefinition"===t.kind){var n=t.type;"NamedType"===n.kind&&r.add(n.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,r)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,r)})),t.definitions&&t.definitions.forEach((function(t){e(t,r)}))}(e,t),n[e.name.value]=t}})),e.exports=r,e.exports.CurrentUser=function(e,t){var r={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(r.loc=e.loc);var o=n[t]||new Set,i=new Set,s=new Set;for(o.forEach((function(e){s.add(e)}));s.size>0;){var u=s;s=new Set,u.forEach((function(e){i.has(e)||(i.add(e),(n[e]||new Set).forEach((function(e){s.add(e)})))}))}return i.forEach((function(t){var n=a(e,t);n&&r.definitions.push(n)})),r}(r,"CurrentUser")},nKbw:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={};t.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=s(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e,r&&r.set(e,n);return n}(r("LlNF"));Object.keys(a).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(n,e)||e in t&&t[e]===a[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}}))}));var o,i=r("2LBz");function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(s=function(e){return e?r:t})(e)}var u=(0,((o=r("JFUb"))&&o.__esModule?o:{default:o}).default)(a.default,i.render,i.staticRenderFns,!1,null,null,null).exports;t.default=u,e.exports=t.default},nwdn:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={};t.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=s(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e,r&&r.set(e,n);return n}(r("O7Kv"));Object.keys(a).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(n,e)||e in t&&t[e]===a[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}}))}));var o,i=r("0aKW");function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(s=function(e){return e?r:t})(e)}var u=(0,((o=r("JFUb"))&&o.__esModule?o:{default:o}).default)(a.default,i.render,i.staticRenderFns,!1,null,null,null).exports;t.default=u,e.exports=t.default},oNRi:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){switch(e.schema_name){case"story":return(0,s.default)(e.head.contents)?function(){const e=d();return e.draft.hide_from_amp=!0,e}():d(t,e.community);case"gallery":return{title:(0,o.default)("Untitled"),images:[],image_history:[]};case"aside":return{title:(0,o.default)("Untitled"),body:(0,o.default)("")};case"table":return{title:(0,o.default)("Untitled"),credit:(0,o.default)(""),caption:(0,o.default)(""),columns:[],rows:[],sort_column:0,sort_descending:!1,searchable:!1,sortable:!1,per_page:0,google_spreadsheet_url:"",upload_filename:"",style:"table"};case"poll":return{title:(0,o.default)(""),options:[{uuid:a.default.v4(),value:(0,o.default)("")}],close_date:(0,n.default)().add(2,"weeks").toISOString()};case"scorecard":return function(e){var t={title:(0,o.default)("Untitled")};switch(e.head.contents.type){case"product":t.pros=(0,o.default)(""),t.cons=(0,o.default)("");break;case"venue":t.google_critic_snippet=(0,o.default)(""),t.body=(0,o.default)("");break;case"game":t.platform_scores=[],t.body=(0,o.default)("")}return t}(e);case"imageslider":return{caption:(0,o.default)("")};case"productcard":return{title:(0,o.default)("Untitled"),description:(0,o.default)(""),retailers:[]};default:return{}}};var n=u(r("f0Wu")),a=u(r("fEA7")),o=u(r("oRrG")),i=r("wWdB"),s=u(r("WxQR"));function u(e){return e&&e.__esModule?e:{default:e}}function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d(e,t){return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({draft:{hed:(0,o.default)("Untitled"),dek:(0,o.default)(""),slug:(0,o.default)(""),body:(0,o.default)(""),teaser:(0,o.default)(""),entry_password:(0,o.default)(""),autotweets:[{body:(0,o.default)("")},{body:(0,o.default)("")}],disable_ads:!1,do_not_distribute:(0,i.isCommunityPostAuthor)(e,parseInt(t.id)),hide_from_amp:!1,is_restricted_in_privacy_consent_region:!1,noindex:!1,nofollow:!1,paywalled:!1,affiliate_link_rewriting_disabled:!1,styles:"",site_groups:[],super_groups:[],campaign_groups:[],whitelisted_network_ids:[],contributors:[],additional_byline:(0,o.default)(""),internal_title:(0,o.default)(""),internal_description:(0,o.default)(""),social_title:(0,o.default)(""),social_description:(0,o.default)(""),seo_title:(0,o.default)(""),seo_description:(0,o.default)(""),canonical_url_override:(0,o.default)(""),structured_tags:{}},embargoed:!1,hidden:!1,publish_history:[],image_history:[]},t.printSlugEnabled?{print_slug:(0,o.default)("")}:{})}e.exports=t.default},oPuc:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={};t.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=s(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e,r&&r.set(e,n);return n}(r("XhEn"));Object.keys(a).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(n,e)||e in t&&t[e]===a[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}}))}));var o,i=r("bnHI");function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(s=function(e){return e?r:t})(e)}var u=(0,((o=r("JFUb"))&&o.__esModule?o:{default:o}).default)(a.default,i.render,i.staticRenderFns,!1,null,null,null).exports;t.default=u,e.exports=t.default},oRrG:function(e,t,r){"use strict";var n=r("tNa1").Delta;e.exports=function(e){var t=e.replace(/\r/g,"");return t=/\n$/.test(t)?t:t+"\n",(new n).insert(t)}},oRyF:function(e,t,r){"use strict";e.exports=function(e){return e?e[0].toUpperCase()+e.substring(1).toLowerCase():e}},ojZi:function(e,t){var r={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"SearchContributors"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"text"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"communityId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"currentOptions"},name:{kind:"Name",value:"searchUsers"},arguments:[{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"text"},value:{kind:"Variable",name:{kind:"Name",value:"text"}}},{kind:"ObjectField",name:{kind:"Name",value:"prefix"},value:{kind:"BooleanValue",value:!0}},{kind:"ObjectField",name:{kind:"Name",value:"communityIds"},value:{kind:"ListValue",values:[{kind:"Variable",name:{kind:"Name",value:"communityId"}}]}},{kind:"ObjectField",name:{kind:"Name",value:"roles"},value:{kind:"ListValue",values:[{kind:"EnumValue",value:"FREELANCE"},{kind:"EnumValue",value:"AUTHOR"},{kind:"EnumValue",value:"TRUSTED_AUTHOR"},{kind:"EnumValue",value:"EDITOR"},{kind:"EnumValue",value:"MANAGER"}]}},{kind:"ObjectField",name:{kind:"Name",value:"fallbackNetworkRoles"},value:{kind:"ListValue",values:[]}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"results"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"name"},name:{kind:"Name",value:"fullOrUserName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"username"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:341}};r.loc.source={body:"query SearchContributors($text: String!, $communityId: Int!) {\n  currentOptions: searchUsers(query: {\n    text: $text,\n    prefix: true,\n    communityIds: [$communityId],\n    roles: [FREELANCE, AUTHOR, TRUSTED_AUTHOR, EDITOR, MANAGER],\n    fallbackNetworkRoles: [],\n  }) {\n    results {\n      name: fullOrUserName\n      username\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var n={};function a(e,t){for(var r=0;r<e.definitions.length;r++){var n=e.definitions[r];if(n.name&&n.name.value==t)return n}}r.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,r){if("FragmentSpread"===t.kind)r.add(t.name.value);else if("VariableDefinition"===t.kind){var n=t.type;"NamedType"===n.kind&&r.add(n.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,r)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,r)})),t.definitions&&t.definitions.forEach((function(t){e(t,r)}))}(e,t),n[e.name.value]=t}})),e.exports=r,e.exports.SearchContributors=function(e,t){var r={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(r.loc=e.loc);var o=n[t]||new Set,i=new Set,s=new Set;for(o.forEach((function(e){s.add(e)}));s.size>0;){var u=s;s=new Set,u.forEach((function(e){i.has(e)||(i.add(e),(n[e]||new Set).forEach((function(e){s.add(e)})))}))}return i.forEach((function(t){var n=a(e,t);n&&r.definitions.push(n)})),r}(r,"SearchContributors")},oz2G:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,a=r("L2JU"),o=(n=r("V8PI"))&&n.__esModule?n:{default:n};function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){u(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var c={props:{childProps:{type:Object,required:!0,default:()=>({})}},data:()=>({copied:!1}),computed:s(s({},(0,a.mapState)(["network","modalId"])),{},{shortlink(){return`https://${this.network.schemaDomain}/e/${this.doc.entry_id}`},notPublished(){return!(0,o.default)(this.doc.status)},doc(){return this.childProps.doc}}),watch:{doc(e,t){e!==t&&(this.copied=!1)}},methods:{async copyShortlink(){await navigator.clipboard.writeText(this.shortlink),this.copied=!0}}};t.default=c,e.exports=t.default},pOdz:function(e,t,r){"use strict";r.r(t),r.d(t,"render",(function(){return n})),r.d(t,"staticRenderFns",(function(){return a}));var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"m-nav__inner m-nav--editor__inner"},[r("community-lockup",{attrs:{communityId:e.communityId}}),e._v(" "),r("div",{staticClass:"m-nav__right"},[r("div",{staticClass:"m-nav--editor__subnav"},[r("div",{staticClass:"m-nav__top"},[r("h1",{staticClass:"m-nav__title"},[e._v(e._s(e.hed))]),e._v(" "),r("help-toggle")],1),e._v(" "),r("div",{staticClass:"m-nav__bottom"},[r("nav",e._l(e.navLinks,(function(t){return r("a",{key:t.label,class:e.pageActive(t.name,t.label.toLowerCase()),attrs:{href:"/"+t.label.toLowerCase()+"/"+e.currentDoc.uuid,type:"button"}},[e._v("\n            "+e._s(t.label)+"\n          ")])})),0),e._v(" "),r("div",{staticClass:"m-nav__statuses"},[r("div",{staticClass:"m-nav__user-status"},[r("user-status")],1),e._v(" "),r("status-icon",{attrs:{wrapperClass:"m-nav__story-status"}}),e._v(" "),r("span",{class:"m-status m-status--"+e.currentDoc.status.toLowerCase()},[e._v(e._s(e.formattedDocStatus))])],1)])])])],1)},a=[]},pVkb:function(e,t,r){"use strict";r.r(t),r.d(t,"render",(function(){return n})),r.d(t,"staticRenderFns",(function(){return a}));var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("span",[r("res-dropdown",{ref:"dropdown",attrs:{for:e.doc.uuid,placement:"left"}},[e.canCopyOrMoveDoc?r("button",{attrs:{disabled:e.readOnly},on:{click:e.copyDoc}},[e._v("\n      Copy\n    ")]):e._e(),e._v(" "),!e.filter&&e.canArchiveOrTrashStories?r("button",{attrs:{disabled:e.readOnly},on:{click:function(t){return e.updateArchived("archive")}}},[e._v("\n      Archive\n    ")]):e._e(),e._v(" "),!e.filter&&e.canArchiveOrTrashStories?r("button",{attrs:{disabled:e.readOnly},on:{click:function(t){return e.updateTrashedAt("trash")}}},[e._v("\n      Move to trash\n    ")]):e._e(),e._v(" "),e.filter?e._e():r("button",{attrs:{disabled:e.readOnly,"res-modal-open":e.modalId,type:"button"},on:{click:e.setShortlinkModal}},[e._v("\n      Share\n    ")]),e._v(" "),"archive"===e.filter&&e.canArchiveOrTrashStories?r("button",{attrs:{disabled:e.readOnly},on:{click:function(t){return e.updateArchived("dashboard")}}},[e._v("\n      Restore\n    ")]):e._e(),e._v(" "),"archive"===e.filter&&e.canArchiveOrTrashStories?r("button",{attrs:{disabled:e.readOnly},on:{click:function(t){return e.updateArchivedAndTrashed("trash")}}},[e._v("\n      Move to trash\n    ")]):e._e(),e._v(" "),"trash"===e.filter?r("button",{attrs:{disabled:e.readOnly},on:{click:function(t){return e.updateTrashedAt("dashboard")}}},[e._v("\n      Restore\n    ")]):e._e(),e._v(" "),"trash"===e.filter?r("button",{attrs:{disabled:e.readOnly},on:{click:function(t){return e.updateArchivedAndTrashed("archive")}}},[e._v("\n      Move to archive\n    ")]):e._e()]),e._v(" "),e.isMobile?r("res-button",{directives:[{name:"show",rawName:"v-show",value:e.showActionsButton,expression:"showActionsButton"}],key:e.mobileKey,attrs:{id:e.doc.uuid,design:"secondary"}},[r("button",{attrs:{type:"button"}},[e._v("Actions")])]):e._e(),e._v(" "),e.isMobile?e._e():r("res-button",{directives:[{name:"show",rawName:"v-show",value:e.showActionsButton,expression:"showActionsButton"}],key:e.mobileKey,attrs:{id:e.doc.uuid,design:"default"}},[r("res-icon",{attrs:{size:"medium",title:"Menu",name:"more",animated:"false"}}),e._v(" "),r("button",{attrs:{type:"button"}})],1),e._v("\n\n  "+e._s(e.actionStatus)+"\n\n  "),e.moveCompleted?r("res-button",{staticClass:"m-dashboard__table__actions__restore",attrs:{design:e.isMobile?"secondary":""},on:{click:e.restoreDoc}},[r("button",{attrs:{type:"button"}},[e._v("Restore")])]):e._e()],1)},a=[]},q1SX:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.handleError=function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return s(e,t),Promise.reject(e)},t.reportError=s,t.reportMessage=function(e,t){"test"!==app.env&&console.warn(e,t);a.captureMessage(e,t)};var{omit:n}=r("LvDl"),a=r("WSEr"),o=r("lvH+"),i=r("Xbgq");function s(e){let t,r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];try{t=app.env}catch(e){t="production"}"test"!==t&&(console.error(e),console.error(e.stack||e.message)),e instanceof i||a.captureException(e,{tags:{error_name:e.name,from:e.from},extra:n(e,"name","message","stack","from")}),r&&o.showError()}},qQBL:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={};t.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=s(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e,r&&r.set(e,n);return n}(r("u6Xl"));Object.keys(a).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(n,e)||e in t&&t[e]===a[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}}))}));var o,i=r("xsL7");function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(s=function(e){return e?r:t})(e)}var u=(0,((o=r("JFUb"))&&o.__esModule?o:{default:o}).default)(a.default,i.render,i.staticRenderFns,!1,null,null,null).exports;t.default=u,e.exports=t.default},rnq4:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,a=r("BbE4"),o=r("L2JU"),i=r("yhHH");function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){c(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var l={components:{ChorusHelp:((n=r("Ybhz"))&&n.__esModule?n:{default:n}).default},computed:u(u({},(0,o.mapState)(["currentSidebar","currentOverlay"])),{},{currentSidebarTag(){return this.currentSidebar.type||null},orientationClass(){return"left"===this.currentSidebar.orientation?"m-sidebar--orientation-left":"m-sidebar--orientation-right"},pushContentClass(){return this.currentSidebar.pushContent?"m-sidebar--push-content":""},pageType(){return(0,i.getPageType)(this.$route.name)}}),watch:{currentSidebarTag(){this.currentSidebarTag||this.$store.commit(a.SET_SIDEBAR,null)}},methods:{closeSidebar(){"chorus-help"!==this.currentSidebarTag||"chorus-help-announcement"!==this.currentOverlay.component&&"chorus-help-contact-form"!==this.currentOverlay.component||this.$store.commit(a.SET_OVERLAY,{childProps:null,component:null}),this.$store.commit(a.SET_SIDEBAR,null)}}};t.default=l,e.exports=t.default},sMLR:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=app.state.get(["community","network","schemaDomain"]);return new RegExp(`(http|https)(://${t}/e/)([0-9]+)`,"g").test(e)},e.exports=t.default},sxCh:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r("L2JU"),a=r("BbE4"),o=s(r("kh36")),i=s(r("6fkZ"));function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var l={data:()=>({message:"",submitted:!1}),computed:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){c(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},(0,n.mapState)(["currentUser","currentCommunity"])),methods:{handleError(){this.$store.commit("messageBanner/PUT_NOTICE",{type:"negative",message:i.default.UNEXPECTED})},async submitFeedback(){const e={author:this.currentUser,schemaDomain:this.currentCommunity.network.schemaDomain,url:window.location.href,text:this.message,userAgent:navigator.userAgent};try{await(0,o.default)("/feedback",{method:"POST",body:e}),this.$store.commit("messageBanner/PUT_NOTICE",{type:"positive",message:i.default.FEEDBACK_SENT,timeout:!1,icon:"check"}),this.closeOverlay()}catch(e){this.handleError()}},closeOverlay(){this.$store.commit(a.SET_SIDEBAR,null),this.$store.commit(a.SET_OVERLAY,{childProps:null,component:null})}}};t.default=l,e.exports=t.default},taCl:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={};t.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=s(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e,r&&r.set(e,n);return n}(r("vMEv"));Object.keys(a).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(n,e)||e in t&&t[e]===a[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}}))}));var o,i=r("YqRe");function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(s=function(e){return e?r:t})(e)}var u=(0,((o=r("JFUb"))&&o.__esModule?o:{default:o}).default)(a.default,i.render,i.staticRenderFns,!1,null,null,null).exports;t.default=u,e.exports=t.default},trU6:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i(r("VyFV")),a=i(r("a42v")),o=i(r("OM+z"));function i(e){return e&&e.__esModule?e:{default:e}}var s={state:()=>({contentApiSocket:null,dirty:{},inFlight:{},inLine:{},docsById:{},sentIds:{},currentDocId:null,ready:!1,subdocs:[],error:!1,reconnectingIds:[],connectedUsers:[]}),actions:n.default,mutations:a.default,getters:o.default};t.default=s,e.exports=t.default},"u6+C":function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Object.defineProperty(t,"__esModule",{value:!0}),t.getCommunity=d,t.getEntitlements=p,t.getPrintOptions=async function(e){var{community:t}=await u("/api/tower/graphql",{query:'query PrintOptions($communityId: Int!) {\n      community(id: $communityId) {\n        desk: siteConfigString(key: "print_desks")\n        category: siteConfigString(key: "print_categories")\n        article_type: siteConfigString(key: "print_article_types")\n        placement: siteConfigString(key: "print_placements")\n      }\n    }',variables:{communityId:e}});if(!t)throw new Error("Community not found.");return Object.keys(t).reduce((e,r)=>t[r]?a(a({},e),{},{[r]:(t[r]?t[r].split("\n"):[]).map(e=>e.trim()).filter(Boolean)}):e,{})},t.loadCommunity=function(e,t){return Promise.all([d(e,t),p(e),l(e)]).then(e=>{let[t,r,n]=e;t.autoTagging&&r.includes("use_no_geo_tags")&&(t.autoTagging.autotagTagTypes=t.autoTagging.autotagTagTypes.filter(e=>!e.includes("geo"))),app.state.set(["community"],t),app.state.set(["entitlements"],r),app.state.set(["user","canAccessChorusVideo"],n||!1)})};var i=r("s4NR"),s=r("kh36"),u=r("XhB+"),c=r("Vsx1"),{getChorusVideoAccess:l}=r("5qpz");async function d(e,t){var{community:r}=await u("/api/tower/graphql",{query:c[t+"Community"],variables:{communityId:e}});if(!r)throw new Error("Community not found.");return"Editor"===t&&(r.autoTagging.autolinkTagTypes=r.autoTagging.autolinkTagTypes.map(e=>e.toLowerCase()),r.autoTagging.autotagTagTypes=r.autoTagging.autotagTagTypes.map(e=>e.toLowerCase())),r}function p(e){var t=i.parse(window.location.search.slice(1));return s("/api/entitlements",{query:{userId:app.state.get(["user","id"]),communityId:e,entitlements:t.entitlements?t.entitlements.split(","):[]}})}},u6Xl:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={props:{label:{type:String,default:""},className:{type:String,default:""}}};t.default=n,e.exports=t.default},"uX1+":function(e,t,r){"use strict";function n(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(n=function(e){return e?r:t})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a={[function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=n(t);if(r&&r.has(e))return r.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=o?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(a,i,s):a[i]=e[i]}a.default=e,r&&r.set(e,a);return a}(r("aZOI")).ACTIVE_MEMBERSHIPS](e){const t=e.currentUser.memberships,r=e.policyRoles.app.access,n=e.currentUser.networkRoles;return t.filter(e=>{let{status:t,roles:a}=e;return"ACTIVE"===t&&(n.some(e=>e in r)||a.some(e=>e in r))})}};t.default=a,e.exports=t.default},uaWY:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r("L2JU");function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var s={props:{itemName:{type:String,default:"",required:!0},onNameClick:{type:Function,default:()=>{},required:!0},onDeleteClick:{type:Function,default:()=>{},required:!0},onSaveClick:{type:Function,default:()=>{},required:!0},active:{type:Boolean,default:!1,required:!0},disabled:{type:Boolean,default:!1}},data:()=>({editing:!1,name:""}),computed:o(o({},(0,n.mapState)(["modalId"])),{},{className(){let e="m-editable-list-item";return this.active&&(e+=" m-editable-list-item--active"),e}}),mounted(){this.name=this.itemName},methods:{async edit(){this.editing=!0,await this.$nextTick(),this.$refs.input.focus()},save(){this.name!==this.itemName&&this.onSaveClick(this.name),this.editing=!1},cancel(){this.name=this.itemName,this.editing=!1}}};t.default=s,e.exports=t.default},vAxa:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r("L2JU");function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var s={props:{communityId:{type:Number,required:!0}},data:()=>({small:!1,firstLine:"",secondLine:"",firstLineTruncated:!1}),computed:o(o({},(0,n.mapState)(["currentCommunity","defaultLogoUrl","isMobile"])),{},{communityName(){return this.currentCommunity.name},faviconUrl(){return this.currentCommunity.faviconUrl},lockupClass(){return this.isMobile?"m-community-select__lockup":"m-nav__lockup"},avatarWrapClass(){let e;return this.isMobile?(e="m-community-select__avatar is-mobile","Vox"===this.communityName&&(e+=" m-community-select__avatar--vox")):(e="m-nav__icon","Vox"===this.communityName&&(e+=" m-nav__icon--vox")),e},mobileTruncatedClass(){return this.isMobile?"m-community-select__name--truncated":""},firstLineTruncatedClass(){return this.firstLineTruncated?"m-community-select__name--firstLineTruncated":""},hasSecondLineClass(){return this.secondLine?"m-community-select__name--has-second":""}}),mounted(){this.fitCommunityName()},updated(){this.fitCommunityName()},methods:{fitCommunityName(){if(this.isMobile)return;const e=document.createElement("div");e.setAttribute("style","width: 20rem; height: 10rem; position: absolute; left: -9999px; top: 0;");const t=document.createElement("div");t.setAttribute("style","width: 7rem; text-align: center;");const r=document.createElement("span");r.setAttribute("style","font-size: 0.889rem; display: inline-block;"),r.innerText=this.communityName,t.appendChild(r),e.appendChild(t),document.body.appendChild(e);if(r.clientWidth>108){this.small=!0,r.setAttribute("style","font-size: .79rem; display: inline-block; padding: 0 4px;");const e=this.communityName,t=e.split(" ");r.innerText="a";const n=r.clientHeight;if(r.innerText=e,r.clientHeight===n)this.firstLine=e;else{let a="";r.innerText="";for(let[e,o]of t.entries()){if(0===e?r.innerText=o:r.innerText+=" "+o,r.clientHeight!==n)break;a=r.innerText}this.firstLine=a,this.secondLine=e.split(a+" ")[1]}r.innerText=t[0],r.clientWidth>108&&(this.firstLineTruncated=!0)}document.body.removeChild(e)}}};t.default=s,e.exports=t.default},vKTg:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e.replace(/http[s]?:\/\//,"")},e.exports=t.default},vMEv:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=s(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e,r&&r.set(e,n);return n}(r("BbE4")),o=(n=r("f0Wu"))&&n.__esModule?n:{default:n},i=r("L2JU");function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(s=function(e){return e?r:t})(e)}function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var l={props:{isMobile:{type:Boolean,default:!1}},data:()=>({announcementClass:"is-unseen"}),computed:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){c(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},(0,i.mapState)(["announcements","currentUser","currentSidebar","currentOverlay","user"])),mounted(){this.currentUser.hasOwnProperty("lastAnnouncementSeenAt")||this.setAnnouncementState()},methods:{closeSidebar(){this.$store.commit(a.SET_SIDEBAR,null)},closeOverlay(){this.$store.commit(a.SET_OVERLAY,{childProps:null,component:null})},openChorusHelpSidebar(){this.$store.commit(a.SET_SIDEBAR,{to:"chorus-help",id:"chorus-help",title:"Chorus help",childProps:{},orientation:"right",pushContent:!1}),this.viewAnnouncements()},toggleHelp(){"chorus-help"!==this.currentSidebar.id||"chorus-help-announcement"!==this.currentOverlay.component&&"chorus-help-contact-form"!==this.currentOverlay.component?"chorus-help"===this.currentSidebar.id?this.closeSidebar():this.currentSidebar.id&&"chorus-help"!==this.currentSidebar.id?(this.closeSidebar(),setTimeout(()=>{this.openChorusHelpSidebar()},300)):this.openChorusHelpSidebar():(this.closeSidebar(),this.closeOverlay())},viewAnnouncements(){const e=(new Date).toISOString();this.user.lastAnnouncementSeenAt=e,sessionStorage.setItem("lastAnnouncementSeenAt",e);const t=this.user.lastAnnouncementReadAt;sessionStorage.setItem("lastAnnouncementReadAt",t),this.announcementClass=this.setAnnouncementClass(e,t)},setAnnouncementState(){const e={lastAnnouncementSeenAt:sessionStorage.getItem("lastAnnouncementSeenAt")||this.user.lastAnnouncementSeenAt||"",lastAnnouncementReadAt:sessionStorage.getItem("lastAnnouncementReadAt")||this.user.lastAnnouncementReadAt||""};this.$store.commit(a.PATCH_USER,e),this.announcementClass=this.setAnnouncementClass()},setAnnouncementClass(e,t){e=e||this.currentUser.lastAnnouncementSeenAt||this.user.lastAnnouncementSeenAt,t=t||this.currentUser.lastAnnouncementReadAt||this.user.lastAnnouncementReadAt;const r=this.announcements.last_announcement_posted_at;return!e||(0,o.default)(e).isBefore(r)?"is-unseen":!t||(0,o.default)(t).isBefore(r)?"is-unread":""}}};t.default=l,e.exports=t.default},veYT:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={};t.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=s(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e,r&&r.set(e,n);return n}(r("vAxa"));Object.keys(a).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(n,e)||e in t&&t[e]===a[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}}))}));var o,i=r("5AN/");function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(s=function(e){return e?r:t})(e)}var u=(0,((o=r("JFUb"))&&o.__esModule?o:{default:o}).default)(a.default,i.render,i.staticRenderFns,!1,null,null,null).exports;t.default=u,e.exports=t.default},verp:function(e,t,r){"use strict";r.r(t),r.d(t,"render",(function(){return n})),r.d(t,"staticRenderFns",(function(){return a}));var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("span",{staticClass:"m-radio-button-group"},e._l(e.options,(function(t){return r("label",{key:t.value,attrs:{title:t.label}},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.radioValue,expression:"radioValue"}],attrs:{id:t.id,type:"radio"},domProps:{value:t.value,checked:e._q(e.radioValue,t.value)},on:{change:[function(r){e.radioValue=t.value},e.saveValue]}}),e._v(" "),r("span",{staticClass:"is-secondary -small",attrs:{type:"button"}},[t.icon?r("res-icon",{attrs:{title:t.label,name:t.icon,size:"medium"}}):r("span",[e._v(e._s(t.label))])],1)])})),0)},a=[]},vuKY:function(e,t,r){"use strict";r.r(t),r.d(t,"render",(function(){return n})),r.d(t,"staticRenderFns",(function(){return a}));var n=function(){var e=this.$createElement,t=this._self._c||e;return t("div",{directives:[{name:"show",rawName:"v-show",value:this.loading,expression:"loading"}],class:"m-app-loader m-app-loader__"+this.animation},[t("res-icon",{attrs:{name:this.iconName,size:"large"}})],1)},a=[]},"w/JT":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={};t.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=s(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e,r&&r.set(e,n);return n}(r("8x1/"));Object.keys(a).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(n,e)||e in t&&t[e]===a[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}}))}));var o,i=r("SKMo");function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(s=function(e){return e?r:t})(e)}var u=(0,((o=r("JFUb"))&&o.__esModule?o:{default:o}).default)(a.default,i.render,i.staticRenderFns,!1,null,null,null).exports;t.default=u,e.exports=t.default},wWdB:function(e,t,r){"use strict";function n(e,t,r){return e.networkRoles.some(e=>r[e])||e.memberships.some(e=>function(e,t){return"ACTIVE"===e.status&&e.roles.some(e=>t[e])}(e,r)&&t===e.community.id)}e.exports={hasPolicyRole:function(e,t,r){return n(e,t,r)},isCommunityPostAuthor:function(e,t){return n(e,t,{COMMUNITY_POST_AUTHOR:!0})}}},x8ox:function(e,t,r){"use strict";r.r(t),r.d(t,"render",(function(){return n})),r.d(t,"staticRenderFns",(function(){return a}));var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",e._l(e.notifications,(function(t){return r("res-banner",{key:t.id,attrs:{id:t.id,design:e.designForNotice(t),persistent:t.persistent||!1,timeout:t.timeout||!1,inert:""},on:{close:function(r){return e.deleteNotice(t)}}},[t.icon?r("res-icon",{attrs:{name:t.icon}}):e._e(),r("span",{domProps:{innerHTML:e._s(t.message)}})],1)})),1)},a=[]},xAlf:function(e,t,r){"use strict";r.r(t),r.d(t,"render",(function(){return n})),r.d(t,"staticRenderFns",(function(){return a}));var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("span",{staticClass:"m-dashboard__table__activity__text"},[e.filter?r("span",[e._v("\n    "+e._s(e.timeAgo(e.doc.updated_at))+"\n    "+e._s(e.doc.updateUser.id?"by "+e.doc.updateUser.fullName:"")+"\n  ")]):r("span",[r("span",{class:e.activityIconClass}),e._v("\n    "+e._s(e.docStatus)+"\n    "),"PUBLISHED"===e.doc.status||"UPDATED"===e.doc.status?r("span",{staticClass:"m-dashboard__table__activity__link"},[r("a",{attrs:{href:"https://"+e.network.schemaDomain+"/e/"+e.doc.entry_id,target:"_blank"}},[r("res-icon",{attrs:{size:"smaller",name:"publish"}})],1)]):e._e(),e._v("\n\n    "+e._s(e.datePrefix)+"\n    "+e._s(e.statusDate?["SCHEDULED","PUBLISHED"].includes(e.doc.status)?e.fullDate:e.timeAgo():"")+"\n    "),e.doc.head.contents.embargoed?r("res-badge",{attrs:{size:"smaller",design:"rose"}},[r("span",[e._v("Embargoed")])]):e._e(),e._v(" "),e.isLivePost?r("res-badge",{staticClass:"res-badge-light-apple",attrs:{size:"smaller",design:"apple"}},[r("span",[e._v("Live")])]):e._e(),e._v(" "),e.showHiddenBadge?r("res-badge",{attrs:{size:"smaller",design:"gray"}},[r("span",[e._v("Hidden")])]):e._e(),e._v(" "),e.showExpirationBadge?r("res-badge",{attrs:{size:"smaller",design:"gold"}},[r("res-icon",{attrs:{name:"clock"}}),e._v(" "),r("span",[e._v(e._s(e.hideScheduledMessage))])],1):e._e()],1)])},a=[]},xBYi:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(/y$/.test(e)&&!/ey$/.test(e))return e.replace(/y$/,"ies");if(/s$/.test(e))return e+"es";return e+"s"},e.exports=t.default},xi4I:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={};t.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=s(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e,r&&r.set(e,n);return n}(r("yVt2"));Object.keys(a).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(n,e)||e in t&&t[e]===a[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}}))}));var o,i=r("P98D");function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(s=function(e){return e?r:t})(e)}var u=(0,((o=r("JFUb"))&&o.__esModule?o:{default:o}).default)(a.default,i.render,i.staticRenderFns,!1,null,null,null).exports;t.default=u,e.exports=t.default},xsL7:function(e,t,r){"use strict";r.r(t),r.d(t,"render",(function(){return n})),r.d(t,"staticRenderFns",(function(){return a}));var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{class:["m-field-group__subsection",e.className]},[e.label?r("h3",[e._v(e._s(e.label))]):e._e(),e._v(" "),e._t("default")],2)},a=[]},yAmA:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={};t.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=s(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e,r&&r.set(e,n);return n}(r("b7+n"));Object.keys(a).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(n,e)||e in t&&t[e]===a[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}}))}));var o,i=r("ljzP");function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(s=function(e){return e?r:t})(e)}var u=(0,((o=r("JFUb"))&&o.__esModule?o:{default:o}).default)(a.default,i.render,i.staticRenderFns,!1,null,null,null).exports;t.default=u,e.exports=t.default},yVt2:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r("L2JU"),a=r("wWdB"),o=c(r("GUvR")),i=c(r("DraD")),s=c(r("83hf")),u=c(r("taCl"));function c(e){return e&&e.__esModule?e:{default:e}}function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){p(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var f={components:{BannerMessage:o.default,CommunitySelect:i.default,NewStoryButton:s.default,HelpToggle:u.default},computed:d(d(d({},(0,n.mapState)(["currentCommunity","currentUser","isMobile","network","policyRoles"])),(0,n.mapGetters)(["activeMemberships"])),{},{communityId(){return parseInt(this.currentCommunity.id)},canManagePages(){return(0,a.hasPolicyRole)(this.currentUser,this.communityId,this.policyRoles.doc.managePages)},canManageAssets(){return(0,a.hasPolicyRole)(this.currentUser,this.communityId,this.policyRoles.editor.accessAssets)},communityDomain(){return this.network.schemaDomain}})};t.default=f,e.exports=t.default},yaPn:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={};t.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=s(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e,r&&r.set(e,n);return n}(r("oz2G"));Object.keys(a).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(n,e)||e in t&&t[e]===a[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}}))}));var o,i=r("KK0Q");function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(s=function(e){return e?r:t})(e)}var u=(0,((o=r("JFUb"))&&o.__esModule?o:{default:o}).default)(a.default,i.render,i.staticRenderFns,!1,null,null,null).exports;t.default=u,e.exports=t.default},yhHH:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getPageType=function(e){return function(e){return["dashboard","dashboard-filtered","pages","pages-filtered"].includes(e)}(e)?"dashboard":"editor"}},ytis:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={props:{lockClass:{type:String,default:"scroll-lock"},targetQuery:{type:Function,default:function(){return document.documentElement}}},mounted(){this.targetQuery().classList.add(this.lockClass)},beforeDestroy(){this.targetQuery().classList.remove(this.lockClass)},render:()=>null};t.default=n,e.exports=t.default},zBkF:function(e,t,r){"use strict";function n(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:32;const t=window.crypto||window.msCrypto;let r="";if(t){let n=new Uint8Array(Math.ceil(e/2));t.getRandomValues(n),r=[].map.call(n,e=>("0"+e.toString(16)).slice(-2)).join("")}else for(let t=Math.ceil(e/11);t>0;t-=1)r+=Math.random().toString(36).substr(2);return r.substr(0,e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a={namespaced:!0,state:{notifications:[]},mutations:{DELETE_NOTICE(e,t){e.notifications=e.notifications.filter(e=>e.id!==t)},PUT_NOTICE(e,t){Array.isArray(t)||(t=[t]),t.forEach(t=>{t&&t.message&&e.notifications.push({id:t.id||n(8),message:t.message.replace(/GraphQL error:\s*/g,""),type:(t.graphQLErrors?"error":t.type)||"neutral",timeout:t.timeout||null,persistent:t.persistent||!1,icon:t.icon||null})})}}};t.default=a,e.exports=t.default},zHkP:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e.split(/\.\s|\.|\s|-/).reduce((e,t)=>e+t.charAt(0),"")},e.exports=t.default},zmXh:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r("H0mI"),a=r("q1SX"),o={compose(e,t){try{return n.compose(e,t)}catch(e){throw a.reportError(e,!1),e}},apply(e,t){try{return n.apply(e,t)}catch(e){throw a.reportError(e,!1),e}},transform(e,t,r){try{return n.transform(e,t,r)}catch(e){throw a.reportError(e,!1),e}}};t.default=o,e.exports=t.default}},[[17,"runtime","vendor"]]]);
//# sourceMappingURL=storyeditor.f257ee7792b0887c539b.0.js.map