{"version":3,"sources":["webpack:///./admin/lib/import_redirects.js","webpack:///./admin/lib/update_redirect.js","webpack:///./admin/queries/redirects.graphql","webpack:///admin/components/redirects/NetworkFilter.vue","webpack:///./admin/router/views/entitlements/entitlement-networks.vue?e78a","webpack:///./admin/app.vue?c26d","webpack:///./admin/components/redirects/form.vue?e29b","webpack:///./admin/actions/communities.js","webpack:///./client/config/messages.js","webpack:///./admin/components/entitlement-cell.vue?fb54","webpack:///./admin/queries/communities.js","webpack:///admin/components/entitlement-assignments.vue","webpack:///./admin/components/entitlement-cell.vue","webpack:///./admin/components/entitlements-table.vue?5198","webpack:///admin/components/redirects/redirects.vue","webpack:///admin/components/redirects/savebutton.vue","webpack:///./admin/store/mutations.js","webpack:///./admin/components/redirects/savebutton.vue?4db3","webpack:///./admin/components/redirects/edit.vue?ba46","webpack:///./shared/content-hash.js","webpack:///./admin/components/redirects/edit.vue","webpack:///./admin/index.js","webpack:///./admin/actions/entitlements.js","webpack:///./client/lib/parse_pagination.js","webpack:///./admin/router/views/entitlements/entitlement-communities.vue?0719","webpack:///./client/lib/errors/graphql_error.js","webpack:///admin/app.vue","webpack:///admin/components/entitlements-table.vue","webpack:///./admin/router/views/entitlements/entitlement-communities.vue","webpack:///./admin/components/entitlement-assignments.vue","webpack:///admin/router/views/entitlements/entitlement-communities.vue","webpack:///./admin/components/redirects/create.vue?eedf","webpack:///./admin/lib/delete_redirect.js","webpack:///./shared/vue/config.js","webpack:///admin/router/views/entitlements/entitlement-dashboard.vue","webpack:///admin/router/views/entitlements/entitlement-networks.vue","webpack:///./admin/router/views/redirects/dashboard.vue?f87d","webpack:///admin/components/redirects/form.vue","webpack:///admin/components/entitlement-cell.vue","webpack:///./admin/app.vue","webpack:///./client/lib/errors/http_status_error.js","webpack:///./client/lib/graphql_request.js","webpack:///./admin/components/redirects/import.vue?cfa4","webpack:///./shared/vue/lib/apollo_client.js","webpack:///./admin/store/index.js","webpack:///./admin/lib/create_redirect.js","webpack:///./shared/vue/lib/sentry_client.js","webpack:///./client/lib/wait.js","webpack:///./admin/router/views/entitlements/entitlement-networks.vue","webpack:///./admin/components/redirects/savebutton.vue","webpack:///./admin/router/views/entitlements/entitlement-dashboard.vue","webpack:///./admin/components/entitlement-assignments.vue?eb18","webpack:///./admin/components/redirects/redirects.vue?122d","webpack:///./admin/store/getters.js","webpack:///./admin/router/index.js","webpack:///./admin/components/redirects/NetworkFilter.vue?28aa","webpack:///./client/lib/request.js","webpack:///./admin/router/views/entitlements/entitlement-dashboard.vue?0559","webpack:///./client/actions/messages.js","webpack:///admin/router/views/redirects/dashboard.vue","webpack:///./admin/components/redirects/NetworkFilter.vue","webpack:///./client/actions/sentry.js","webpack:///admin/components/redirects/edit.vue","webpack:///admin/components/redirects/create.vue","webpack:///./admin/store/actions.js","webpack:///./admin/components/entitlements-table.vue","webpack:///./admin/router/views/redirects/dashboard.vue","webpack:///./admin/components/redirects/import.vue","webpack:///./admin/components/redirects/form.vue","webpack:///admin/components/redirects/import.vue","webpack:///./admin/components/redirects/create.vue","webpack:///./admin/components/redirects/redirects.vue"],"names":["async","csv","query","variables","JSON","stringify","redirectId","source","destination","community","status","path","communityId","doc","loc","definitionRefs","findOperation","name","i","definitions","length","element","value","forEach","def","refs","Set","collectFragmentReferences","node","kind","add","type","selectionSet","selections","selection","variableDefinitions","module","exports","operationName","newDoc","hasOwnProperty","opRefs","allRefs","newRefs","refName","size","prevRefs","has","childRef","op","push","oneQuery","props","networks","Array","networkId","Number","selectedNetworkId","this","selectedCommunityId","find","network","id","parseInt","computed","currentNetwork","selectedDomainName","communities","watch","$emit","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","_v","_s","directives","rawName","expression","description","isGlobal","globalLoading","on","toggleGlobal","initialLoading","_e","domProps","$event","target","composing","slot","isMobile","_l","key","svgLogo","$root","config","defaultLogoUrl","params","entitlementKey","searchCommunities","totalCount","staticRenderFns","saveContext","saveErrorMessage","community_id","newDomain","network_id","newNetwork","editContext","updateCommunityAndNetworkId","newPath","newDomainName","newDestination","$$selectedVal","prototype","filter","call","options","o","selected","map","_value","newStatus","multiple","_m","handleRedirectSave","AdminAllNetworks","AdminCommunity","getPage","page","AdminNetworkCommunities","response","Infinity","results","concat","ALT_TEXT_OVER_LIMIT","APPLE_NEWS_MEMBERS_ONLY_WARNING","COMMUNITY_CHANGED","CSV_TOO_LARGE","DATA_LINKS_ERROR","DRAFT_HERMANO_RECORD","EMBARGOED","HIDDEN","FEEDBACK_SENT","FILE_TOO_LARGE","GETTY_API_DOWN","GIF_IN_IMAGE_CARD","GIF_TOO_LARGE","IMAGE_IN_GALLERY","IMAGE_TOO_LARGE","INVALID_LINK_MESSAGE","INVALID_SPREADSHEET_URL","INVALID_STREAM_MEMBERSHIP","MERLIN_API_DOWN","MISSING_LEGACY_ENTRY","NETWORK_ASSETS_ACCESS_DENIED","NEW_USER_MESSAGE","OEMBED_GENERIC_ERROR","OEMBED_INSECURE_ERROR","OEMBED_SUPPORT_ERROR","OEMBED_PDF_SUPPORT_ERROR","OEMBED_YOUTUBE_SUPPORT_ERROR","PLAGSCAN_ERROR","PLAGSCAN_LOW_WORD_COUNT","PLAGSCAN_OUT_OF_DATE","PLAGSCAN_RETRIEVED","PLAGSCAN_SUBMITTED","PLAGSCAN_UNSCANNED","PUBLISH_PACKAGE_ACTIVE_MESSAGE","PUBLISH_PACKAGE_WARNING_MESSAGE","PYM_EMBED_GENERIC_ERROR","PYM_EMBED_INSECURE_ERROR","PYM_EMBED_SUPPORT_ERROR","REALTIME_ERROR","RECONNECT_ERROR","RECONNECTING","RELOAD_REQUIRED","RELOAD_STALE_TAB","REQUIRED_FIELD","RESCUE_SAVED_REASSURE","SEND_TO_PRINT_SUCCESS","SHEET_PERMISSIONS","STRUCTURED_TAGS_ERROR","TOO_MANY_EDITORS","UNEXPECTED","UNSAVED_WARNING","UNSUPPORTED_ASSET_TYPE","UPLOAD_INVALID_FILE","UPLOAD_TOO_MANY_FILES","values","required","enabled","Boolean","default","communityName","String","faviconUrl","data","loading","isEnabled","methods","entitlementActions","unassignEntitlement","console","error","err","assignEntitlement","__vue_script__","__vue_render__","__vue_static_render_fns__","entitlement","_b","pagination","total","perPage","ticks","paginate","components","NetworkFilter","Object","searchRedirects","pageBeforeFiltering","organization","deletingRedirect","redirectDeleted","deleteError","$apollo","queries","refetch","handleFilterPage","setInitialData","queryParams","$route","$router","e","dataset","direction","apollo","pageNumber","log","gqlError","message","updatePath","saveState","val","clickSave","clickConfirm","clickCancel","fromPath","require","md5","contents","Vue","router","store","apolloProvider","ignoredElements","res","manifest","tags","all","document","querySelector","parse","textContent","h","App","$mount","method","body","assignments","allAssignments","assignment","a","sortBy","communityAssignments","Promise","getCommunityData","entitlementAssignment","totalPages","Math","ceil","entitlementName","index","ref","GraphQLError","errors","Error","captureStackTrace","stack","constructor","create","EntitlementCell","entitlements","start","end","slice","toLowerCase","includes","window","innerWidth","addEventListener","getElementById","EntitlementAssignment","toString","startsWith","filteredAssignments","getEntitlementAssignmentsData","entitlementData","getEntitlementData","getCommunityAssignments","global","Id","configEl","EntitlementsTable","SaveButton","creatingRedirect","redirectCreated","createError","domainName","saveRedirect","setTimeout","self","HttpStatusError","opts","request","cache","staticStyle","handleFileName","handleFileSelect","handleRedirectsImport","tower","URL","location","pathname","search","httpLink","HttpLink","uri","credentials","towerClient","ApolloClient","link","InMemoryCache","connectToDevTools","shouldBatch","use","VueApollo","defaultClient","importer","importerClient","defaultOptions","watchQuery","fetchPolicy","Vuex","Store","state","actions","mutations","getters","sentry","Sentry","init","dsn","release","environment","env","integrations","Integrations","howLong","resolve","toggleAssignment","redirect","host","handleDelete","updatePage","VueRouter","mode","routes","component","EntitlementsDashboard","EntitlementNetworks","EntitlementCommunities","Dashboard","route","Edit","Create","Import","domain","url","reqOpts","parsed","loadOpts","merge","omit","qs","wait","messageActions","reportError","hash","STORAGE","checkStatus","ok","reject","returnWithHeaders","withHeaders","headers","cacheKey","getCacheKey","force","fetch","then","parseBody","accepts","Accept","text","json","catch","retry","delay","maxDelay","min","handleError","app","showError","warn","defaultReqOpts","defaultOpts","requestOpts","toUpperCase","findMessageIndex","select","splice","messages","hasError","get","some","isError","showMessage","defaults","DEFAULTS","dismissible","storageKey","localStorage","getItem","setItem","validatePersistence","findIndex","Redirects","primaryNetwork","primaryCommunity","title","appName","emit","captureMessage","process","captureException","error_name","from","extra","Form","importingRedirects","redirectsCreated","importError","noFileChosen","input","files","reader","FileReader","onload","importRedirects","evt","result","readAsText","fileInput","click","fileName","innerHTML"],"mappings":"8JAEeA,eAA+BC,GAY5C,kBAXM,aAAe,qBAAsB,CACzCC,MAAQ,iLAQRC,UAAWC,KAAKC,UAAU,CAAEJ,IAAKA,OAZrC,I,EAAA,G,EAAA,Y,+ICEeD,eAA8BM,EAAYC,EAAQC,EAAaC,EAAWC,GAavF,kBAZM,aAAe,qBAAsB,CACzCR,MAAQ,qWASRC,UAAWC,KAAKC,UAAU,CAAEC,WAAYA,EAAYK,KAAMJ,EAAQC,YAAaA,EAAaI,YAAaH,EAAWC,OAAQA,OAbhI,I,EAAA,G,EAAA,Y,+KCCI,IAAIG,EAAM,CAAC,KAAO,WAAW,YAAc,CAAC,CAAC,KAAO,sBAAsB,UAAY,QAAQ,KAAO,CAAC,KAAO,OAAO,MAAQ,gBAAgB,oBAAsB,CAAC,CAAC,KAAO,qBAAqB,SAAW,CAAC,KAAO,WAAW,KAAO,CAAC,KAAO,OAAO,MAAQ,eAAe,KAAO,CAAC,KAAO,cAAc,KAAO,CAAC,KAAO,YAAY,KAAO,CAAC,KAAO,OAAO,MAAQ,UAAU,CAAC,KAAO,qBAAqB,SAAW,CAAC,KAAO,WAAW,KAAO,CAAC,KAAO,OAAO,MAAQ,YAAY,KAAO,CAAC,KAAO,cAAc,KAAO,CAAC,KAAO,YAAY,KAAO,CAAC,KAAO,OAAO,MAAQ,UAAU,CAAC,KAAO,qBAAqB,SAAW,CAAC,KAAO,WAAW,KAAO,CAAC,KAAO,OAAO,MAAQ,iBAAiB,KAAO,CAAC,KAAO,cAAc,KAAO,CAAC,KAAO,YAAY,KAAO,CAAC,KAAO,OAAO,MAAQ,UAAU,CAAC,KAAO,qBAAqB,SAAW,CAAC,KAAO,WAAW,KAAO,CAAC,KAAO,OAAO,MAAQ,SAAS,KAAO,CAAC,KAAO,YAAY,KAAO,CAAC,KAAO,OAAO,MAAQ,YAAY,CAAC,KAAO,qBAAqB,SAAW,CAAC,KAAO,WAAW,KAAO,CAAC,KAAO,OAAO,MAAQ,gBAAgB,KAAO,CAAC,KAAO,YAAY,KAAO,CAAC,KAAO,OAAO,MAAQ,aAAa,WAAa,GAAG,aAAe,CAAC,KAAO,eAAe,WAAa,CAAC,CAAC,KAAO,QAAQ,KAAO,CAAC,KAAO,OAAO,MAAQ,mBAAmB,UAAY,CAAC,CAAC,KAAO,WAAW,KAAO,CAAC,KAAO,OAAO,MAAQ,SAAS,MAAQ,CAAC,KAAO,cAAc,OAAS,CAAC,CAAC,KAAO,cAAc,KAAO,CAAC,KAAO,OAAO,MAAQ,WAAW,MAAQ,CAAC,KAAO,WAAW,KAAO,CAAC,KAAO,OAAO,MAAQ,aAAa,CAAC,KAAO,cAAc,KAAO,CAAC,KAAO,OAAO,MAAQ,cAAc,MAAQ,CAAC,KAAO,WAAW,KAAO,CAAC,KAAO,OAAO,MAAQ,gBAAgB,CAAC,KAAO,cAAc,KAAO,CAAC,KAAO,OAAO,MAAQ,eAAe,MAAQ,CAAC,KAAO,WAAW,KAAO,CAAC,KAAO,OAAO,MAAQ,kBAAkB,CAAC,KAAO,cAAc,KAAO,CAAC,KAAO,OAAO,MAAQ,QAAQ,MAAQ,CAAC,KAAO,WAAW,KAAO,CAAC,KAAO,OAAO,MAAQ,UAAU,CAAC,KAAO,cAAc,KAAO,CAAC,KAAO,OAAO,MAAQ,eAAe,MAAQ,CAAC,KAAO,WAAW,KAAO,CAAC,KAAO,OAAO,MAAQ,qBAAqB,WAAa,GAAG,aAAe,CAAC,KAAO,eAAe,WAAa,CAAC,CAAC,KAAO,QAAQ,KAAO,CAAC,KAAO,OAAO,MAAQ,WAAW,UAAY,GAAG,WAAa,GAAG,aAAe,CAAC,KAAO,eAAe,WAAa,CAAC,CAAC,KAAO,QAAQ,KAAO,CAAC,KAAO,OAAO,MAAQ,MAAM,UAAY,GAAG,WAAa,IAAI,CAAC,KAAO,QAAQ,KAAO,CAAC,KAAO,OAAO,MAAQ,QAAQ,UAAY,GAAG,WAAa,IAAI,CAAC,KAAO,QAAQ,KAAO,CAAC,KAAO,OAAO,MAAQ,eAAe,UAAY,GAAG,WAAa,IAAI,CAAC,KAAO,QAAQ,KAAO,CAAC,KAAO,OAAO,MAAQ,UAAU,UAAY,GAAG,WAAa,IAAI,CAAC,KAAO,QAAQ,KAAO,CAAC,KAAO,OAAO,MAAQ,QAAQ,UAAY,GAAG,WAAa,OAAO,CAAC,KAAO,QAAQ,KAAO,CAAC,KAAO,OAAO,MAAQ,cAAc,UAAY,GAAG,WAAa,WAAW,IAAM,CAAC,MAAQ,EAAE,IAAM,MACpvFA,EAAIC,IAAIP,OAAS,CAAC,KAAO,iaAAia,KAAO,kBAAkB,eAAiB,CAAC,KAAO,EAAE,OAAS,IAkDvf,IAAIQ,EAAiB,GAWrB,SAASC,EAAcH,EAAKI,GAC1B,IAAK,IAAIC,EAAI,EAAGA,EAAIL,EAAIM,YAAYC,OAAQF,IAAK,CAC/C,IAAIG,EAAUR,EAAIM,YAAYD,GAC9B,GAAIG,EAAQJ,MAAQI,EAAQJ,KAAKK,OAASL,EACxC,OAAOI,GAbXR,EAAIM,YAAYI,SAAQ,SAASC,GAC/B,GAAIA,EAAIP,KAAM,CACZ,IAAIQ,EAAO,IAAIC,KAjCrB,SAASC,EAA0BC,EAAMH,GACvC,GAAkB,mBAAdG,EAAKC,KACPJ,EAAKK,IAAIF,EAAKX,KAAKK,YACd,GAAkB,uBAAdM,EAAKC,KAA+B,CAC7C,IAAIE,EAAOH,EAAKG,KACE,cAAdA,EAAKF,MACPJ,EAAKK,IAAIC,EAAKd,KAAKK,OAInBM,EAAKI,cACPJ,EAAKI,aAAaC,WAAWV,SAAQ,SAASW,GAC5CP,EAA0BO,EAAWT,MAIrCG,EAAKO,qBACPP,EAAKO,oBAAoBZ,SAAQ,SAASC,GACxCG,EAA0BH,EAAKC,MAI/BG,EAAKT,aACPS,EAAKT,YAAYI,SAAQ,SAASC,GAChCG,EAA0BH,EAAKC,MAU/BE,CAA0BH,EAAKC,GAC/BV,EAAeS,EAAIP,KAAKK,OAASG,MA4DvCW,EAAOC,QAAUxB,EAEbuB,EAAOC,QAAsB,aAhDjC,SAAkBxB,EAAKyB,GAErB,IAAIC,EAAS,CACXV,KAAMhB,EAAIgB,KACVV,YAAa,CAACH,EAAcH,EAAKyB,KAE/BzB,EAAI2B,eAAe,SACrBD,EAAOzB,IAAMD,EAAIC,KAKnB,IAAI2B,EAAS1B,EAAeuB,IAAkB,IAAIZ,IAC9CgB,EAAU,IAAIhB,IACdiB,EAAU,IAAIjB,IAOlB,IAJAe,EAAOlB,SAAQ,SAASqB,GACtBD,EAAQb,IAAIc,MAGPD,EAAQE,KAAO,GAAG,CACvB,IAAIC,EAAWH,EACfA,EAAU,IAAIjB,IAEdoB,EAASvB,SAAQ,SAASqB,GACnBF,EAAQK,IAAIH,KACfF,EAAQZ,IAAIc,IACI7B,EAAe6B,IAAY,IAAIlB,KACrCH,SAAQ,SAASyB,GACzBL,EAAQb,IAAIkB,UAapB,OAPAN,EAAQnB,SAAQ,SAASqB,GACvB,IAAIK,EAAKjC,EAAcH,EAAK+B,GACxBK,GACFV,EAAOpB,YAAY+B,KAAKD,MAIrBV,EAK4BY,CAAStC,EAAK,iB,4GC7FvD,CACEI,KAAM,gBACNmC,MAAO,CACLC,SAAUC,MACVC,UAAWC,OACX5C,YAAa4C,QAEf,OACE,MAAO,CACLC,kBAAmBC,KAAKH,UACxBI,oBAAqBD,KAAK9C,aAAe8C,KAAKL,SAASO,MAAK,SAAlE,GACQ,OAAOC,EAAQC,KAAOC,SAASL,KAAKH,aAC5C,0BAGES,SAAU,CAERC,eAAgB,WACd,OAAOP,KAAKL,SAASO,MAAK,SAAhC,GACQ,OAAOC,EAAQC,KAAOJ,KAAKD,oBACnC,OAEIS,mBAAoB,WAClB,OAAOR,KAAKO,eAAeE,YAAYP,MAAK,SAAlD,GACQ,OAAOnD,EAAUqD,KAAOJ,KAAKC,sBACrC,eAGES,MAAO,CAGLH,eAAgB,WACdP,KAAKC,oBAAsBD,KAAKO,eAAeE,YAAY,GAAGL,IAEhEH,oBAAqB,WACnBD,KAAKW,MAAM,oBAAqBX,KAAKC,oBAAqBD,KAAKD,kBAAmBC,KAAKQ,uB,uFC9D7F,kGAAII,EAAS,WAAa,IAAIC,EAAIb,KAASc,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,OAAO,CAACE,YAAY,uDAAuD,CAACF,EAAG,MAAM,CAACA,EAAG,cAAc,CAACE,YAAY,qBAAqBC,MAAM,CAAC,GAAK,CAAE5D,KAAM,4BAA6B,CAACyD,EAAG,WAAW,CAACE,YAAY,cAAcC,MAAM,CAAC,KAAO,OAAO,KAAO,WAAWN,EAAIO,GAAG,KAAKJ,EAAG,IAAI,CAACE,YAAY,eAAe,CAACL,EAAIO,GAAG,2BAA2B,IAAI,GAAGP,EAAIO,GAAG,KAAKJ,EAAG,KAAK,CAACE,YAAY,sBAAsB,CAACL,EAAIO,GAAGP,EAAIQ,GAAGR,EAAItD,SAASsD,EAAIO,GAAG,KAAKJ,EAAG,MAAM,CAACE,YAAY,0CAA0C,CAACF,EAAG,IAAI,CAACM,WAAW,CAAC,CAAC/D,KAAK,OAAOgE,QAAQ,SAAS3D,MAAOiD,EAAe,YAAEW,WAAW,gBAAgBN,YAAY,2BAA2B,CAACL,EAAIO,GAAGP,EAAIQ,GAAGR,EAAIY,gBAAgBZ,EAAIO,GAAG,KAAKJ,EAAG,aAAa,CAACE,YAAY,kBAAkBC,MAAM,CAAC,QAAUN,EAAIa,SAAS,SAAWb,EAAIc,eAAeC,GAAG,CAAC,OAASf,EAAIgB,eAAe,CAACb,EAAG,QAAQ,CAACH,EAAIO,GAAG,YAAYJ,EAAG,QAAQ,CAACG,MAAM,CAAC,KAAO,WAAW,KAAO,WAAW,GAAGN,EAAIO,GAAG,KAAKJ,EAAG,MAAM,CAACM,WAAW,CAAC,CAAC/D,KAAK,OAAOgE,QAAQ,SAAS3D,MAAOiD,EAAIiB,iBAAmBjB,EAAIa,SAAUF,WAAW,iCAAiC,CAACR,EAAG,WAAW,CAACE,YAAY,iBAAiBC,MAAM,CAAC,KAAO,UAAU,KAAO,WAAWN,EAAIO,GAAG,KAAKJ,EAAG,IAAI,CAACE,YAAY,kBAAkB,CAACL,EAAIO,GAAG,WAAWP,EAAIQ,GAAGR,EAAItD,MAAM,kBAAkB,GAAGsD,EAAIO,GAAG,KAAOP,EAAIa,UAAab,EAAIiB,eAAoxDjB,EAAIkB,KAAxwDf,EAAG,MAAM,CAACE,YAAY,6BAA6B,CAACF,EAAG,KAAK,CAACE,YAAY,sBAAsB,CAACL,EAAIO,GAAG,cAAcP,EAAIO,GAAG,KAAKJ,EAAG,YAAY,CAACE,YAAY,uBAAuB,CAACF,EAAG,QAAQ,CAACM,WAAW,CAAC,CAAC/D,KAAK,QAAQgE,QAAQ,UAAU3D,MAAOiD,EAAS,MAAEW,WAAW,UAAUL,MAAM,CAAC,KAAO,SAAS,YAAc,mBAAmBa,SAAS,CAAC,MAASnB,EAAS,OAAGe,GAAG,CAAC,MAAQ,SAASK,GAAWA,EAAOC,OAAOC,YAAqBtB,EAAIrE,MAAMyF,EAAOC,OAAOtE,WAAUiD,EAAIO,GAAG,KAAKJ,EAAG,WAAW,CAACG,MAAM,CAAC,KAAO,cAAc,KAAO,UAAUiB,KAAK,iBAAiB,GAAGvB,EAAIO,GAAG,KAAKJ,EAAG,YAAY,CAACE,YAAY,iBAAiBC,MAAM,CAAC,OAASN,EAAIwB,SAAS,MAAQ,KAAK,CAACrB,EAAG,MAAM,CAACE,YAAY,yBAAyB,CAACF,EAAG,MAAM,CAACE,YAAY,gCAAgC,CAACF,EAAG,QAAQ,CAACA,EAAG,QAAQ,CAACA,EAAG,KAAK,CAACA,EAAG,KAAK,CAACH,EAAIO,GAAG,aAAaP,EAAIO,GAAG,KAAKJ,EAAG,KAAK,CAACE,YAAY,0CAA0C,CAACL,EAAIO,GAAG,qBAAqBP,EAAIO,GAAG,KAAKJ,EAAG,QAAQH,EAAIyB,GAAIzB,EAAoB,kBAAE,SAASV,GAAS,OAAOa,EAAG,KAAK,CAACuB,IAAIpC,EAAQC,GAAGc,YAAY,2BAA2B,CAACF,EAAG,KAAK,CAACE,YAAY,gCAAgC,CAACF,EAAG,MAAM,CAAEb,EAAe,QAAEa,EAAG,MAAM,CAACE,YAAY,6BAA6Bc,SAAS,CAAC,UAAYnB,EAAIQ,GAAGlB,EAAQqC,YAAYxB,EAAG,MAAM,CAACE,YAAY,2BAA2BC,MAAM,CAAC,IAAMN,EAAI4B,MAAMC,OAAOC,kBAAkB9B,EAAIO,GAAG,KAAKJ,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAACL,EAAIO,GAAGP,EAAIQ,GAAGlB,EAAQ5C,aAAasD,EAAIO,GAAG,KAAKJ,EAAG,KAAK,CAACE,YAAY,mCAAmC,CAACF,EAAG,cAAc,CAACE,YAAY,mBAAmBC,MAAM,CAAC,GAAK,CAAE5D,KAAM,0BAA2BqF,OAAQ,CAAEL,IAAK1B,EAAIgC,eAAgBzC,GAAID,EAAQC,OAAQ,CAACS,EAAIO,GAAG,yBAAyBP,EAAIQ,GAAGlB,EAAQ2C,kBAAkBC,YAAY,qCAAqC,QAAO,YAAY,MACjpGC,EAAkB,I,oCCDtB,kGAAIpC,EAAS,WAAa,IAAiBE,EAATd,KAAgBe,eAAmBC,EAAnChB,KAA0CiB,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,gBAAgB,IACzHgC,EAAkB,I,wECDtB,kGAAIpC,EAAS,WAAa,IAAIC,EAAIb,KAASc,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,qBAAqB,CAACF,EAAG,MAAM,CAACE,YAAY,0BAA0B,CAACF,EAAG,aAAa,CAACM,WAAW,CAAC,CAAC/D,KAAK,OAAOgE,QAAQ,SAAS3D,MAAOiD,EAAoB,iBAAEW,WAAW,sBAAsB,CAACR,EAAG,OAAO,CAACH,EAAIO,GAAG,4BAA4BP,EAAIO,GAAG,KAAKJ,EAAG,aAAa,CAACM,WAAW,CAAC,CAAC/D,KAAK,OAAOgE,QAAQ,SAAS3D,MAAOiD,EAAmB,gBAAEW,WAAW,oBAAoBL,MAAM,CAAC,OAAS,aAAa,CAACH,EAAG,OAAO,CAACH,EAAIO,GAAG,8BAA8BP,EAAIQ,GAAGR,EAAIoC,aAAa,SAASpC,EAAIO,GAAG,KAAKJ,EAAG,aAAa,CAACM,WAAW,CAAC,CAAC/D,KAAK,OAAOgE,QAAQ,SAAS3D,MAAOiD,EAAe,YAAEW,WAAW,gBAAgBL,MAAM,CAAC,OAAS,aAAa,CAACH,EAAG,OAAO,CAACH,EAAIO,GAAG,UAAUP,EAAIQ,GAAGR,EAAIqC,wBAAwB,GAAGrC,EAAIO,GAAG,KAAKJ,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,OAAO,CAACE,YAAY,wBAAwB,CAACF,EAAG,MAAM,CAACE,YAAY,yBAAyB,CAACF,EAAG,MAAM,CAACE,YAAY,gCAAgC,CAACF,EAAG,aAAa,CAACG,MAAM,CAAC,KAAO,UAAU,YAAc,KAAK,CAACH,EAAG,WAAW,CAACG,MAAM,CAAC,KAAO,QAAQ,KAAO,UAAUN,EAAIO,GAAG,KAAKJ,EAAG,cAAc,CAACG,MAAM,CAAC,GAAK,CAAElE,KAAM,mBAAoBT,MAAO,CAAE2G,aAActC,EAAIuC,UAAWC,WAAYxC,EAAIyC,eAAgB,CAACzC,EAAIO,GAAG,wBAAwB,GAAGP,EAAIO,GAAG,KAAKJ,EAAG,KAAK,CAACH,EAAIO,GAAGP,EAAIQ,GAAGR,EAAI0C,aAAa,gBAAgB,KAAK1C,EAAIO,GAAG,KAAKJ,EAAG,MAAM,CAACE,YAAY,UAAU,CAACF,EAAG,gBAAgB,CAACG,MAAM,CAAC,SAAWN,EAAIlB,SAAS,UAAYkB,EAAIhB,UAAU,YAAcgB,EAAIuC,WAAWxB,GAAG,CAAC,oBAAoBf,EAAI2C,+BAA+B3C,EAAIO,GAAG,KAAKJ,EAAG,MAAM,CAACE,YAAY,mBAAmB,CAACF,EAAG,YAAY,CAACA,EAAG,QAAQ,CAACH,EAAIO,GAAG,mBAAmBP,EAAIO,GAAG,KAAKJ,EAAG,QAAQ,CAACM,WAAW,CAAC,CAAC/D,KAAK,QAAQgE,QAAQ,UAAU3D,MAAOiD,EAAW,QAAEW,WAAW,YAAYL,MAAM,CAAC,KAAO,OAAO,KAAO,iBAAiB,MAAQ,IAAIa,SAAS,CAAC,MAASnB,EAAW,SAAGe,GAAG,CAAC,MAAQ,SAASK,GAAWA,EAAOC,OAAOC,YAAqBtB,EAAI4C,QAAQxB,EAAOC,OAAOtE,WAAUiD,EAAIO,GAAG,KAAKJ,EAAG,MAAM,CAACE,YAAY,uBAAuBC,MAAM,CAAC,KAAO,QAAQiB,KAAK,QAAQ,CAACpB,EAAG,IAAI,CAACH,EAAIO,GAAG,+EAA+EJ,EAAG,KAAK,CAACH,EAAIO,GAAG,cAAcP,EAAIO,GAAG,KAAKJ,EAAG,IAAI,CAACH,EAAIO,GAAG,4CAA4CJ,EAAG,SAAS,CAACH,EAAIO,GAAG,UAAUP,EAAIQ,GAAGR,EAAI6C,eAAe7C,EAAIQ,GAAGR,EAAI4C,mBAAmB,GAAG5C,EAAIO,GAAG,KAAKJ,EAAG,MAAM,CAACE,YAAY,mBAAmB,CAACF,EAAG,YAAY,CAACA,EAAG,QAAQ,CAACH,EAAIO,GAAG,iBAAiBJ,EAAG,QAAQ,CAACM,WAAW,CAAC,CAAC/D,KAAK,QAAQgE,QAAQ,UAAU3D,MAAOiD,EAAkB,eAAEW,WAAW,mBAAmBL,MAAM,CAAC,KAAO,OAAO,KAAO,eAAe,MAAQ,IAAIa,SAAS,CAAC,MAASnB,EAAkB,gBAAGe,GAAG,CAAC,MAAQ,SAASK,GAAWA,EAAOC,OAAOC,YAAqBtB,EAAI8C,eAAe1B,EAAOC,OAAOtE,WAAUoD,EAAG,IAAI,CAACG,MAAM,CAAC,KAAO,QAAQiB,KAAK,QAAQ,CAACvB,EAAIO,GAAG,oDAAoDJ,EAAG,KAAK,CAACH,EAAIO,GAAG,qBAAqBP,EAAIO,GAAG,OAAOP,EAAIO,GAAG,KAAKJ,EAAG,IAAI,CAACG,MAAM,CAAC,KAAO,QAAQiB,KAAK,QAAQ,CAACvB,EAAIO,GAAG,yDAAyDJ,EAAG,KAAK,CAACH,EAAIO,GAAG,0BAA0BP,EAAIO,GAAG,UAAU,GAAGP,EAAIO,GAAG,KAAKJ,EAAG,MAAM,CAACE,YAAY,mBAAmB,CAACF,EAAG,aAAa,CAACA,EAAG,QAAQ,CAACH,EAAIO,GAAG,YAAYP,EAAIO,GAAG,KAAKJ,EAAG,SAAS,CAACM,WAAW,CAAC,CAAC/D,KAAK,QAAQgE,QAAQ,UAAU3D,MAAOiD,EAAa,UAAEW,WAAW,cAAcL,MAAM,CAAC,KAAO,UAAUS,GAAG,CAAC,OAAS,SAASK,GAAQ,IAAI2B,EAAgBhE,MAAMiE,UAAUC,OAAOC,KAAK9B,EAAOC,OAAO8B,SAAQ,SAASC,GAAG,OAAOA,EAAEC,YAAWC,KAAI,SAASF,GAAgD,MAAnC,WAAYA,EAAIA,EAAEG,OAASH,EAAErG,SAAoBiD,EAAIwD,UAAUpC,EAAOC,OAAOoC,SAAWV,EAAgBA,EAAc,MAAM,CAAC5C,EAAG,SAAS,CAACH,EAAIO,GAAG,SAASP,EAAIO,GAAG,KAAKJ,EAAG,SAAS,CAACH,EAAIO,GAAG,SAASP,EAAIO,GAAG,KAAKJ,EAAG,SAAS,CAACH,EAAIO,GAAG,SAASP,EAAIO,GAAG,KAAKJ,EAAG,SAAS,CAACH,EAAIO,GAAG,aAAaP,EAAIO,GAAG,KAAKJ,EAAG,MAAM,CAACE,YAAY,uBAAuBC,MAAM,CAAC,KAAO,QAAQiB,KAAK,QAAQ,CAACpB,EAAG,IAAI,CAACH,EAAIO,GAAG,iHAAiHP,EAAIO,GAAG,KAAKP,EAAI0D,GAAG,MAAM,GAAG1D,EAAIO,GAAG,KAAKJ,EAAG,aAAa,CAACG,MAAM,CAAC,SAAU,GAAMS,GAAG,CAAC,KAAOf,EAAI2D,uBAAuB,UACzjIxB,EAAkB,CAAC,WAAa,IAAInC,EAAIb,KAASc,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,KAAK,CAACA,EAAG,KAAK,CAACA,EAAG,SAAS,CAACH,EAAIO,GAAG,qBAAqBP,EAAIO,GAAG,sCAAsCP,EAAIO,GAAG,KAAKJ,EAAG,KAAK,CAACA,EAAG,SAAS,CAACH,EAAIO,GAAG,qBAAqBP,EAAIO,GAAG,sCAAsCP,EAAIO,GAAG,KAAKJ,EAAG,KAAK,CAACA,EAAG,SAAS,CAACH,EAAIO,GAAG,qBAAqBP,EAAIO,GAAG,sDAAsDP,EAAIO,GAAG,KAAKJ,EAAG,KAAK,CAACA,EAAG,SAAS,CAACH,EAAIO,GAAG,qBAAqBP,EAAIO,GAAG,2D,wHCUtf9E,iBACL,MAAM,SAAEqD,SAAmB,aAAe,qBAAsB,CAC9DnD,MAAOiI,qBAET,OAAO9E,G,mBAXFrD,eAAgCY,GACrC,aAAa,aAAe,qBAAsB,CAChDV,MAAOkI,iBACPjI,UAAWC,KAAKC,UAAU,CAAEO,mB,wBAWzBZ,eAAqCuD,GAC1CvD,eAAeqI,EAAQC,GAKrB,aAJuB,aAAe,qBAAsB,CAC1DpI,MAAOqI,0BACPpI,UAAW,CAAEoD,YAAW+E,WAEV9B,kBAGlB,IAAIgC,EAAW,CAAE/B,WAAYgC,IAAUC,QAAS,IAC5CvE,EAAc,GAElB,IAAK,IAAImE,EAAO,EAAGnE,EAAY/C,OAASoH,EAAS/B,WAAY6B,IAC3DE,QAAiBH,EAAQC,GACzBnE,EAAcA,EAAYwE,OAAOH,EAASE,SAE5C,OAAOvE,GAlCT,I,EAAA,G,EAAA,Y,2BACA,a,sDCDA9B,EAAQuG,oBAAsB,kFAC9BvG,EAAQwG,gCAAkC,kHAC1CxG,EAAQyG,kBAAoB,kCAC5BzG,EAAQ0G,cAAgB,0DACxB1G,EAAQ2G,iBAAmB,0DAC3B3G,EAAQ4G,qBAAuB,kGAC/B5G,EAAQ6G,UAAY,2BACpB7G,EAAQ8G,OAAS,wBACjB9G,EAAQ+G,cAAgB,gBACxB/G,EAAQgH,eAAiB,8BACzBhH,EAAQiH,eAAiB,6DACzBjH,EAAQkH,kBAAoB,8DAC5BlH,EAAQmH,cAAgB,uFACxBnH,EAAQoH,iBAAmB,iEAC3BpH,EAAQqH,gBAAkB,+CAC1BrH,EAAQsH,qBAAuB,4BAC/BtH,EAAQuH,wBAA0B,4DAClCvH,EAAQwH,0BAA4B,sCACpCxH,EAAQyH,gBAAkB,8DAC1BzH,EAAQ0H,qBAAuB,oKAC/B1H,EAAQ2H,6BAA+B,kIACvC3H,EAAQ4H,iBAAmB,oFAC3B5H,EAAQ6H,qBAAuB,yEAC/B7H,EAAQ8H,sBAAwB,+DAChC9H,EAAQ+H,qBAAuB,0DAC/B/H,EAAQgI,yBAA2B,4BACnChI,EAAQiI,6BAA+B,mEACvCjI,EAAQkI,eAAiB,0DACzBlI,EAAQmI,wBAA0B,mDAClCnI,EAAQoI,qBAAuB,yDAC/BpI,EAAQqI,mBAAoB,8CAC5BrI,EAAQsI,mBAAqB,+BAC7BtI,EAAQuI,mBAAqB,sDAC7BvI,EAAQwI,+BAAiC,qCACzCxI,EAAQyI,gCAAkC,qEAC1CzI,EAAQ0I,wBAA0B,gFAClC1I,EAAQ2I,yBAA2B,6EACnC3I,EAAQ4I,wBAA0B,iEAClC5I,EAAQ6I,eAAiB,+CACzB7I,EAAQ8I,gBAAkB,iEAC1B9I,EAAQ+I,aAAe,kBACvB/I,EAAQgJ,gBAAkB,2CAC1BhJ,EAAQiJ,iBAAmB,+CAC3BjJ,EAAQkJ,eAAiB,0BACzBlJ,EAAQmJ,sBAAwB,sEAChCnJ,EAAQoJ,sBAAwB,iBAChCpJ,EAAQqJ,kBAAoB,mDAC5BrJ,EAAQsJ,sBAAwB,yDAChCtJ,EAAQuJ,iBAAmB,qDAC3BvJ,EAAQwJ,WAAa,uDACrBxJ,EAAQyJ,gBAAkB,yEAC1BzJ,EAAQ0J,uBAAyB,oJACjC1J,EAAQ2J,oBAAsB,qQAC9B3J,EAAQ4J,sBAAwB,+B,sDCrDhC,kGAAI3H,EAAS,WAAa,IAAIC,EAAIb,KAASc,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,KAAK,CAACE,YAAY,2BAA2B,CAACF,EAAG,KAAK,CAACE,YAAY,6BAA6B,CAACL,EAAIO,GAAGP,EAAIQ,GAAGR,EAAI2H,OAAOjL,SAASsD,EAAIO,GAAG,KAAKJ,EAAG,KAAK,CAACE,YAAY,iDAAiD,CAACL,EAAIO,GAAGP,EAAIQ,GAAGR,EAAI2H,OAAO/G,gBAAgBZ,EAAIO,GAAG,KAAKJ,EAAG,KAAK,CAACE,YAAY,4CAA4C,CAACL,EAAIO,GAAGP,EAAIQ,GAAGR,EAAIa,SAAW,MAAQ,SAASb,EAAIO,GAAG,KAAKJ,EAAG,KAAK,CAACE,YAAY,4CAA4C,CAACF,EAAG,cAAc,CAACE,YAAY,qBAAqBC,MAAM,CAAC,GAAK,CAAE5D,KAAM,uBAAwBqF,OAAQ,CAAEL,IAAK1B,EAAIgC,mBAAoB,CAAChC,EAAIO,GAAG,yBAAyB,MAC/sB4B,EAAkB,I,2KCDS,uK,mBAWE,qO,0BAaO,wV,0ICPxC,M,4bAAA,Y,qIAEA,CACEtD,MAAO,CACLxC,YAAa,CACXmB,KAAMyB,OACN2I,UAAU,GAEZC,QAAS,CACPrK,KAAMsK,QACNF,UAAU,EACVG,SAAS,GAEXC,cAAe,CACbxK,KAAMyK,OACNL,UAAU,EACVG,QAAS,IAEX/F,eAAgB,CACdxE,KAAMyK,OACNL,UAAU,EACVG,QAAS,IAEXG,WAAY,CACV1K,KAAMyK,OACNF,QAAS,KAGbI,KAAI,KACK,CACLC,SAAS,EACTC,WAAW,IAGf,UACElJ,KAAKkJ,UAAYlJ,KAAK0I,SAExBS,QAAS,CACP,yBAEE,GADAnJ,KAAKiJ,SAAU,EACXjJ,KAAKkJ,UACP,UACQE,EAAmBC,oBAAoB,CAC3C9G,IAAKvC,KAAK6C,eACV3F,YAAa8C,KAAK9C,cAEpB8C,KAAKkJ,WAAalJ,KAAKkJ,UACjC,SACUI,QAAQC,MAAMC,QAGhB,UACQJ,EAAmBK,kBAAkB,CACzClH,IAAKvC,KAAK6C,eACV3F,YAAa8C,KAAK9C,cAEpB8C,KAAKkJ,WAAalJ,KAAKkJ,UACjC,SACUI,QAAQC,MAAMC,GAGlBxJ,KAAKiJ,SAAU,K,8IC7ErB,M,4bAAA,6NAGA,I,EAAA,Y,+HAEA,I,GAQgB,I,EADhB,Y,4BACgB,SACdS,UACAC,SACAC,mBAXgC,EAEb,KAEC,KAEU,MAYPjL,Q,mECxBzB,kGAAIiC,EAAS,WAAa,IAAIC,EAAIb,KAASc,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,OAAO,CAACE,YAAY,gCAAgC,CAACF,EAAG,KAAK,CAACE,YAAY,sBAAsB,CAACL,EAAIO,GAAG,kBAAkBP,EAAIO,GAAG,KAAKJ,EAAG,KAAK,CAACE,YAAY,sBAAsB,CAACL,EAAIO,GAAG,4BAA4BP,EAAIO,GAAG,KAAKJ,EAAG,YAAY,CAACE,YAAY,wBAAwB,CAACF,EAAG,QAAQ,CAACM,WAAW,CAAC,CAAC/D,KAAK,QAAQgE,QAAQ,UAAU3D,MAAOiD,EAAS,MAAEW,WAAW,UAAUL,MAAM,CAAC,KAAO,SAAS,YAAc,uBAAuBa,SAAS,CAAC,MAASnB,EAAS,OAAGe,GAAG,CAAC,MAAQ,SAASK,GAAWA,EAAOC,OAAOC,YAAqBtB,EAAIrE,MAAMyF,EAAOC,OAAOtE,WAAUiD,EAAIO,GAAG,KAAKJ,EAAG,WAAW,CAACG,MAAM,CAAC,KAAO,cAAc,KAAO,UAAUiB,KAAK,iBAAiB,GAAGvB,EAAIO,GAAG,KAAKJ,EAAG,YAAY,CAACE,YAAY,iBAAiBC,MAAM,CAAC,OAASN,EAAIwB,SAAS,MAAQ,KAAK,CAACrB,EAAG,MAAM,CAACE,YAAY,yBAAyB,CAACF,EAAG,MAAM,CAACE,YAAY,gCAAgC,CAACF,EAAG,QAAQ,CAACA,EAAG,QAAQ,CAACA,EAAG,KAAK,CAACA,EAAG,KAAK,CAACE,YAAY,4BAA4B,CAACL,EAAIO,GAAG,UAAUP,EAAIO,GAAG,KAAKJ,EAAG,KAAK,CAACE,YAAY,mCAAmC,CAACL,EAAIO,GAAG,iBAAiBP,EAAIO,GAAG,KAAKJ,EAAG,KAAK,CAACE,YAAY,8BAA8B,CAACL,EAAIO,GAAG,YAAYP,EAAIO,GAAG,KAAKJ,EAAG,KAAK,CAACE,YAAY,mCAAmCL,EAAIO,GAAG,KAAOP,EAAIrE,MAAyLwE,EAAG,QAAQH,EAAIyB,GAAIzB,EAAwB,sBAAE,SAASgJ,GAAa,OAAO7I,EAAG,mBAAmBH,EAAIiJ,GAAG,CAACvH,IAAIsH,EAAYrB,OAAOjL,MAAM,mBAAmBsM,GAAY,OAAU,GAAhW7I,EAAG,QAAQH,EAAIyB,GAAIzB,EAAyB,uBAAE,SAASgJ,GAAa,OAAO7I,EAAG,mBAAmBH,EAAIiJ,GAAG,CAACvH,IAAIsH,EAAYrB,OAAOjL,MAAM,mBAAmBsM,GAAY,OAAU,WAA4LhJ,EAAIO,GAAG,KAAKJ,EAAG,SAAS,CAACE,YAAY,uCAAuC,CAAEL,EAAIkJ,WAAWC,MAAQ,IAAMnJ,EAAIrE,MAAOwE,EAAG,MAAM,CAACE,YAAY,+DAA+D,CAACF,EAAG,iBAAiB,CAACG,MAAM,CAAC,GAAK,mBAAmB,MAAQN,EAAIkJ,WAAWC,MAAM,QAAUnJ,EAAIkJ,WAAWE,QAAQ,MAAQpJ,EAAIqJ,MAAM,KAAOrJ,EAAIkJ,WAAWnF,KAAK,UAAY,OAAO,WAAa,QAAQhD,GAAG,CAAC,MAAQ,SAASK,GAAQ,OAAOpB,EAAIsJ,gBAAgB,GAAGtJ,EAAIkB,QAAQ,IACtnEiB,EAAkB,I,oGC4FtB,mBACA,eACA,e,yDAEA,CACEzF,KAAM,YACN6M,WAAY,CACVC,cAAJ,WAEE3K,MAAO,CACL3C,UAAWuN,QAEb,OACE,MAAO,CACLC,gBAAiB,CAAvB,0BACMN,QAAS,GACTrF,KAAM,EACN4F,oBAAqB,EACrBhO,MAAO,GACPS,KAAM,GACNH,YAAa,GACbuG,WAAYrD,KAAKjD,UAAUoD,QAAQC,GACnC+C,aAAcnD,KAAKjD,UAAUqD,GAC7BT,SAAUK,KAAKyC,MAAMC,OAAO+H,aAAa9K,SACzC+K,kBAAkB,EAClBC,iBAAiB,EACjBC,aAAa,IAGjBtK,SAAU,CACR,yBACE,OAAON,KAAKuK,gBAAgBvF,UAGhCtE,MAAF,CACI,SAEEV,KAAK6K,QAAQC,QAAQP,gBAAgBQ,WAEvC,OACE/K,KAAKgL,oBAEP,cACEhL,KAAKgL,qBAGT,cACEhL,KAAKiL,kBAEP9B,QAAS,CACP,uBAEE,IAAI+B,EAAclL,KAAKmL,OAAO3O,MAC9BwD,KAAK4E,KAAOvE,SAAS6K,EAAYtG,KAAM,KAAO,EAC9C5E,KAAK/C,KAAOiO,EAAYjO,MAAQ,GAChC+C,KAAKlD,YAAcoO,EAAYpO,aAAe,GAC9CkD,KAAKmD,aAAe9C,SAAS6K,EAAY/H,eAAiBnD,KAAKmD,aAC/DnD,KAAKqD,WAAahD,SAAS6K,EAAY7H,aAAerD,KAAKqD,YAE7D,mBAAmBjD,GACjBJ,KAAK0K,kBAAmB,EACxB1K,KAAK2K,iBAAkB,EACvB,UACQ,EAAd,cACA,SAIQ,OAHA3K,KAAK4K,aAAc,EACnB5K,KAAK0K,kBAAmB,OACxBpB,QAAQC,MAAMC,SAIVxJ,KAAK6K,QAAQC,QAAQP,gBAAgBQ,UAC3C/K,KAAK0K,kBAAmB,EACxB1K,KAAK2K,iBAAkB,GAEzB,aAGE3K,KAAKoL,QAAQ5L,KAAK,CAAxB,8IAEI,4BAA4BtC,EAAa2C,GACvCG,KAAKmD,aAAejG,EACpB8C,KAAKqD,WAAaxD,GAEpB,mBAEoB,IAAdG,KAAK4E,KAEW,KAAd5E,KAAK/C,MAAoC,KAArB+C,KAAKlD,cAE3BkD,KAAK4E,KAAO5E,KAAKwK,sBAGnBxK,KAAKwK,oBAAsBxK,KAAK4E,KAChC5E,KAAK4E,KAAO,IAGhB,WAAWyG,GAI0B,SAA/BA,EAAEnJ,OAAOoJ,QAAQC,YACnBvL,KAAK4E,KAAO5E,KAAK4E,KAAO,GAKS,SAA/ByG,EAAEnJ,OAAOoJ,QAAQC,YACnBvL,KAAK4E,KAAO5E,KAAK4E,KAAO,GAKtByG,EAAEnJ,OAAOoJ,QAAQ1G,OACnB5E,KAAK4E,KAAOvE,SAASgL,EAAEnJ,OAAOoJ,QAAQ1G,SAI5C4G,OAAQ,CACNjB,gBAAiB,CACf/N,MAAO,EAAb,QACM,YACE,MAAO,CACL6G,WAAYrD,KAAKqD,WACjBoI,WAAYzL,KAAK4E,KACjBqF,QAASjK,KAAKiK,QACd9G,aAAcnD,KAAKmD,aACnBlG,KAAM+C,KAAK/C,MAAQ,KACnBH,YAAakD,KAAKlD,aAAe,OAGrC,OAAO,GAAb,yBACamM,IACCM,EACFD,QAAQoC,IAAI,UAAUnC,EAAMoC,SAASC,SAErC5L,KAAK6L,kB,6IC9MjB,CACEtO,KAAM,aACNmC,MAAO,CACLgJ,QAASC,SAEXK,KAAM,WACJ,MAAO,CACL8C,UAAW,UAGfpL,MAAO,CACLgI,QAAS,SAAb,GACUqD,IACF/L,KAAK8L,UAAY,WAIvB3C,QAAS,CACP6C,UAAW,WACThM,KAAK8L,UAAY,WAEnBG,aAAc,WACZjM,KAAK8L,UAAY,QACjB9L,KAAKW,MAAM,SAEbuL,YAAa,WACXlM,KAAK8L,UAAY,W,+ICjDR,G,uDCAf,kGAAIlL,EAAS,WAAa,IAAIC,EAAIb,KAASc,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,qBAAqB,CAACF,EAAG,aAAa,CAACM,WAAW,CAAC,CAAC/D,KAAK,OAAOgE,QAAQ,SAAS3D,MAAyB,UAAlBiD,EAAIiL,WAA2C,UAAlBjL,EAAIiL,UAAuBtK,WAAW,mDAAmDL,MAAM,CAAC,UAAYN,EAAI6H,QAAQ,OAAS,WAAW9G,GAAG,CAAC,MAAQf,EAAImL,YAAY,CAAChL,EAAG,SAAS,CAACH,EAAIO,GAAG,uBAAuBP,EAAIO,GAAG,KAAKJ,EAAG,aAAa,CAACM,WAAW,CAAC,CAAC/D,KAAK,OAAOgE,QAAQ,SAAS3D,MAAyB,YAAlBiD,EAAIiL,UAAyBtK,WAAW,4BAA4BL,MAAM,CAAC,OAAS,WAAWS,GAAG,CAAC,MAAQf,EAAIoL,eAAe,CAACjL,EAAG,SAAS,CAACH,EAAIO,GAAG,eAAeP,EAAIO,GAAG,KAAKJ,EAAG,aAAa,CAACM,WAAW,CAAC,CAAC/D,KAAK,OAAOgE,QAAQ,SAAS3D,MAAyB,YAAlBiD,EAAIiL,UAAyBtK,WAAW,4BAA4BL,MAAM,CAAC,SAAW,IAAIS,GAAG,CAAC,MAAQf,EAAIqL,cAAc,CAAClL,EAAG,WAAW,CAACG,MAAM,CAAC,KAAO,OAAOH,EAAG,SAAS,CAACH,EAAIO,GAAG,aAAa,IAAI,IAC37B4B,EAAkB,I,kCCDtB,kGAAIpC,EAAS,WAAa,IAAiBE,EAATd,KAAgBe,eAAmBC,EAAnChB,KAA0CiB,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,qBAAqB,CAACF,EAAG,OAAO,CAACG,MAAM,CAAC,YAA5HnB,KAA8I9C,YAAY,UAA1J8C,KAA0KH,UAAU,SAApLG,KAAmMmM,SAAS,YAA5MnM,KAA8NlD,YAAY,OAA1OkD,KAAuPhD,OAAO,WAA9PgD,KAA+QpD,WAAW,YAAc,WAAW,IACjVoG,EAAkB,I,kCCDtB,IAAIrG,EAAYyP,EAAQ,QACpBC,EAAMD,EAAQ,QAElB1N,EAAOC,QAAU,SAAS2N,GACxB,OAAOD,EAAI1P,EAAU2P,M,6GCHvB,M,4bAAA,6NAGA,I,EAAA,Y,+HAEA,I,GAQgB,I,EADhB,Y,4BACgB,SACd5C,UACAC,SACAC,mBAXgC,EAEb,KAEC,KAEU,MAYPjL,Q,mECxBzB,mBACA,eACA,eACA,eACA,UACA,gB,mDAEA,IAAI4N,UAAI,CACNC,iBACAC,gBACAC,gCACAC,gBAAiBC,IAAIC,SAASC,KAAKC,IACnC/D,OACE,IAAItG,EAASsK,SAASC,cAAc,yBACpC,MAAO,CAAEvK,OAAQhG,KAAKwQ,MAAMxK,EAAOyK,eAErCvM,OAAQwM,GAAKA,EAAEC,aACdC,OAAO,S,uGCgCHhR,eAAiCsG,GACtC,aAAa,aAAQ,2BAA4B,CAC/C2K,OAAQ,MACRC,KAAM5K,K,0BAhCHtG,eAAuCuG,EAAgBpC,GAC5D,IAAI,YAAEgN,SAAsB,aAAS,iCAAgC5K,GAIjE6K,EAAiBjN,EAAY0D,IAAI,IAAkB,IAAjB,GAAE/D,EAAF,KAAM7C,GAAW,EACjDoQ,EAAaF,EAAYvN,KAAK0N,GAAKA,EAAE1Q,cAAgBkD,GACzD,MAAO,CACLlD,YAAakD,EACbyI,cAAetL,EACfmL,QAAuB,MAAdiF,KAIb,OAAO,IAAAE,QAAOH,EAAgB,QAAC,cAAE7E,GAAH,SAAuBA,K,qBAlBhDvM,eAAkCuG,GACvC,aAAa,aAAS,0BAAyBA,I,kBAb1CvG,iBAGL,aAFqB,aAAQ,2BAEb6H,IAAI,IAA+B,IAA9B,IAAE5B,EAAF,OAAOiG,EAAP,SAAe9G,GAAe,EACjD,MAAO,CACLmB,eAAgBN,EAChBiG,SACA9G,e,sBA6CCpF,eAAmCsG,GACxC,aAAa,aAAQ,6BAA8B,CACjD2K,OAAQ,MACRC,KAAM5K,K,iCArBHtG,eAA8CwR,GACnD,aAAaC,QAAQhB,IAAIe,EAAqB3J,IAAI7H,UAChD,IAAI0M,QAAa,IAAAgF,kBAAiBjR,EAAUoG,cAC5C,MAAO,CACL8K,sBAAuBlR,EAAUkR,sBACjCjF,KAAMA,EAAKjM,UACX2L,QAAS3L,EAAU2L,aA5CzB,I,EAAA,YACA,G,EAAA,Y,2BACA,a,kCCFAhK,EAAOC,QAAU,SAASoL,GACxB,IAAI,MAAEC,EAAF,QAASC,GAAYF,EAEzB,OADAA,EAAWmE,WAAwB,IAAVlE,EAAe,EAAImE,KAAKC,KAAKpE,EAAQC,GACvDF,I,kCCHT,kGAAInJ,EAAS,WAAa,IAAIC,EAAIb,KAASc,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,OAAO,CAACE,YAAY,uDAAuD,CAACF,EAAG,MAAM,CAACA,EAAG,cAAc,CAACE,YAAY,qBAAqBC,MAAM,CAAC,GAAK,CAAE5D,KAAM,uBAAwBqF,OAAQ,CAAEL,IAAK1B,EAAIgC,mBAAoB,CAAC7B,EAAG,WAAW,CAACE,YAAY,cAAcC,MAAM,CAAC,KAAO,OAAO,KAAO,WAAWN,EAAIO,GAAG,KAAKJ,EAAG,IAAI,CAACE,YAAY,eAAe,CAACL,EAAIO,GAAG,uBAAuB,IAAI,GAAGP,EAAIO,GAAG,KAAKJ,EAAG,KAAK,CAACE,YAAY,sBAAsB,CAACL,EAAIO,GAAGP,EAAIQ,GAAGR,EAAIwN,oBAAoBxN,EAAIO,GAAG,KAAKJ,EAAG,MAAM,CAACE,YAAY,0CAA0C,CAACF,EAAG,IAAI,CAACM,WAAW,CAAC,CAAC/D,KAAK,OAAOgE,QAAQ,SAAS3D,MAAOiD,EAAe,YAAEW,WAAW,gBAAgBN,YAAY,2BAA2B,CAACL,EAAIO,GAAGP,EAAIQ,GAAGR,EAAIY,gBAAgBZ,EAAIO,GAAG,KAAKJ,EAAG,aAAa,CAACE,YAAY,kBAAkBC,MAAM,CAAC,QAAUN,EAAIa,SAAS,SAAWb,EAAIc,eAAeC,GAAG,CAAC,OAASf,EAAIgB,eAAe,CAACb,EAAG,QAAQ,CAACH,EAAIO,GAAG,YAAYJ,EAAG,QAAQ,CAACG,MAAM,CAAC,KAAO,WAAW,KAAO,WAAW,GAAGN,EAAIO,GAAG,KAAKJ,EAAG,MAAM,CAACM,WAAW,CAAC,CAAC/D,KAAK,OAAOgE,QAAQ,SAAS3D,MAAOiD,EAAIiB,iBAAmBjB,EAAIa,SAAUF,WAAW,iCAAiC,CAACR,EAAG,WAAW,CAACE,YAAY,iBAAiBC,MAAM,CAAC,KAAO,UAAU,KAAO,WAAWN,EAAIO,GAAG,KAAKJ,EAAG,IAAI,CAACE,YAAY,kBAAkB,CAACL,EAAIO,GAAG,wCAAwC,GAAGP,EAAIO,GAAG,KAAOP,EAAIa,UAAab,EAAIiB,eAIn6BjB,EAAIkB,KAJ+6Bf,EAAG,MAAM,CAACE,YAAY,6BAA6B,CAACF,EAAG,YAAY,CAACE,YAAY,uBAAuB,CAACF,EAAG,QAAQ,CAACM,WAAW,CAAC,CAAC/D,KAAK,QAAQgE,QAAQ,UAAU3D,MAAOiD,EAAS,MAAEW,WAAW,UAAUL,MAAM,CAAC,KAAO,SAAS,YAAc,sBAAsBa,SAAS,CAAC,MAASnB,EAAS,OAAGe,GAAG,CAAC,MAAQ,SAASK,GAAWA,EAAOC,OAAOC,YAAqBtB,EAAIrE,MAAMyF,EAAOC,OAAOtE,WAAUiD,EAAIO,GAAG,KAAKJ,EAAG,WAAW,CAACG,MAAM,CAAC,KAAO,cAAc,KAAO,UAAUiB,KAAK,iBAAiB,GAAGvB,EAAIO,GAAG,KAAKJ,EAAG,KAAK,CAACE,YAAY,sBAAsB,CAACL,EAAIO,GAAGP,EAAIQ,GAAGR,EAAIV,QAAQ5C,MAAM,oBAAoBsD,EAAIO,GAAG,KAAKJ,EAAG,YAAY,CAACE,YAAY,iBAAiBC,MAAM,CAAC,OAASN,EAAIwB,SAAS,MAAQ,KAAK,CAACrB,EAAG,MAAM,CAACE,YAAY,yBAAyB,CAACF,EAAG,MAAM,CAACE,YAAY,gCAAgC,CAACF,EAAG,QAAQ,CAACA,EAAG,QAAQ,CAACA,EAAG,KAAK,CAACA,EAAG,KAAK,CAACE,YAAY,mCAAmC,CAACL,EAAIO,GAAG,eAAeP,EAAIO,GAAG,KAAKJ,EAAG,KAAK,CAACE,YAAY,mCAAmC,CAACL,EAAIO,GAAG,iBAAiBP,EAAIO,GAAG,KAAKJ,EAAG,QAAQH,EAAIyB,GAAIzB,EAAwB,sBAAE,SAAS8M,EAAWW,GAAO,OAAOtN,EAAG,yBAAyBH,EAAIiJ,GAAG,CAACvH,IAAK1B,EAAI+D,KAAO,IAAM0J,EAAOnN,MAAM,CAAC,eAAiBN,EAAIgC,eAAe,WAAahC,EAAIJ,YAAYP,MAAK,SAAUqO,GAGppF,OAFSA,EAAInO,KAECuN,EAAWzQ,eACvB6L,aAAa,yBAAyB4E,GAAW,OAAU,WAAW9M,EAAIO,GAAG,KAAKJ,EAAG,SAAS,CAACE,YAAY,uCAAuC,CAAEL,EAAIkJ,WAAWC,MAAQ,EAAGhJ,EAAG,MAAM,CAACE,YAAY,+DAA+D,CAACF,EAAG,iBAAiB,CAACG,MAAM,CAAC,GAAK,mBAAmB,MAAQN,EAAIkJ,WAAWC,MAAM,QAAUnJ,EAAIkJ,WAAWE,QAAQ,MAAQpJ,EAAIqJ,MAAM,KAAOrJ,EAAIkJ,WAAWnF,KAAK,UAAY,QAAQhD,GAAG,CAAC,MAAQ,SAASK,GAAQ,OAAOpB,EAAIsJ,gBAAgB,GAAGtJ,EAAIkB,QAAQ,MAC7fiB,EAAkB,I,oCCLtB,SAASwL,EAAaC,GACpBC,MAAM3K,KAAK/D,MAEX,IAAI4L,EAAU,4BAA8B6C,EAAO/Q,OAAS,mBACrB,mBAA5BgR,MAAMC,kBACfD,MAAMC,kBAAkB3O,KAAMwO,GAE9BxO,KAAK4O,MAAS,IAAIF,MAAM9C,GAAUgD,MAGpC5O,KAAK4L,QAAUA,EACf5L,KAAKgJ,KAAOyF,EACZzO,KAAKzC,KAAOyC,KAAK6O,YAAYtR,K,kEAG/BiR,EAAa3K,UAAYyG,OAAOwE,OAAOJ,MAAM7K,WAC7C2K,EAAa3K,UAAUgL,YAAcL,E,MAEtBA,E,2ICVf,CACExF,KAAI,KACK,K,qIC8CX,mBACA,e,yDAIA,CACEoB,WAAY,CACV2E,gBAAJ,WAEErP,MAAO,CACLsP,aAAc,CACZ3Q,KAAMuB,MACN6I,UAAU,EACVG,QAAS,IAAM,KAGnBI,KAAI,KACK,CACL3G,UAAU,EACVuC,KAAM,EACNqF,QAAS,GACTC,MAAO,EACP1N,MAAO,KAGX8D,SAAU,CACR,aACE,OAAO,EAAb,YACQsE,KAAM5E,KAAK4E,KACXqF,QAASjK,KAAKiK,QACdD,MAAOhK,KAAKgP,aAAatR,UAG7B,wBACE,MAAMuR,GAASjP,KAAK+J,WAAWnF,KAAO,GAAK5E,KAAK+J,WAAWE,QACrDiF,EAAMD,EAAQjP,KAAK+J,WAAWE,QACpC,OAAOjK,KAAKgP,aAAaG,MAAMF,EAAOC,IAExC,uBACE,OAAOlP,KAAKgP,aAAalL,OAAOuH,GACvBA,EAAE7C,OAAOjL,KAAK6R,cAAcC,SAASrP,KAAKxD,MAAM4S,kBAI7D,cACEpP,KAAKqC,SAAWiN,OAAOC,YA1CN,IA2CjBD,OAAOE,iBAAiB,SAAU,IAAMxP,KAAKqC,SAAWiN,OAAOC,YA3C9C,MA6CnBpG,QAAS,CACP,WACEnJ,KAAK4E,KAAOoI,SAASyC,eAAe,oBAAoB7K,Q,8ICzG9D,M,4bAAA,6NAGA,I,EAAA,Y,+HAEA,I,GAQgB,I,EADhB,Y,4BACgB,SACd8E,UACAC,SACAC,mBAXgC,EAEb,KAEC,KAEU,MAYPjL,Q,8ICvBzB,M,4bAAA,6NAGA,I,EAAA,Y,+HAEA,I,GAQgB,I,EADhB,Y,4BACgB,SACd+K,UACAC,SACAC,mBAXgC,EAEb,KAEC,KAEU,MAYPjL,Q,qICsDzB,mBACA,E,4bAAA,YACA,YACA,e,wLAGA,CACEyL,WAAY,CACVsF,sBAAJ,WAEE1G,KAAI,KACK,CACLnG,eAAgB,kBAChBwL,gBAAiB,mBACjB5M,YAAa,GACbC,UAAU,EACV+L,YAAa,GACbpL,UAAU,EACVuC,KAAM,EACNqF,QAAS,GACTC,MAAO,EACPpI,gBAAgB,EAChBH,eAAe,EACfnF,MAAO,GACP2D,QAAS,KACTM,YAAa,KAGjBH,SAAU,CACR,sBACE,OAAKN,KAAKxD,MAIHwD,KAAKyN,YAAY3J,OAAO8J,IAC7B,GAAIA,EAAE/E,cAAcuG,cAAcC,SAASrP,KAAKxD,MAAM4S,gBAAkBxB,EAAE1Q,YAAYyS,WAAWC,WAAW5P,KAAKxD,OAC/G,OAAOoR,IALF5N,KAAKyN,aAShB,aACE,OAAO,EAAb,YACQ7I,KAAM5E,KAAK4E,KACXqF,QAASjK,KAAKiK,QACdD,MAAOhK,KAAK6P,oBAAoBnS,UAGpC,uBACE,MAAMuR,GAASjP,KAAK+J,WAAWnF,KAAO,GAAK5E,KAAK+J,WAAWE,QACrDiF,EAAMD,EAAQjP,KAAK+J,WAAWE,QACpC,OAAOjK,KAAK6P,oBAAoBV,MAAMF,EAAOC,KAGjD,gBACE,MAAMvP,QAAiB,EAA3B,oBACIK,KAAKG,QAAUR,EAASO,KAAKC,GAAWA,EAAQC,KAAOC,SAASL,KAAKmL,OAAOvI,OAAOxC,GAAI,KACvFJ,KAAKS,kBAAoB,EAA7B,gDACIT,KAAK6C,eAAiB7C,KAAKmL,OAAOvI,OAAOL,UACnCvC,KAAK8P,iCAEb,cACE9P,KAAKqC,SAAWiN,OAAOC,YAzDN,IA0DjBD,OAAOE,iBAAiB,SAAU,IAAMxP,KAAKqC,SAAWiN,OAAOC,YA1D9C,MA4DnBpG,QAAS,CACP,sCAEE,IAAI4G,QAAwB3G,EAAmB4G,mBAAmBhQ,KAAK6C,gBACvE7C,KAAKqO,gBAAkB0B,EAAgBvH,OAAOjL,KAC9CyC,KAAKyB,YAAcsO,EAAgBvH,OAAO/G,YAC1CzB,KAAK0B,SAAWqO,EAAgBrO,SAGhC1B,KAAKyN,kBAAoBrE,EAAmB6G,wBAAwBjQ,KAAK6C,eAAgB7C,KAAKS,aAC9FT,KAAK2B,eAAgB,EACrB3B,KAAK8B,gBAAiB,GAExB,qBAEE,GADA9B,KAAK2B,eAAgB,EACjB3B,KAAK0B,SACP,UACQ0H,EAAmBC,oBAAoB,CAC3C9G,IAAKvC,KAAK6C,eACVqN,QAAQ,IAEVlQ,KAAK0B,UAAY1B,KAAK0B,eAChB1B,KAAK8P,gCACrB,SACUxG,QAAQC,MAAMC,QAGhB,UACQJ,EAAmBK,kBAAkB,CACzClH,IAAKvC,KAAK6C,eACVqN,QAAQ,IAEVlQ,KAAK0B,UAAY1B,KAAK0B,SAChC,SACU4H,QAAQC,MAAMC,GAGlBxJ,KAAK2B,eAAgB,EACrB3B,KAAK8B,gBAAiB,GAExB,WACE9B,KAAK4E,KAAOoI,SAASyC,eAAe,oBAAoB7K,Q,mECvL9D,kGAAIhE,EAAS,WAAa,IAAiBE,EAATd,KAAgBe,eAAmBC,EAAnChB,KAA0CiB,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,uBAAuB,CAACF,EAAG,OAAO,CAACG,MAAM,CAAC,YAA9HnB,KAAgJ9C,YAAY,UAA5J8C,KAA4KH,UAAU,YAAc,aAAa,IAC/OmD,EAAkB,I,6FCCP1G,eAA8B6T,GAa3C,kBAZM,aAAe,qBAAsB,CACzC3T,MAAQ,wKASRC,UAAWC,KAAKC,UAAU,CAAEyD,GAAI+P,OAbpC,I,EAAA,G,EAAA,Y,kFCAA,MAAMC,EAAWpD,SAASC,cAAc,yBAClCvK,EAAShG,KAAKwQ,MAAMkD,EAASjD,aAEnCzO,EAAOC,QAAU+D,G,oGCWjB,I,EAAA,G,EAAA,Y,2BACA,Y,MAEA,CACEnF,KAAM,YACN6M,WAAY,CACViG,kBAAJ,WAEErH,KAAI,KACK,CACLgG,aAAc,GACd/F,SAAS,IAGb,gBACEjJ,KAAKgP,mBAAqB,EAA9B,qBACIhP,KAAKiJ,SAAU,I,qICmCnB,gBACA,E,4bAAA,YACA,Y,qIAIA,CACED,KAAI,KACK,CACLnG,eAAgB,GAChBtF,KAAM,GACNkE,YAAa,GACbC,UAAU,EACVW,UAAU,EACVP,gBAAgB,EAChBH,eAAe,EACfnF,MAAO,GACPmD,SAAU,KAGdW,SAAU,CACR,mBACE,OAAKN,KAAKxD,MAIHwD,KAAKL,SAASmE,OAAO8J,IAC1B,GAAIA,EAAErQ,KAAK6R,cAAcC,SAASrP,KAAKxD,MAAM4S,gBAAkBxB,EAAExN,KAAOC,SAASL,KAAKxD,OACpF,OAAOoR,IALF5N,KAAKL,WAUlB,gBACEK,KAAKL,UAAW,EAApB,8CACIK,KAAK6C,eAAiB7C,KAAKmL,OAAOvI,OAAOL,UACnCvC,KAAKgQ,sBAEb,cACEhQ,KAAKqC,SAAWiN,OAAOC,YAnCN,IAoCjBD,OAAOE,iBAAiB,SAAU,IAAMxP,KAAKqC,SAAWiN,OAAOC,YApC9C,MAsCnBpG,QAAS,CACP,2BACE,IAAI4G,QAAwB3G,EAAmB4G,mBAAmBhQ,KAAK6C,gBACvE7C,KAAKzC,KAAOwS,EAAgBvH,OAAOjL,KACnCyC,KAAKyB,YAAcsO,EAAgBvH,OAAO/G,YAC1CzB,KAAK0B,SAAWqO,EAAgBrO,SAEhC1B,KAAK2B,eAAgB,EACrB3B,KAAK8B,gBAAiB,GAExB,qBAEE,GADA9B,KAAK2B,eAAgB,EACjB3B,KAAK0B,SACP,UACQ0H,EAAmBC,oBAAoB,CAC3C9G,IAAKvC,KAAK6C,eACVqN,QAAQ,IAEVlQ,KAAK0B,UAAY1B,KAAK0B,eAChB1B,KAAKgQ,qBACrB,SACU1G,QAAQC,MAAMC,QAGhB,UACQJ,EAAmBK,kBAAkB,CACzClH,IAAKvC,KAAK6C,eACVqN,QAAQ,IAEVlQ,KAAK0B,UAAY1B,KAAK0B,SAChC,SACU4H,QAAQC,MAAMC,GAGlBxJ,KAAK2B,eAAgB,EACrB3B,KAAK8B,gBAAiB,GAExB,WACE9B,KAAK4E,KAAOoI,SAASyC,eAAe,oBAAoB7K,Q,mECjJ9D,kGAAIhE,EAAS,WAAa,IAAiBE,EAATd,KAAgBe,eAAmBC,EAAnChB,KAA0CiB,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,iBAAiB,CAACF,EAAG,MAAM,CAACE,YAAY,2BAA2B,CAAvJlB,KAAsK,UAAEgB,EAAG,YAAY,CAACG,MAAM,CAAC,UAA/LnB,KAA+MjD,aAA/MiD,KAAgO+B,MAAM,MACpQiB,EAAkB,I,sGC8EtB,mBACA,eACA,eACA,e,yDAEA,CACEzF,KAAM,OACN6M,WAAY,CACVkG,WAAJ,UACIjG,cAAJ,WAEE3K,MAAO,CACL6D,YAAa,CACXlF,KAAMyK,OACNL,UAAU,GAEZ5I,UAAW,CACTxB,KAAMyB,QAER5C,YAAa,CACXmB,KAAMyB,QAER9C,OAAQ,CACNqB,KAAMyB,QAERqM,SAAU,CACR9N,KAAMyK,QAERhM,YAAa,CACXuB,KAAMyK,QAERlM,WAAY,CACVyB,KAAMyB,SAGV,OACE,MAAO,CACLmD,YAAa,GACbsN,kBAAkB,EAClBC,iBAAiB,EACjBC,aAAa,EACbvN,iBAAkB,GAClBmB,UAAWrE,KAAKhD,QAAU,IAC1ByG,QAASzD,KAAKmM,SACdxI,eAAgB3D,KAAKlD,YACrBsG,UAAWpD,KAAK9C,YAChBoG,WAAYtD,KAAKH,UACjB6D,cAAe,GACf/D,SAAUK,KAAKyC,MAAMC,OAAO+H,aAAa9K,WAG7C,UACEK,KAAK0D,cAAgB1D,KAAKL,SAC9B,2CACA,yCAEEwJ,QAAS,CACP,4BAA4BjM,EAAa2C,EAAW6Q,GAClD1Q,KAAKoD,UAAYlG,EACjB8C,KAAKsD,WAAazD,EAClBG,KAAK0D,cAAgBgN,GAEvB,qBACE1Q,KAAK2Q,aAAa3Q,KAAKyD,QAASzD,KAAK2D,eAAgBtD,SAASL,KAAKoD,WAAY/C,SAASL,KAAKqE,WAAYrE,KAAKpD,aAEhH,mBAAmBC,EAAQC,EAAaC,EAAWC,EAAQJ,GACzDoD,KAAKuQ,kBAAmB,EACxBvQ,KAAKwQ,iBAAkB,EACvB,IACM5T,SACI,EAAhB,sBACUoD,KAAKiD,YAAc,iBAEb,EAAhB,oBACUjD,KAAKiD,YAAc,WAE7B,SAMQ,OALAjD,KAAKyQ,aAAc,EACnBzQ,KAAKuQ,kBAAmB,EACxBjH,QAAQC,MAAMC,QAEdxJ,KAAKkD,iBAAmBsG,EAAIR,KAAK,GAAG4C,SAItC5L,KAAKuQ,kBAAmB,EACxBvQ,KAAKwQ,iBAAkB,EAGvBI,YAGA,WACEC,EAAKzF,QAAQ5L,KAAK,CAA1B,qFAJuC,KAEjC,IAAIqR,EAAO7Q,Q,2IC3JjB,CACEN,MAAO,CACLmD,eAAgB,CACdxE,KAAMyK,OACNL,UAAU,EACVG,QAAS,IAEXJ,OAAQ,CACNnK,KAAMiM,OACN7B,UAAU,EACVG,QAAS,KAAM,CAArB,8BAEIlH,SAAU,CACRrD,KAAMsK,QACNF,UAAU,EACVG,SAAS,K,8IC7Bf,M,4bAAA,6NAGA,I,EAAA,Y,+HAEA,I,GAQgB,I,EADhB,Y,4BACgB,SACdc,UACAC,SACAC,mBAXgC,EAEb,KAEC,KAEU,MAYPjL,Q,mECxBzB,SAASmS,EAAgBlF,EAAS9G,GAChC4J,MAAM3K,KAAK/D,MAC4B,mBAA5B0O,MAAMC,kBACfD,MAAMC,kBAAkB3O,KAAM8Q,GAE9B9Q,KAAK4O,MAAS,IAAIF,MAAM9C,GAAUgD,MAGpC5O,KAAK4L,QAAUA,EACf5L,KAAK8E,SAAWA,EAChB9E,KAAKzC,KAAOyC,KAAK6O,YAAYtR,K,kEAG/BuT,EAAgBjN,UAAYyG,OAAOwE,OAAOJ,MAAM7K,WAChDiN,EAAgBjN,UAAUgL,YAAciC,E,MAEzBA,E,uzBCbAxU,eAA8BW,EAAMuQ,GAAiB,IAAXuD,EAAW,uDAAJ,GAC9D,IAAI,KAAE/H,EAAF,OAAQyF,SAAiBuC,EAAQ/T,EAAM,CACzCsQ,OAAQ,OACRC,OACAuD,KAAM,EAAF,CAAIE,OAAO,GAASF,KAI1B,IAAK/H,GAAQyF,EACX,MAAM,IAAID,EAAaC,GAGzB,OAAOzF,GAfT,IAAIgI,EAAU5E,EAAQ,QAClBoC,EAAepC,EAAQ,Q,uDCD3B,kGAAIxL,EAAS,WAAa,IAAIC,EAAIb,KAASc,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,uBAAuB,CAACF,EAAG,MAAM,CAACE,YAAY,0BAA0B,CAACF,EAAG,aAAa,CAACM,WAAW,CAAC,CAAC/D,KAAK,OAAOgE,QAAQ,SAAS3D,MAAOiD,EAAsB,mBAAEW,WAAW,wBAAwB,CAACR,EAAG,OAAO,CAACH,EAAIO,GAAG,8BAA8BP,EAAIO,GAAG,KAAKJ,EAAG,aAAa,CAACM,WAAW,CAAC,CAAC/D,KAAK,OAAOgE,QAAQ,SAAS3D,MAAOiD,EAAoB,iBAAEW,WAAW,qBAAqBL,MAAM,CAAC,OAAS,aAAa,CAACH,EAAG,OAAO,CAACH,EAAIO,GAAG,8CAA8CP,EAAIO,GAAG,KAAKJ,EAAG,aAAa,CAACM,WAAW,CAAC,CAAC/D,KAAK,OAAOgE,QAAQ,SAAS3D,MAAOiD,EAAe,YAAEW,WAAW,gBAAgBL,MAAM,CAAC,OAAS,aAAa,CAACH,EAAG,OAAO,CAACH,EAAIO,GAAG,uDAAuD,GAAGP,EAAIO,GAAG,KAAKJ,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,OAAO,CAACE,YAAY,wBAAwB,CAACF,EAAG,MAAM,CAACE,YAAY,kDAAkD,CAACF,EAAG,MAAM,CAACE,YAAY,gCAAgC,CAACF,EAAG,aAAa,CAACG,MAAM,CAAC,KAAO,UAAU,YAAc,KAAK,CAACH,EAAG,WAAW,CAACG,MAAM,CAAC,KAAO,QAAQ,KAAO,UAAUN,EAAIO,GAAG,KAAKJ,EAAG,cAAc,CAACG,MAAM,CAAC,GAAK,CAAElE,KAAM,mBAAoBT,MAAO,CAAE2G,aAActC,EAAI3D,YAAamG,WAAYxC,EAAIhB,cAAe,CAACgB,EAAIO,GAAG,wBAAwB,GAAGP,EAAIO,GAAG,KAAKJ,EAAG,KAAK,CAACH,EAAIO,GAAG,gCAAgC,KAAKP,EAAIO,GAAG,KAAKJ,EAAG,MAAM,CAACE,YAAY,UAAU,CAACL,EAAI0D,GAAG,GAAG1D,EAAIO,GAAG,KAAKP,EAAI0D,GAAG,GAAG1D,EAAIO,GAAG,KAAKJ,EAAG,IAAI,CAACH,EAAIO,GAAG,uHAAuHP,EAAIO,GAAG,KAAKJ,EAAG,MAAM,CAACE,YAAY,oCAAoC,CAACF,EAAG,QAAQ,CAACkQ,YAAY,CAAC,QAAU,QAAQ/P,MAAM,CAAC,GAAK,0BAA0B,KAAO,QAAQS,GAAG,CAAC,OAASf,EAAIsQ,kBAAkBtQ,EAAIO,GAAG,KAAKJ,EAAG,aAAa,CAACY,GAAG,CAAC,MAAQf,EAAIuQ,mBAAmB,CAACpQ,EAAG,WAAW,CAACG,MAAM,CAAC,KAAO,YAAYH,EAAG,SAAS,CAACH,EAAIO,GAAG,kBAAkB,GAAGP,EAAIO,GAAG,KAAKJ,EAAG,OAAO,CAACG,MAAM,CAAC,GAAK,qBAAqB,CAACN,EAAIO,GAAG,qBAAqB,GAAGP,EAAIO,GAAG,KAAKJ,EAAG,MAAM,CAACE,YAAY,+BAA+B,CAACF,EAAG,MAAM,CAACE,YAAY,uCAAuC,CAACF,EAAG,aAAa,CAACG,MAAM,CAAC,OAAS,WAAWS,GAAG,CAAC,MAAQf,EAAIwQ,wBAAwB,CAACrQ,EAAG,SAAS,CAACH,EAAIO,GAAG,cAAcP,EAAIO,GAAG,KAAKJ,EAAG,MAAM,CAACM,WAAW,CAAC,CAAC/D,KAAK,OAAOgE,QAAQ,SAAS3D,MAAOiD,EAAgB,aAAEW,WAAW,iBAAiBN,YAAY,gCAAgC,CAACL,EAAI0D,GAAG,MAAM,cAC76EvB,EAAkB,CAAC,WAAa,IAAiBlC,EAATd,KAAgBe,eAAmBC,EAAnChB,KAA0CiB,MAAMD,IAAIF,EAAG,OAAOE,EAAG,IAAI,CAACA,EAAG,IAAI,CAACG,MAAM,CAAC,KAAO,yGAAyG,CAArMnB,KAA0MoB,GAAG,qCAA7MpB,KAAsPoB,GAAG,+FAA+F,WAAa,IAAIP,EAAIb,KAASc,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,KAAK,CAACA,EAAG,KAAK,CAACA,EAAG,SAAS,CAACH,EAAIO,GAAG,YAAYP,EAAIO,GAAG,uDAAuDP,EAAIO,GAAG,KAAKJ,EAAG,KAAK,CAACA,EAAG,SAAS,CAACH,EAAIO,GAAG,iBAAiBP,EAAIO,GAAG,gDAAgDP,EAAIO,GAAG,KAAKJ,EAAG,KAAK,CAACA,EAAG,SAAS,CAACH,EAAIO,GAAG,YAAYP,EAAIO,GAAG,6KAA6K,WAAa,IAAiBN,EAATd,KAAgBe,eAAmBC,EAAnChB,KAA0CiB,MAAMD,IAAIF,EAAG,OAAOE,EAAG,OAAO,CAACA,EAAG,KAAK,CAAjFhB,KAAsFoB,GAAG,yB,oJCD/gC,mBACA,eACA,YACA,YACA,Y,mDAEA,IAAIkQ,EAAQ,IAAIC,IAAIjC,OAAOkC,UAC3BF,EAAMG,SAAW,qBACjBH,EAAMI,OAAS,GAEf,MAAMC,EAAW,IAAIC,WAAS,CAC5BC,IAAKP,EAAM3B,WACXmC,YAAa,YAGFC,EAAc,IAAIC,eAAa,CAC1CC,KAAMN,EACNV,MAAO,IAAIiB,gBACXC,mBAAmB,EACnBC,aAAa,I,gBAGf7F,UAAI8F,IAAIC,WAED,MAAM5F,EAAiB,IAAI4F,UAAU,CAC1CC,cAAeR,I,mBAGjB,IAAIS,EAAW,IAAIjB,IAAIjC,OAAOkC,UAC9BgB,EAASf,SAAW,qCACpBe,EAASd,OAAS,GAEX,MAAMe,EAAiB,IAAIT,eAAa,CAC7CC,KAAM,IAAIL,WAAS,CACjBC,IAAKW,EAAS7C,WACdmC,YAAa,YAEfb,MAAO,IAAIiB,gBACXC,mBAAmB,EACnBO,eAAgB,CACdC,WAAY,CAAEC,YAAa,gBAC3BpW,MAAO,CAAEoW,YAAa,mB,0HCzC1B,mBACA,eACA,eACA,eACA,e,mDAEArG,UAAI8F,IAAIQ,W,MAEM,IAAIA,UAAKC,MAAM,CAC3BC,MAAO,GACPC,kBACAC,oBACAC,oB,8HCVa5W,eAA8BO,EAAQC,EAAaC,EAAWC,GAa3E,kBAZM,aAAe,qBAAsB,CACzCR,MAAQ,6TASRC,UAAWC,KAAKC,UAAU,CAAEM,KAAMJ,EAAQC,YAAaA,EAAaI,YAAaH,EAAWC,OAAQA,OAbxG,I,EAAA,G,EAAA,Y,kFCAA,mBACA,eACA,eACA,e,gnBAEI0F,UAAOyQ,QACTC,EAAOC,KAAK,CACVC,IAAK5Q,UAAOyQ,OAAOG,IACnBC,QAAS7Q,UAAO6Q,QAChBC,YAAa9Q,UAAO+Q,IACpBC,aAAc,CAAC,IAAIC,EAAapH,IAAI,CAAEA,oB,kCCV1C7N,EAAOC,QAAU,SAAciV,GAC7B,OAAO,IAAI7F,SAAQ,SAAS8F,GAC1BjD,WAAWiD,EAASD,Q,6GCDxB,M,4bAAA,6NAGA,I,EAAA,Y,+HAEA,I,GAQgB,I,EADhB,Y,4BACgB,SACdlK,UACAC,SACAC,mBAXgC,EAEb,KAEC,KAEU,MAYPjL,Q,8ICvBzB,M,4bAAA,6NAGA,I,EAAA,Y,+HAEA,I,GAQgB,I,EADhB,Y,4BACgB,SACd+K,UACAC,SACAC,mBAXgC,EAEb,KAEC,KAEU,MAYPjL,Q,gJCvBzB,M,4bAAA,6NAGA,I,EAAA,Y,+HAEA,I,GAQgB,I,EADhB,Y,4BACgB,SACd+K,UACAC,SACAC,mBAXgC,EAEb,KAEC,KAEU,MAYPjL,Q,mECxBzB,kGAAIiC,EAAS,WAAa,IAAIC,EAAIb,KAASc,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,KAAK,CAACM,WAAW,CAAC,CAAC/D,KAAK,OAAOgE,QAAQ,SAAS3D,MAAOiD,EAAiB,cAAEW,WAAW,kBAAkBN,YAAY,2BAA2B,CAACF,EAAG,KAAK,CAACE,YAAY,mCAAmC,CAAEL,EAAc,WAAEG,EAAG,MAAM,CAACE,YAAY,+BAA+BC,MAAM,CAAC,IAAMN,EAAIkI,cAAc/H,EAAG,MAAM,CAACE,YAAY,+BAA+BC,MAAM,CAAC,IAAMnB,KAAKyC,MAAMC,OAAOC,kBAAkB9B,EAAIO,GAAG,KAAKJ,EAAG,OAAO,CAACE,YAAY,oBAAoB,CAACL,EAAIO,GAAGP,EAAIQ,GAAGR,EAAIgI,oBAAoBhI,EAAIO,GAAG,KAAKJ,EAAG,KAAK,CAACE,YAAY,yBAAyB,CAACF,EAAG,aAAa,CAACG,MAAM,CAAC,QAAUN,EAAIqI,UAAU,SAAWrI,EAAIoI,SAASrH,GAAG,CAAC,OAASf,EAAIiT,mBAAmB,CAAC9S,EAAG,QAAQ,CAACE,YAAY,gCAAgCL,EAAIO,GAAG,KAAKJ,EAAG,QAAQ,CAACG,MAAM,CAAC,KAAO,WAAW,KAAO,WAAW,MACn3B6B,EAAkB,I,kCCDtB,kGAAIpC,EAAS,WAAa,IAAIC,EAAIb,KAASc,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,0BAA0B,CAACF,EAAG,aAAa,CAACM,WAAW,CAAC,CAAC/D,KAAK,OAAOgE,QAAQ,SAAS3D,MAAOiD,EAAoB,iBAAEW,WAAW,sBAAsB,CAACR,EAAG,OAAO,CAACH,EAAIO,GAAG,4BAA4BP,EAAIO,GAAG,KAAKJ,EAAG,aAAa,CAACM,WAAW,CAAC,CAAC/D,KAAK,OAAOgE,QAAQ,SAAS3D,MAAOiD,EAAmB,gBAAEW,WAAW,oBAAoBL,MAAM,CAAC,OAAS,aAAa,CAACH,EAAG,OAAO,CAACH,EAAIO,GAAG,2CAA2CP,EAAIO,GAAG,KAAKJ,EAAG,aAAa,CAACM,WAAW,CAAC,CAAC/D,KAAK,OAAOgE,QAAQ,SAAS3D,MAAOiD,EAAe,YAAEW,WAAW,gBAAgBL,MAAM,CAAC,OAAS,aAAa,CAACH,EAAG,OAAO,CAACH,EAAIO,GAAG,sDAAsDP,EAAIO,GAAG,KAAKJ,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,OAAO,CAACE,YAAY,wBAAwB,CAACF,EAAG,MAAM,CAACE,YAAY,4DAA4D,CAACL,EAAI0D,GAAG,GAAG1D,EAAIO,GAAG,KAAKJ,EAAG,MAAM,CAACA,EAAG,cAAc,CAACG,MAAM,CAAC,GAAK,CAAElE,KAAM,0BAA2BT,MAAO,CAAE2G,aAActC,EAAIsC,aAAcE,WAAYxC,EAAIwC,eAAgB,CAACrC,EAAG,aAAa,CAACA,EAAG,WAAW,CAACG,MAAM,CAAC,KAAO,YAAYH,EAAG,SAAS,CAACH,EAAIO,GAAG,sBAAsB,IAAI,GAAGP,EAAIO,GAAG,KAAKJ,EAAG,cAAc,CAACG,MAAM,CAAC,GAAK,CAAElE,KAAM,0BAA2BT,MAAO,CAAE2G,aAActC,EAAIsC,aAAcE,WAAYxC,EAAIwC,eAAgB,CAACrC,EAAG,aAAa,CAACG,MAAM,CAAC,OAAS,YAAY,CAACH,EAAG,SAAS,CAACH,EAAIO,GAAG,eAAe,IAAI,KAAKP,EAAIO,GAAG,KAAKJ,EAAG,MAAM,CAACE,YAAY,8BAA8B,CAACF,EAAG,gBAAgB,CAACG,MAAM,CAAC,SAAWN,EAAIlB,SAAS,YAAckB,EAAIsC,aAAa,UAAYtC,EAAIwC,YAAYzB,GAAG,CAAC,oBAAoBf,EAAI2C,+BAA+B3C,EAAIO,GAAG,KAAKJ,EAAG,YAAY,CAACE,YAAY,6BAA6B,CAACF,EAAG,QAAQ,CAACH,EAAIO,GAAG,oBAAoBP,EAAIO,GAAG,KAAKJ,EAAG,QAAQ,CAACM,WAAW,CAAC,CAAC/D,KAAK,QAAQgE,QAAQ,UAAU3D,MAAOiD,EAAQ,KAAEW,WAAW,SAASL,MAAM,CAAC,KAAO,OAAO,KAAO,eAAea,SAAS,CAAC,MAASnB,EAAQ,MAAGe,GAAG,CAAC,MAAQ,SAASK,GAAWA,EAAOC,OAAOC,YAAqBtB,EAAI5D,KAAKgF,EAAOC,OAAOtE,aAAYiD,EAAIO,GAAG,KAAKJ,EAAG,YAAY,CAACE,YAAY,oCAAoC,CAACF,EAAG,QAAQ,CAACH,EAAIO,GAAG,2BAA2BP,EAAIO,GAAG,KAAKJ,EAAG,QAAQ,CAACM,WAAW,CAAC,CAAC/D,KAAK,QAAQgE,QAAQ,UAAU3D,MAAOiD,EAAe,YAAEW,WAAW,gBAAgBL,MAAM,CAAC,KAAO,OAAO,KAAO,sBAAsBa,SAAS,CAAC,MAASnB,EAAe,aAAGe,GAAG,CAAC,MAAQ,SAASK,GAAWA,EAAOC,OAAOC,YAAqBtB,EAAI/D,YAAYmF,EAAOC,OAAOtE,cAAa,GAAGiD,EAAIO,GAAG,KAAKJ,EAAG,YAAY,CAACA,EAAG,QAAQ,CAACE,YAAY,gBAAgB,CAACF,EAAG,QAAQ,CAACA,EAAG,KAAK,CAACA,EAAG,KAAK,CAACH,EAAIO,GAAG,YAAYP,EAAIO,GAAG,KAAKJ,EAAG,KAAK,CAACH,EAAIO,GAAG,UAAUP,EAAIO,GAAG,KAAKJ,EAAG,KAAK,CAACH,EAAIO,GAAG,iBAAiBP,EAAIO,GAAG,KAAKJ,EAAG,KAAK,CAACH,EAAIO,GAAG,YAAYP,EAAIO,GAAG,KAAKJ,EAAG,UAAUH,EAAIO,GAAG,KAAKJ,EAAG,QAAQH,EAAIyB,GAAIzB,EAA0B,wBAAE,SAASkT,GAAU,OAAO/S,EAAG,KAAK,CAACuB,IAAIwR,EAAS3T,GAAGe,MAAM,CAAC,UAAU4S,EAAS3T,KAAK,CAACY,EAAG,KAAK,CAACH,EAAIO,GAAGP,EAAIQ,GAAG0S,EAASC,SAASnT,EAAIO,GAAG,KAAKJ,EAAG,KAAK,CAACH,EAAIO,GAAGP,EAAIQ,GAAG0S,EAAS9W,SAAS4D,EAAIO,GAAG,KAAKJ,EAAG,KAAK,CAACH,EAAIO,GAAGP,EAAIQ,GAAG0S,EAASjX,gBAAgB+D,EAAIO,GAAG,KAAKJ,EAAG,KAAK,CAACH,EAAIO,GAAGP,EAAIQ,GAAG0S,EAAS/W,WAAW6D,EAAIO,GAAG,KAAKJ,EAAG,KAAK,CAACA,EAAG,MAAM,CAACE,YAAY,yBAAyB,CAACF,EAAG,cAAc,CAACG,MAAM,CAAC,GAAK,CAAElE,KAAM,wBAAyBT,MAAO,CAAE2G,aAActC,EAAIsC,aAAcE,WAAYxC,EAAIwC,WAAYpG,KAAM8W,EAAS9W,KAAMH,YAAaiX,EAASjX,YAAaE,OAAQ+W,EAAS/W,OAAQJ,WAAYmX,EAAS3T,OAAQ,CAACY,EAAG,aAAa,CAACA,EAAG,WAAW,CAACG,MAAM,CAAC,KAAO,UAAUH,EAAG,SAAS,CAACH,EAAIO,GAAG,WAAW,IAAI,GAAGP,EAAIO,GAAG,KAAKJ,EAAG,aAAa,CAACG,MAAM,CAAC,iBAAiB4S,EAAS3T,GAAG,SAAW,KAAK,CAACY,EAAG,WAAW,CAACG,MAAM,CAAC,KAAO,WAAWH,EAAG,SAAS,CAACH,EAAIO,GAAG,aAAa,IAAI,KAAKP,EAAIO,GAAG,KAAKJ,EAAG,YAAY,CAACG,MAAM,CAAC,GAAK4S,EAAS3T,GAAG,oBAAoB,KAAK,CAACY,EAAG,MAAM,CAACA,EAAG,IAAI,CAACE,YAAY,8BAA8B,CAACL,EAAIO,GAAG,qDAAqDP,EAAIO,GAAG,KAAKJ,EAAG,aAAa,CAACG,MAAM,CAAC,GAAK,cAAc,kBAAkB4S,EAAS3T,GAAG,OAAS,aAAawB,GAAG,CAAC,MAAQ,SAASK,GAAQ,OAAOpB,EAAIoT,aAAaF,EAAS3T,OAAO,CAACY,EAAG,SAAS,CAACH,EAAIO,GAAG,uBAAuBP,EAAIO,GAAG,KAAKJ,EAAG,aAAa,CAACG,MAAM,CAAC,GAAK,cAAc,kBAAkB4S,EAAS3T,KAAK,CAACY,EAAG,WAAW,CAACG,MAAM,CAAC,KAAO,OAAOH,EAAG,SAAS,CAACH,EAAIO,GAAG,aAAa,IAAI,MAAM,MAAK,OAAOP,EAAIO,GAAG,KAAKJ,EAAG,MAAM,CAACE,YAAY,kCAAkC,CAACF,EAAG,iBAAiB,CAACG,MAAM,CAAC,MAAQN,EAAI0J,gBAAgBxH,WAAW,QAAUlC,EAAIoJ,QAAQ,KAAOpJ,EAAI+D,KAAK,MAAQ,IAAI,UAAY,QAAQhD,GAAG,CAAC,MAAQ,SAASK,GAAQ,OAAOpB,EAAIqT,WAAWjS,QAAa,IAAI,MAAM,IACt+Ie,EAAkB,CAAC,WAAa,IAAiBlC,EAATd,KAAgBe,eAAmBC,EAAnChB,KAA0CiB,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,gCAAgC,CAACF,EAAG,KAAK,CAA7HhB,KAAkIoB,GAAG,oB,8GCDlK,G,yHCAf,mBACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,e,mDAEAmL,UAAI8F,IAAI8B,W,MAEO,IAAIA,UAAU,CAC3BC,KAAM,UACNC,OAAQ,CACN,CACEpX,KAAM,SACN8W,SAAU,uBAEZ,CACE9W,KAAM,sBACNM,KAAM,yBACN+W,UAAWC,WAEb,CACEtX,KAAM,2BACNM,KAAM,uBACN+W,UAAWE,WAEb,CACEvX,KAAM,uCACNM,KAAM,0BACN+W,UAAWG,WAEb,CACExX,KAAM,mBACNM,KAAM,YACN+W,UAAWI,UACXhV,MAAOiV,IAAS,CACdzX,YAAamD,SAASsU,EAAMnY,MAAM2G,cAClCtD,UAAWQ,SAASsU,EAAMnY,MAAM6G,eAGpC,CACEpG,KAAM,wBACNM,KAAM,OACN+W,UAAWM,UACXlV,MAAOiV,IAAS,CACdzX,YAAamD,SAASsU,EAAMnY,MAAM2G,cAClCtD,UAAWQ,SAASsU,EAAMnY,MAAM6G,YAChC8I,SAAUwI,EAAMnY,MAAMS,KACtBH,YAAa6X,EAAMnY,MAAMM,YACzBE,OAAQqD,SAASsU,EAAMnY,MAAMQ,QAC7BJ,WAAYyD,SAASsU,EAAMnY,MAAMI,eAGrC,CACEK,KAAM,0BACNM,KAAM,SACN+W,UAAWO,UACXnV,MAAOiV,IAAS,CACdzX,YAAamD,SAASsU,EAAMnY,MAAM2G,cAClCtD,UAAWQ,SAASsU,EAAMnY,MAAM6G,eAGpC,CACEpG,KAAM,0BACNM,KAAM,SACN+W,UAAWQ,UACXpV,MAAOiV,IAAS,CACdzX,YAAamD,SAASsU,EAAMnY,MAAM2G,cAClCtD,UAAWQ,SAASsU,EAAMnY,MAAM6G,kB,mECvExC,kGAAIzC,EAAS,WAAa,IAAIC,EAAIb,KAASc,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,+BAA+B,CAACF,EAAG,aAAa,CAACA,EAAG,QAAQ,CAACH,EAAIO,GAAG,aAAaP,EAAIO,GAAG,KAAKJ,EAAG,SAAS,CAACM,WAAW,CAAC,CAAC/D,KAAK,QAAQgE,QAAQ,UAAU3D,MAAOiD,EAAqB,kBAAEW,WAAW,sBAAsBL,MAAM,CAAC,KAAO,kBAAkBS,GAAG,CAAC,OAAS,SAASK,GAAQ,IAAI2B,EAAgBhE,MAAMiE,UAAUC,OAAOC,KAAK9B,EAAOC,OAAO8B,SAAQ,SAASC,GAAG,OAAOA,EAAEC,YAAWC,KAAI,SAASF,GAAgD,MAAnC,WAAYA,EAAIA,EAAEG,OAASH,EAAErG,SAAoBiD,EAAId,kBAAkBkC,EAAOC,OAAOoC,SAAWV,EAAgBA,EAAc,MAAM,CAAC5C,EAAG,SAAS,CAACG,MAAM,CAAC,YAAc,KAAK,CAACN,EAAIO,GAAG,oBAAoBP,EAAIO,GAAG,KAAKP,EAAIyB,GAAIzB,EAAY,UAAE,SAASV,GAAS,OAAOa,EAAG,SAAS,CAACuB,IAAIpC,EAAQC,GAAG4B,SAAS,CAAC,MAAQ7B,EAAQC,KAAK,CAACS,EAAIO,GAAGP,EAAIQ,GAAGlB,EAAQ5C,aAAY,KAAKsD,EAAIO,GAAG,KAAKJ,EAAG,aAAa,CAACkQ,YAAY,CAAC,eAAe,QAAQ,CAAClQ,EAAG,QAAQ,CAACH,EAAIO,GAAG,YAAYP,EAAIO,GAAG,KAAKJ,EAAG,SAAS,CAACM,WAAW,CAAC,CAAC/D,KAAK,QAAQgE,QAAQ,UAAU3D,MAAOiD,EAAuB,oBAAEW,WAAW,wBAAwBL,MAAM,CAAC,KAAO,oBAAoBS,GAAG,CAAC,OAAS,SAASK,GAAQ,IAAI2B,EAAgBhE,MAAMiE,UAAUC,OAAOC,KAAK9B,EAAOC,OAAO8B,SAAQ,SAASC,GAAG,OAAOA,EAAEC,YAAWC,KAAI,SAASF,GAAgD,MAAnC,WAAYA,EAAIA,EAAEG,OAASH,EAAErG,SAAoBiD,EAAIZ,oBAAoBgC,EAAOC,OAAOoC,SAAWV,EAAgBA,EAAc,MAAM,CAAC5C,EAAG,SAAS,CAACG,MAAM,CAAC,YAAc,KAAK,CAACN,EAAIO,GAAG,sBAAsBP,EAAIO,GAAG,KAAKP,EAAIyB,GAAIzB,EAAIN,eAA0B,aAAE,SAASxD,GAAW,OAAOiE,EAAG,SAAS,CAACuB,IAAIxF,EAAUqD,GAAG4B,SAAS,CAAC,MAAQjF,EAAUqD,KAAK,CAACS,EAAIO,GAAGP,EAAIQ,GAAGtE,EAAUgY,eAAc,MAAM,IAC3pD/R,EAAkB,I,6FCyJP,SAASgS,GAAmB,IAAdC,EAAc,uDAAJ,GACrC,IAAIC,EAASC,EAASH,EAAKC,GAC3B,OAAOjE,EAAQkE,EAAOF,IAAKE,EAAOD,QAASC,EAAOnE,OA5JpD,MAAM,MAAEqE,EAAF,KAASC,GAASjJ,EAAQ,QAC1BkJ,EAAKlJ,EAAQ,QACbmJ,EAAOnJ,EAAQ,QACf0E,EAAkB1E,EAAQ,QAC1BoJ,EAAiBpJ,EAAQ,SACzB,YAAEqJ,GAAgBrJ,EAAQ,QAC1BsJ,EAAOtJ,EAAQ,QAEfuJ,EAAU,GAEhB,SAASC,EAAY9Q,GACnB,GAAIA,EAAS+Q,GACX,OAAO/Q,EAEP,IAAIyE,EAAQ,IAAIuH,EAAiB,qCAAoChM,EAAS9H,OAAU8H,GACxF,OAAOiJ,QAAQ+H,OAAOvM,GAc1B,SAASwM,EAAkBjR,EAAUkE,EAAMgN,GACzC,OAAIA,EACK,CACLhN,OACAiN,QAASnR,EAASmR,SAGfjN,EA8BT,SAASgI,EAAQgE,EAAKC,EAASlE,GAC7B,IAAImF,EAmBN,SAAqBlB,EAArB,GAA4C,IAAlB,OAAEzH,EAAF,KAAUC,GAAQ,EACtC0I,EAAWlB,EACXzH,GAAqB,QAAXA,GAAoBC,IAChC0I,GAAYR,EAAKlI,IAGnB,OAAO0I,EAzBQC,CAAYnB,EAAKC,GAChC,OAAIlE,EAAKE,QAAUF,EAAKqF,OAASF,KAAYP,EACpC5H,QAAQ8F,QAAQ8B,EAAQO,IAG1BG,MAAMrB,EAAKC,GACfqB,KAAKV,GACLU,KAAK1J,IAAO2J,OAvDEzR,EAuDQ8H,EAvDE4J,EAuDGvB,EAAQgB,QAAQQ,OAvDVT,EAuDkBjF,EAAKiF,YAtDnC,MAApBlR,EAAS9H,OACJ+Q,QAAQ8F,UAED,cAAZ2C,EACK1R,EAAS4R,OAAOJ,KAAKtN,GAAQ+M,EAAkBjR,EAAUkE,EAAMgN,IAEjElR,EAAS6R,OAAOL,KAAKtN,GAAQ+M,EAAkBjR,EAAUkE,EAAMgN,IAPxE,IAAmBlR,EAAU0R,EAASR,IAwDjCM,KAAK9I,IACAuD,EAAKE,QACP0E,EAAQO,GAAY1I,GAEfA,IAERoJ,MAAMpN,GAzCX,SAAqBD,EAAOyL,EAAKC,EAASlE,GACxC,IAAI/T,EAASuM,EAAMzE,UAAYyE,EAAMzE,SAAS9H,OAC9C,GACE+T,EAAK8F,OACL9F,EAAK8F,MAAMC,MAAQ/F,EAAK8F,MAAME,YAC5B/Z,GAAqB,MAAXA,GAA6B,MAAXA,GAC9B,CACA,IAAI,MAAE6Z,GAAU9F,EACZ+F,EAAQ3I,KAAK6I,IAAIH,EAAMC,MAAQ,IAAMD,EAAME,UAE/C,OADAF,EAAMC,MAAQA,EACPvB,EAAKuB,GAAOR,KAAK,IAAMtF,EAAQgE,EAAKC,EAASlE,IAYpD,OAVIA,EAAKkG,cACH3H,OAAO4H,KAAO5H,OAAO4H,IAAInE,MAG3ByC,EAAe2B,aAEf7N,QAAQ8N,KAAK,8FACb3B,EAAYlM,GAAO,KAGhBwE,QAAQ+H,OAAOvM,GAmBR0N,CAAYzN,EAAKwL,EAAKC,EAASlE,IAcjD,SAASoE,EAASH,EAAKC,GAErB,IAAIoC,EAAiB,CACnBvF,YAAa,UACbmE,QAAS,CAAEQ,OAAQ,qBAEjBa,EAAc,CAChBL,aAAa,EACbhG,OAAO,EACP4F,MAAO,CAAEC,MAAO,EAAGC,SAAU,MAI3BhG,EAAOkE,EAAQlE,MAAQ,GACvBwG,EAAclC,EAAKJ,EAAS,QAwBhC,OArBIsC,EAAYhK,QAA+C,QAArCgK,EAAYhK,OAAOiK,gBAC3CH,EAAepB,QAAQ,gBAAkB,oBAEvCsB,EAAY/a,QACdwY,EAAMA,EAAM,IAAMM,EAAG3Y,UAAU4a,EAAY/a,cACpC+a,EAAY/a,OAEjB+a,EAAY/J,MAAoC,iBAArB+J,EAAY/J,OACzC+J,EAAY/J,KAAO9Q,KAAKC,UAAU4a,EAAY/J,QAEhB,IAA5B+J,EAAYzF,qBACPuF,EAAevF,mBACfyF,EAAYzF,aAIhBf,EAAK8F,QACRS,EAAYT,OAAQ,GAEI,kBAAf9F,EAAK8F,cAA8B9F,EAAK8F,MAE5C,CACL7B,MACAjE,KAAMqE,EAAMkC,EAAavG,GACzBkE,QAASG,EAAMiC,EAAgBE,I,uDCxInC,kGAAI3W,EAAS,WAAa,IAAiBE,EAATd,KAAgBe,eAAmBC,EAAnChB,KAA0CiB,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,MAAM,CAACM,WAAW,CAAC,CAAC/D,KAAK,OAAOgE,QAAQ,SAAS3D,MAA5HoC,KAA8I,QAAEwB,WAAW,YAAYN,YAAY,oBAAoB,CAACF,EAAG,WAAW,CAACE,YAAY,iBAAiBC,MAAM,CAAC,KAAO,UAAU,KAAO,WAAnRnB,KAAkSoB,GAAG,KAAKJ,EAAG,IAAI,CAACE,YAAY,kBAAkB,CAAhVlB,KAAqVoB,GAAG,2BAA2B,GAAnXpB,KAA0XoB,GAAG,KAAKJ,EAAG,qBAAqB,CAACG,MAAM,CAAC,aAAlanB,KAAqbgP,iBAAiB,IACpehM,EAAkB,I,qGCoCf,SAAuB5C,GAC5B,IAAIkO,EAAQmJ,EAAiBrX,GAC7B8W,IAAInE,MAAM2E,OAAO,CAAC,aAAaC,OAAO,CAACrJ,EAAO,K,YAOzC,WAAgD,IAA7B/E,EAA6B,uDAArBqO,EAASzP,WACzC,IAAI0P,EAAWX,IAAInE,MAAM+E,IAAI,CAAC,aAAaC,KAAKnM,GAAWA,EAAQoM,SAC9DH,GACHI,EAAY,CACVrM,QAASrC,EACTlL,KAAM,WACN2Z,SAAS,K,gBApDf,IAAI,SAAEE,GAAa9L,EAAQ,QACvBsJ,EAAOtJ,EAAQ,QACfwL,EAAWxL,EAAQ,QAEvB,MAAM+L,EAAW,CACfC,aAAa,EACb/Z,KAAM,YAGD,SAAS4Z,EAAYjP,GAC1B,IAAI5I,EAAKsV,EAAK1M,EAAK4C,SAOnB,OAN8B,IAA1B6L,EAAiBrX,IASvB,SAA6B4I,GAE3B,IAAKA,EAAK5I,GACR,OAAO,EAIT,IAAIiY,EAAc,WAAUrP,EAAK5I,GACjC,GAAgD,UAA5CkP,OAAOgJ,aAAaC,QAAQF,GAC9B,OAAO,EAKT,OADA/I,OAAOgJ,aAAaE,QAAQH,EAAY,UACjC,EAvB4BI,CAAoBzP,KACrDA,EAAK5I,GAAKA,EACV4I,EAAOkP,EAASlP,EAAMmP,GACtBjB,IAAInE,MAAM2E,OAAO,CAAC,aAAalY,KAAKwJ,IAG/B5I,EAyBT,SAASqX,EAAiBrX,GACxB,OAAO8W,IAAInE,MAAM+E,IAAI,CAAC,aAAaY,UAAU9M,GAAWA,EAAQxL,KAAOA,K,kCClCzE,I,0EAEA,CACEgK,WAAY,CACVuO,Y,EAJJ,Y,4BAIA,SAEEjZ,MAAO,CACLxC,YAAa4C,OACbD,UAAWC,QAEb,OACE,MAAO,CAEL/C,UAAW,CACTqD,GAAIJ,KAAK9C,aAAe8C,KAAKyC,MAAMC,OAAO+H,aAAamO,eAAeC,iBAAiBzY,GACvFD,QAAS,CACPC,GAAIJ,KAAKH,WAAaG,KAAKyC,MAAMC,OAAO+H,aAAamO,eAAexY,OAK5E,UACE4M,SAAS8L,MAAQ,eAAiB9Y,KAAKyC,MAAMC,OAAOqW,U,8IC9BxD,M,4bAAA,6NAGA,I,EAAA,Y,+HAEA,I,GAQgB,I,EADhB,Y,4BACgB,SACdrP,UACAC,SACAC,mBAXgC,EAEb,KAEC,KAEU,MAYPjL,Q,kICnBlB,SAAqB6K,GAAkB,IAAbwP,IAAa,yDAE5C,OADAvD,EAAYjM,EAAKwP,GACVjL,QAAQ+H,OAAOtM,I,gCAiCjB,SAAuBoC,EAASmF,GACrB,SAAZmG,IAAIzD,KACNnK,QAAQ8N,KAAKxL,EAASmF,GAGxBqC,EAAO6F,eAAerN,EAASmF,IA7CjC,IAAI,KAAEsE,GAASjJ,EAAQ,QACnBgH,EAAShH,EAAQ,QACjBoJ,EAAiBpJ,EAAQ,QACzB0E,EAAkB1E,EAAQ,QAOvB,SAASqJ,EAAYjM,GAAkB,IAGxCiK,EAH2BuF,IAAa,yDAI5C,IACEvF,EAAMyD,IAAIzD,IACV,MAAOlK,GACPkK,EAAMyF,aAGI,SAARzF,IACFnK,QAAQC,MAAMC,GACdF,QAAQC,MAAMC,EAAIoF,OAASpF,EAAIoC,UAG3BpC,aAAesH,GACnBsC,EAAO+F,iBAAiB3P,EAAK,CAC3BsD,KAAM,CACJsM,WAAY5P,EAAIjM,KAChB8b,KAAM7P,EAAI6P,MAEZC,MAAOjE,EAAK7L,EAAK,OAAQ,UAAW,QAAS,UAI7CwP,GACFxD,EAAe2B,c,kCCtBnB,I,0EAEA,CACE5Z,KAAM,OACN6M,WAAY,CACVmP,O,EALJ,Y,4BAKA,SAEE7Z,MAAO,CACLxC,YAAa4C,OACbD,UAAWC,OACXqM,SAAUrD,OACV9L,OAAQ8C,OACRhD,YAAagM,OACblM,WAAYkD,S,mECpBhB,I,0EAEA,CACEvC,KAAM,SACN6M,WAAY,CACVmP,O,EALJ,Y,4BAKA,SAEE7Z,MAAO,CACLxC,YAAa4C,OACbD,UAAWC,S,+IChBA,G,oICCf,M,4bAAA,6NAGA,I,EAAA,Y,+HAEA,I,GAQgB,I,EADhB,Y,4BACgB,SACd4J,UACAC,SACAC,mBAXgC,EAEb,KAEC,KAEU,MAYPjL,Q,8ICvBzB,M,4bAAA,6NAGA,I,EAAA,Y,+HAEA,I,GAQgB,I,EADhB,Y,4BACgB,SACd+K,UACAC,SACAC,mBAXgC,EAEb,KAEC,KAEU,MAYPjL,Q,8ICvBzB,M,4bAAA,6NAGA,I,EAAA,Y,+HAEA,I,GAQgB,I,EADhB,Y,4BACgB,SACd+K,UACAC,SACAC,mBAXgC,EAEb,KAEC,KAEU,MAYPjL,Q,8ICvBzB,M,4bAAA,6NAGA,I,EAAA,Y,+HAEA,I,GAQgB,I,EADhB,Y,4BACgB,SACd+K,UACAC,SACAC,mBAXgC,EAEb,KAEC,KAEU,MAYPjL,Q,qICwCzB,mBACA,e,yDAEA,CACEpB,KAAM,SACN6M,WAAY,CACVkG,WAAJ,WAEE5Q,MAAO,CACLxC,YAAa4C,OACbD,UAAWC,QAEbkJ,KAAI,KACK,CACLwQ,oBAAoB,EACpBC,kBAAkB,EAClBC,aAAa,EACbC,cAAc,IAGlBxQ,QAAS,CACP,wBACE,IAAIyQ,EAAQ5M,SAASyC,eAAe,2BACpC,GAAImK,EAAMC,MAAM,GAAI,CAClB,IAAIC,EAAS,IAAIC,WACblJ,EAAO7Q,KACX8Z,EAAOE,OAAS,SAAxB,GACUnJ,EAAKoJ,gBAAgBC,EAAIhY,OAAOiY,SAElCL,EAAOM,WAAWR,EAAMC,MAAM,SAE9B7Z,KAAK2Z,cAAe,GAGxB,mBACE,IAAIU,EAAYrN,SAASyC,eAAe,2BACpC4K,GACFA,EAAUC,SAGd,iBACE,IAAIC,EAAWvN,SAASyC,eAAe,oBACnC4K,EAAYrN,SAASyC,eAAe,2BACxC8K,EAASC,UAAYH,EAAUR,MAAM,GAAGtc,MAE1C,sBAAsBhB,GACpByD,KAAKwZ,oBAAqB,EAC1BxZ,KAAKyZ,kBAAmB,EACxB,UACQ,EAAd,cACA,SAIQ,OAHAzZ,KAAK0Z,aAAc,EACnB1Z,KAAKwZ,oBAAqB,OAC1BlQ,QAAQC,MAAMC,GAGhBxJ,KAAKwZ,oBAAqB,EAC1BxZ,KAAKyZ,kBAAmB,EACxBzZ,KAAK2Z,cAAe,EAGpB/I,YAGA,WACEC,EAAKzF,QAAQ5L,KAAK,CAA1B,sFAJuC,KAEjC,IAAIqR,EAAO7Q,Q,8IC9HjB,M,4bAAA,6NAGA,I,EAAA,Y,+HAEA,I,GAQgB,I,EADhB,Y,4BACgB,SACd0J,UACAC,SACAC,mBAXgC,EAEb,KAEC,KAEU,MAYPjL,Q,8ICvBzB,M,4bAAA,6NAGA,I,EAAA,Y,+HAEA,I,GAQgB,I,EADhB,Y,4BACgB,SACd+K,UACAC,SACAC,mBAXgC,EAEb,KAEC,KAEU,MAYPjL,Q","file":"admin.2530a027d3de991a589b.0.js","sourcesContent":["import graphqlRequest from '../../client/lib/graphql_request';\n\nexport default async function importRedirects(csv) {\n  await graphqlRequest('/api/tower/graphql', {\n    query: `\n      mutation ImportRedirects($csv: String!) {\n        importRedirects(input: { csv: $csv }) {\n          importQueued\n          recipientEmail\n        }\n      }\n    `,\n    variables: JSON.stringify({ csv: csv })\n  });\n  return;\n}\n","import graphqlRequest from '../../client/lib/graphql_request';\n\nexport default async function updateRedirect(redirectId, source, destination, community, status) {\n  await graphqlRequest('/api/tower/graphql', {\n    query: `\n      mutation updateRedirect($redirectId: Int!, $path: String!, $destination: String!, $communityId: Int!, $status: Int!) {\n        updateRedirect(where: {id: $redirectId}, input: {path: $path, destination: $destination, community: { id: $communityId }, status: $status}) {\n          redirect {\n            id\n          }\n        }\n      }\n    `,\n    variables: JSON.stringify({ redirectId: redirectId, path: source, destination: destination, communityId: community, status: status })\n  });\n  return;\n}\n","\n    var doc = {\"kind\":\"Document\",\"definitions\":[{\"kind\":\"OperationDefinition\",\"operation\":\"query\",\"name\":{\"kind\":\"Name\",\"value\":\"AllRedirects\"},\"variableDefinitions\":[{\"kind\":\"VariableDefinition\",\"variable\":{\"kind\":\"Variable\",\"name\":{\"kind\":\"Name\",\"value\":\"pageNumber\"}},\"type\":{\"kind\":\"NonNullType\",\"type\":{\"kind\":\"NamedType\",\"name\":{\"kind\":\"Name\",\"value\":\"Int\"}}}},{\"kind\":\"VariableDefinition\",\"variable\":{\"kind\":\"Variable\",\"name\":{\"kind\":\"Name\",\"value\":\"perPage\"}},\"type\":{\"kind\":\"NonNullType\",\"type\":{\"kind\":\"NamedType\",\"name\":{\"kind\":\"Name\",\"value\":\"Int\"}}}},{\"kind\":\"VariableDefinition\",\"variable\":{\"kind\":\"Variable\",\"name\":{\"kind\":\"Name\",\"value\":\"community_id\"}},\"type\":{\"kind\":\"NonNullType\",\"type\":{\"kind\":\"NamedType\",\"name\":{\"kind\":\"Name\",\"value\":\"Int\"}}}},{\"kind\":\"VariableDefinition\",\"variable\":{\"kind\":\"Variable\",\"name\":{\"kind\":\"Name\",\"value\":\"path\"}},\"type\":{\"kind\":\"NamedType\",\"name\":{\"kind\":\"Name\",\"value\":\"String\"}}},{\"kind\":\"VariableDefinition\",\"variable\":{\"kind\":\"Variable\",\"name\":{\"kind\":\"Name\",\"value\":\"destination\"}},\"type\":{\"kind\":\"NamedType\",\"name\":{\"kind\":\"Name\",\"value\":\"String\"}}}],\"directives\":[],\"selectionSet\":{\"kind\":\"SelectionSet\",\"selections\":[{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"searchRedirects\"},\"arguments\":[{\"kind\":\"Argument\",\"name\":{\"kind\":\"Name\",\"value\":\"query\"},\"value\":{\"kind\":\"ObjectValue\",\"fields\":[{\"kind\":\"ObjectField\",\"name\":{\"kind\":\"Name\",\"value\":\"perPage\"},\"value\":{\"kind\":\"Variable\",\"name\":{\"kind\":\"Name\",\"value\":\"perPage\"}}},{\"kind\":\"ObjectField\",\"name\":{\"kind\":\"Name\",\"value\":\"pageNumber\"},\"value\":{\"kind\":\"Variable\",\"name\":{\"kind\":\"Name\",\"value\":\"pageNumber\"}}},{\"kind\":\"ObjectField\",\"name\":{\"kind\":\"Name\",\"value\":\"communityId\"},\"value\":{\"kind\":\"Variable\",\"name\":{\"kind\":\"Name\",\"value\":\"community_id\"}}},{\"kind\":\"ObjectField\",\"name\":{\"kind\":\"Name\",\"value\":\"path\"},\"value\":{\"kind\":\"Variable\",\"name\":{\"kind\":\"Name\",\"value\":\"path\"}}},{\"kind\":\"ObjectField\",\"name\":{\"kind\":\"Name\",\"value\":\"destination\"},\"value\":{\"kind\":\"Variable\",\"name\":{\"kind\":\"Name\",\"value\":\"destination\"}}}]}}],\"directives\":[],\"selectionSet\":{\"kind\":\"SelectionSet\",\"selections\":[{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"results\"},\"arguments\":[],\"directives\":[],\"selectionSet\":{\"kind\":\"SelectionSet\",\"selections\":[{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"id\"},\"arguments\":[],\"directives\":[]},{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"path\"},\"arguments\":[],\"directives\":[]},{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"destination\"},\"arguments\":[],\"directives\":[]},{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"status\"},\"arguments\":[],\"directives\":[]},{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"host\"},\"arguments\":[],\"directives\":[]}]}},{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"totalCount\"},\"arguments\":[],\"directives\":[]}]}}]}}],\"loc\":{\"start\":0,\"end\":396}};\n    doc.loc.source = {\"body\":\"query AllRedirects($pageNumber: Int!, $perPage: Int!, $community_id: Int!, $path: String, $destination: String) {\\n  searchRedirects(query: {\\n    perPage: $perPage\\n    pageNumber: $pageNumber\\n    communityId: $community_id\\n    path: $path\\n    destination: $destination\\n  }) {\\n      results {\\n        id\\n        path\\n        destination\\n        status\\n        host\\n      }\\n      totalCount\\n    }\\n}\\n\",\"name\":\"GraphQL request\",\"locationOffset\":{\"line\":1,\"column\":1}};\n  \n\n    var names = {};\n    function unique(defs) {\n      return defs.filter(\n        function(def) {\n          if (def.kind !== 'FragmentDefinition') return true;\n          var name = def.name.value\n          if (names[name]) {\n            return false;\n          } else {\n            names[name] = true;\n            return true;\n          }\n        }\n      )\n    }\n  \n\n    // Collect any fragment/type references from a node, adding them to the refs Set\n    function collectFragmentReferences(node, refs) {\n      if (node.kind === \"FragmentSpread\") {\n        refs.add(node.name.value);\n      } else if (node.kind === \"VariableDefinition\") {\n        var type = node.type;\n        if (type.kind === \"NamedType\") {\n          refs.add(type.name.value);\n        }\n      }\n\n      if (node.selectionSet) {\n        node.selectionSet.selections.forEach(function(selection) {\n          collectFragmentReferences(selection, refs);\n        });\n      }\n\n      if (node.variableDefinitions) {\n        node.variableDefinitions.forEach(function(def) {\n          collectFragmentReferences(def, refs);\n        });\n      }\n\n      if (node.definitions) {\n        node.definitions.forEach(function(def) {\n          collectFragmentReferences(def, refs);\n        });\n      }\n    }\n\n    var definitionRefs = {};\n    (function extractReferences() {\n      doc.definitions.forEach(function(def) {\n        if (def.name) {\n          var refs = new Set();\n          collectFragmentReferences(def, refs);\n          definitionRefs[def.name.value] = refs;\n        }\n      });\n    })();\n\n    function findOperation(doc, name) {\n      for (var i = 0; i < doc.definitions.length; i++) {\n        var element = doc.definitions[i];\n        if (element.name && element.name.value == name) {\n          return element;\n        }\n      }\n    }\n\n    function oneQuery(doc, operationName) {\n      // Copy the DocumentNode, but clear out the definitions\n      var newDoc = {\n        kind: doc.kind,\n        definitions: [findOperation(doc, operationName)]\n      };\n      if (doc.hasOwnProperty(\"loc\")) {\n        newDoc.loc = doc.loc;\n      }\n\n      // Now, for the operation we're running, find any fragments referenced by\n      // it or the fragments it references\n      var opRefs = definitionRefs[operationName] || new Set();\n      var allRefs = new Set();\n      var newRefs = new Set();\n\n      // IE 11 doesn't support \"new Set(iterable)\", so we add the members of opRefs to newRefs one by one\n      opRefs.forEach(function(refName) {\n        newRefs.add(refName);\n      });\n\n      while (newRefs.size > 0) {\n        var prevRefs = newRefs;\n        newRefs = new Set();\n\n        prevRefs.forEach(function(refName) {\n          if (!allRefs.has(refName)) {\n            allRefs.add(refName);\n            var childRefs = definitionRefs[refName] || new Set();\n            childRefs.forEach(function(childRef) {\n              newRefs.add(childRef);\n            });\n          }\n        });\n      }\n\n      allRefs.forEach(function(refName) {\n        var op = findOperation(doc, refName);\n        if (op) {\n          newDoc.definitions.push(op);\n        }\n      });\n\n      return newDoc;\n    }\n\n    module.exports = doc;\n    \n        module.exports[\"AllRedirects\"] = oneQuery(doc, \"AllRedirects\");\n        \n","<template>\n  <div class=\"m-redirects__network-filter\">\n    <res-select>\n      <label>Network</label>\n      <select v-model=\"selectedNetworkId\" name=\"select-network\">\n        <option placeholder=\"\">Select network</option>\n\n\n        <option v-for=\"network in networks\" :key=\"network.id\" :value=\"network.id\">{{ network.name }}</option>\n\n\n      </select>\n    </res-select>\n\n    <res-select style=\"margin-right: 8px;\">\n      <label>Domain</label>\n      <select v-model=\"selectedCommunityId\" name=\"select-community\"><option placeholder=\"\">Select community</option>\n\n        <option v-for=\"community in currentNetwork.communities\" :key=\"community.id\" :value=\"community.id\">{{ community.domain }}</option>\n\n      </select>\n    </res-select>\n  </div>\n</template>\n\n<script>\n\nexport default {\n  name: 'NetworkFilter',\n  props: {\n    networks: Array,\n    networkId: Number,\n    communityId: Number\n  },\n  data () {\n    return {\n      selectedNetworkId: this.networkId,\n      selectedCommunityId: this.communityId || this.networks.find(function(network) {\n        return network.id === parseInt(this.networkId);\n      }, this).communities[0].id,\n    };\n  },\n  computed: {\n    // this returns the current network object as selected in the network dropdown\n    currentNetwork: function() {\n      return this.networks.find(function(network) {\n        return network.id === this.selectedNetworkId;\n      }, this);\n    },\n    selectedDomainName: function() {\n      return this.currentNetwork.communities.find(function(community) {\n        return community.id === this.selectedCommunityId;\n      }, this).domain;\n    }\n  },\n  watch: {\n    // we need to watch when the current network changes using the network dropdown, and re-set the community id appropriately\n    // for example, if someone changes the domain in the host dropdown, and then changes the network, we update the host dropdown to reflect the list of domains from the network they selected\n    currentNetwork: function() {\n      this.selectedCommunityId = this.currentNetwork.communities[0].id;\n    },\n    selectedCommunityId: function() {\n      this.$emit('community-changed', this.selectedCommunityId, this.selectedNetworkId, this.selectedDomainName);\n    }\n  },\n};\n</script>\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('main',{staticClass:\"m-dashboard__content m-entitlement-networks m-admin\"},[_c('div',[_c('router-link',{staticClass:\"m-entitlement-info\",attrs:{\"to\":{ name: 'entitlements-dashboard' }}},[_c('res-icon',{staticClass:\"m-back-icon\",attrs:{\"name\":\"back\",\"size\":\"large\"}}),_vm._v(\" \"),_c('p',{staticClass:\"m-back-text\"},[_vm._v(\"Back to entitlements\")])],1)],1),_vm._v(\" \"),_c('h1',{staticClass:\"m-entitlement-name\"},[_vm._v(_vm._s(_vm.name))]),_vm._v(\" \"),_c('div',{staticClass:\"m-entitlement-global-description-block\"},[_c('p',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.description),expression:\"description\"}],staticClass:\"entitlement-description\"},[_vm._v(_vm._s(_vm.description))]),_vm._v(\" \"),_c('res-switch',{staticClass:\"m-global-toggle\",attrs:{\"checked\":_vm.isGlobal,\"disabled\":_vm.globalLoading},on:{\"change\":_vm.toggleGlobal}},[_c('label',[_vm._v(\"Global\")]),_c('input',{attrs:{\"type\":\"checkbox\",\"name\":\"s1\"}})])],1),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.initialLoading && !_vm.isGlobal),expression:\"initialLoading && !isGlobal\"}]},[_c('res-icon',{staticClass:\"m-loading-icon\",attrs:{\"name\":\"loading\",\"size\":\"large\"}}),_vm._v(\" \"),_c('p',{staticClass:\"m-loading-text\"},[_vm._v(\"Loading \"+_vm._s(_vm.name)+\"s networks\")])],1),_vm._v(\" \"),(!_vm.isGlobal && !_vm.initialLoading)?_c('div',{staticClass:\"m-entitlement-assignments\"},[_c('h2',{staticClass:\"m-available-header\"},[_vm._v(\"Networks\")]),_vm._v(\" \"),_c('res-input',{staticClass:\"m-assignment-search\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.query),expression:\"query\"}],attrs:{\"type\":\"search\",\"placeholder\":\"Search networks\"},domProps:{\"value\":(_vm.query)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.query=$event.target.value}}}),_vm._v(\" \"),_c('res-icon',{attrs:{\"slot\":\"inner-right\",\"name\":\"search\"},slot:\"inner-right\"})],1),_vm._v(\" \"),_c('res-table',{staticClass:\"m-admin__table\",attrs:{\"mobile\":_vm.isMobile,\"zebra\":\"\"}},[_c('div',{staticClass:\"m-dashboard__sub-head\"},[_c('div',{staticClass:\"m-dashboard__sub-head__title\"},[_c('table',[_c('thead',[_c('tr',[_c('th',[_vm._v(\"Network\")]),_vm._v(\" \"),_c('th',{staticClass:\"m-dashboard__table__communities-header\"},[_vm._v(\"Communities\")])])]),_vm._v(\" \"),_c('tbody',_vm._l((_vm.filteredNetworks),function(network){return _c('tr',{key:network.id,staticClass:\"m-dashboard__table__row\"},[_c('td',{staticClass:\"m-dashboard__table__networks\"},[_c('div',[(network.svgLogo)?_c('div',{staticClass:\"m-dashboard__table__avatar\",domProps:{\"innerHTML\":_vm._s(network.svgLogo)}}):_c('img',{staticClass:\"m-dashboard__table__icon\",attrs:{\"src\":_vm.$root.config.defaultLogoUrl}}),_vm._v(\" \"),_c('div',{staticClass:\"m-network-name\"},[_vm._v(_vm._s(network.name))])])]),_vm._v(\" \"),_c('td',{staticClass:\"m-dashboard__table__communities\"},[_c('router-link',{staticClass:\"m-community-info\",attrs:{\"to\":{ name: 'entitlement-communities', params: { key: _vm.entitlementKey, id: network.id }}}},[_vm._v(\"\\n                    \"+_vm._s(network.searchCommunities.totalCount)+\" (See all)\\n                  \")])],1)])}),0)])])])])],1):_vm._e()])}\nvar staticRenderFns = []\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('router-view')],1)}\nvar staticRenderFns = []\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"m-redirects__form\"},[_c('div',{staticClass:\"m-redirects__messaging\"},[_c('res-banner',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.creatingRedirect),expression:\"creatingRedirect\"}]},[_c('span',[_vm._v(\"Creating redirect...\")])]),_vm._v(\" \"),_c('res-banner',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.redirectCreated),expression:\"redirectCreated\"}],attrs:{\"design\":\"positive\"}},[_c('span',[_vm._v(\"Success! Your redirect was \"+_vm._s(_vm.saveContext)+\".\")])]),_vm._v(\" \"),_c('res-banner',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.createError),expression:\"createError\"}],attrs:{\"design\":\"negative\"}},[_c('span',[_vm._v(\"Error: \"+_vm._s(_vm.saveErrorMessage))])])],1),_vm._v(\" \"),_c('div',{staticClass:\"l-content\"},[_c('main',{staticClass:\"m-dashboard__content\"},[_c('div',{staticClass:\"m-dashboard__sub-head\"},[_c('div',{staticClass:\"m-dashboard__sub-head__title\"},[_c('res-button',{attrs:{\"type\":\"default\",\"paddingless\":\"\"}},[_c('res-icon',{attrs:{\"size\":\"small\",\"name\":\"back\"}}),_vm._v(\" \"),_c('router-link',{attrs:{\"to\":{ path: '/admin/redirects', query: { community_id: _vm.newDomain, network_id: _vm.newNetwork }}}},[_vm._v(\"Back to redirects\")])],1),_vm._v(\" \"),_c('h1',[_vm._v(_vm._s(_vm.editContext)+\" redirect\")])],1)]),_vm._v(\" \"),_c('div',{staticClass:\"m-edit\"},[_c('networkFilter',{attrs:{\"networks\":_vm.networks,\"networkId\":_vm.networkId,\"communityId\":_vm.newDomain},on:{\"community-changed\":_vm.updateCommunityAndNetworkId}}),_vm._v(\" \"),_c('div',{staticClass:\"m-edit-redirect\"},[_c('res-input',[_c('label',[_vm._v(\"Redirect from\")]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.newPath),expression:\"newPath\"}],attrs:{\"type\":\"text\",\"name\":\"redirects-from\",\"value\":\"\"},domProps:{\"value\":(_vm.newPath)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.newPath=$event.target.value}}}),_vm._v(\" \"),_c('div',{staticClass:\"res-input__help-text\",attrs:{\"slot\":\"help\"},slot:\"help\"},[_c('p',[_vm._v(\"This URL path should not include a domain and must begin with a slash, eg. \"),_c('em',[_vm._v(\"/about\")])]),_vm._v(\" \"),_c('p',[_vm._v(\"The full URL you're redirecting from is \"),_c('strong',[_vm._v(\"http://\"+_vm._s(_vm.newDomainName)+_vm._s(_vm.newPath))])])])])],1),_vm._v(\" \"),_c('div',{staticClass:\"m-edit-redirect\"},[_c('res-input',[_c('label',[_vm._v(\"Redirect to\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.newDestination),expression:\"newDestination\"}],attrs:{\"type\":\"text\",\"name\":\"redirects-to\",\"value\":\"\"},domProps:{\"value\":(_vm.newDestination)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.newDestination=$event.target.value}}}),_c('p',{attrs:{\"slot\":\"help\"},slot:\"help\"},[_vm._v(\"To redirect within the same domain, add a path: \"),_c('em',[_vm._v(\"/this-is-a-path\")]),_vm._v(\".\")]),_vm._v(\" \"),_c('p',{attrs:{\"slot\":\"help\"},slot:\"help\"},[_vm._v(\"To redirect to a different domain, add the full URL: \"),_c('em',[_vm._v(\"otherdomain.com/path\")]),_vm._v(\".\")])])],1),_vm._v(\" \"),_c('div',{staticClass:\"m-edit-redirect\"},[_c('res-select',[_c('label',[_vm._v(\"Status\")]),_vm._v(\" \"),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.newStatus),expression:\"newStatus\"}],attrs:{\"name\":\"status\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.newStatus=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},[_c('option',[_vm._v(\"301\")]),_vm._v(\" \"),_c('option',[_vm._v(\"302\")]),_vm._v(\" \"),_c('option',[_vm._v(\"307\")]),_vm._v(\" \"),_c('option',[_vm._v(\"308\")])])]),_vm._v(\" \"),_c('div',{staticClass:\"res-input__help-text\",attrs:{\"slot\":\"help\"},slot:\"help\"},[_c('p',[_vm._v(\"The HTTP status code to use for the redirect. 301 is most common, but the following statuses are supported:\")]),_vm._v(\" \"),_vm._m(0)])],1),_vm._v(\" \"),_c('SaveButton',{attrs:{\"enabled\":true},on:{\"save\":_vm.handleRedirectSave}})],1)])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ul',[_c('li',[_c('strong',[_vm._v(\"301 - Permanent\")]),_vm._v(\", use with GET or HEAD requests.\")]),_vm._v(\" \"),_c('li',[_c('strong',[_vm._v(\"302 - Temporary\")]),_vm._v(\", use with GET or HEAD requests.\")]),_vm._v(\" \"),_c('li',[_c('strong',[_vm._v(\"307 - Temporary\")]),_vm._v(\", use with POST, PATCH, PUT, or DELETE requests.\")]),_vm._v(\" \"),_c('li',[_c('strong',[_vm._v(\"308 - Permanent\")]),_vm._v(\", use with POST, PATCH, PUT, or DELETE requests.\")])])}]\nexport { render, staticRenderFns }","import graphqlRequest from '../../client/lib/graphql_request.js';\nimport { AdminCommunity, AdminAllNetworks, AdminNetworkCommunities } from '../queries/communities.js';\n\n// Grab community data from tower by communityId\nexport async function getCommunityData(communityId) {\n  return await graphqlRequest('/api/tower/graphql', {\n    query: AdminCommunity,\n    variables: JSON.stringify({ communityId })\n  });\n}\n\nexport async function getAllNetworks() {\n  const { networks } = await graphqlRequest('/api/tower/graphql', {\n    query: AdminAllNetworks\n  });\n  return networks;\n}\n\nexport async function getNetworkCommunities(networkId) {\n  async function getPage(page) {\n    const response = await graphqlRequest('/api/tower/graphql', {\n      query: AdminNetworkCommunities,\n      variables: { networkId, page }\n    });\n    return response.searchCommunities;\n  }\n\n  let response = { totalCount: Infinity, results: [] };\n  let communities = [];\n  // eslint-disable-next-line no-restricted-syntax\n  for (let page = 1; communities.length < response.totalCount; page++) {\n    response = await getPage(page);\n    communities = communities.concat(response.results);\n  }\n  return communities;\n}\n","exports.ALT_TEXT_OVER_LIMIT = 'Alt text is currently limited to {alt_text_limit} characters. Please try again.';\nexports.APPLE_NEWS_MEMBERS_ONLY_WARNING = 'This {docLabel} is exclusive to Apple News+. To unhide it, remove the exclusives group and publish the changes.';\nexports.COMMUNITY_CHANGED = 'This {docLabel} has been moved!';\nexports.CSV_TOO_LARGE = 'This CSV is too large. Please upload a file under 1 MB.';\nexports.DATA_LINKS_ERROR = 'Suggestions timed out. Try again or add links manually.';\nexports.DRAFT_HERMANO_RECORD = 'This {record} is a draft; it will be published automatically when this {docLabel} is published.';\nexports.EMBARGOED = 'This story is embargoed.';\nexports.HIDDEN = 'This story is hidden.';\nexports.FEEDBACK_SENT = 'Message sent!';\nexports.FILE_TOO_LARGE = 'Files must be under 100 MB.';\nexports.GETTY_API_DOWN = 'Getty image search is unavailable. Please try again later.';\nexports.GIF_IN_IMAGE_CARD = 'GIFs cannot be published with {type} cards. Choose another?';\nexports.GIF_TOO_LARGE = 'This GIF is over {size} MB and will block this story from publishing to {platforms}.';\nexports.IMAGE_IN_GALLERY = 'This image is already included in the gallery. Choose another?';\nexports.IMAGE_TOO_LARGE = 'Images must be under 10,000 x 10,000 pixels.';\nexports.INVALID_LINK_MESSAGE = 'Please enter a valid URL.';\nexports.INVALID_SPREADSHEET_URL = 'Please add a valid public Google Sheet URL and try again.';\nexports.INVALID_STREAM_MEMBERSHIP = 'This type of story cannot be added.';\nexports.MERLIN_API_DOWN = 'Merlin image search is unavailable. Please try again later.';\nexports.MISSING_LEGACY_ENTRY = 'Editing is disabled because a more recent version of this story may exist. &nbsp;<a href=\"https://www.chorus.help/hc/en-us/requests/new\">Contact us for help.</a>';\nexports.NETWORK_ASSETS_ACCESS_DENIED = 'You are not authorized to access assets across this network. Your permissions must be updated before searching across networks.';\nexports.NEW_USER_MESSAGE = 'Welcome to Chorus! &nbsp;<a href=\"{url}\">Check out our getting started guide.</a>';\nexports.OEMBED_GENERIC_ERROR = 'Something went wrong. Make sure this embed is shareable and try again.';\nexports.OEMBED_INSECURE_ERROR = 'This embed URL is insecure. Only HTTPS embeds are supported.';\nexports.OEMBED_SUPPORT_ERROR = 'Embeds from this source are not supported at this time.';\nexports.OEMBED_PDF_SUPPORT_ERROR = 'PDFs must be under 10 MB.';\nexports.OEMBED_YOUTUBE_SUPPORT_ERROR = 'Embeds are disabled for this video by the YouTube account owner.';\nexports.PLAGSCAN_ERROR = 'An error occurred. Please try scanning the story again.';\nexports.PLAGSCAN_LOW_WORD_COUNT = 'You can scan this story once it\\'s over 50 words.';\nexports.PLAGSCAN_OUT_OF_DATE = 'The latest version of this story has not been scanned.';\nexports.PLAGSCAN_RETRIEVED= 'A report has been generated for this story.';\nexports.PLAGSCAN_SUBMITTED = 'A report is being generated.';\nexports.PLAGSCAN_UNSCANNED = 'Submit the story for approval to generate a report.';\nexports.PUBLISH_PACKAGE_ACTIVE_MESSAGE = 'Your stories are being {action}...';\nexports.PUBLISH_PACKAGE_WARNING_MESSAGE = '{gerund} this landing page will {verb} all drafts in this package.';\nexports.PYM_EMBED_GENERIC_ERROR = 'Something went wrong. Make sure this Pym.js embed is shareable and try again.';\nexports.PYM_EMBED_INSECURE_ERROR = 'This Pym.js embed URL is insecure. Only HTTPS Pym.js embeds are supported.';\nexports.PYM_EMBED_SUPPORT_ERROR = 'Pym.js embeds from this source are not supported at this time.';\nexports.REALTIME_ERROR = 'Autosave failed. Please reload your browser.';\nexports.RECONNECT_ERROR = 'Something went wrong reconnecting. Please reload your browser.';\nexports.RECONNECTING = 'Reconnecting...';\nexports.RELOAD_REQUIRED = 'Please reload to get the latest updates.';\nexports.RELOAD_STALE_TAB = 'You\\'ve been away for a while, please reload.';\nexports.REQUIRED_FIELD = 'This field is required.';\nexports.RESCUE_SAVED_REASSURE = 'Your work has been saved in &nbsp;<a href=\"{url}\">this version.</a>';\nexports.SEND_TO_PRINT_SUCCESS = 'Sent to print!';\nexports.SHEET_PERMISSIONS = 'Please make the Google Sheet public to continue.';\nexports.STRUCTURED_TAGS_ERROR = 'Suggestions timed out. Try again or add tags manually.';\nexports.TOO_MANY_EDITORS = 'More than 10 editors at a time is not recommended.';\nexports.UNEXPECTED = 'An error occurred. Try again or reload your browser.';\nexports.UNSAVED_WARNING = 'Your changes are still being saved; leaving now could cause data loss!';\nexports.UNSUPPORTED_ASSET_TYPE = 'This format is not supported. <a href=\"https://www.chorus.help/hc/en-us/articles/360009582854-Files\">Learn more about supported file formats.</a>';\nexports.UPLOAD_INVALID_FILE = 'At least one of the uploaded files is not supported. Please review supported <a href=\"https://www.chorus.help/hc/en-us/articles/360010240753\">image</a> and <a href=\"https://www.chorus.help/hc/en-us/articles/360009582854-Files\">file</a> formats and try again.';\nexports.UPLOAD_TOO_MANY_FILES = 'One file at a time, please.';\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('tr',{staticClass:\"m-dashboard__table__row\"},[_c('td',{staticClass:\"m-dashboard__table__title\"},[_vm._v(_vm._s(_vm.values.name))]),_vm._v(\" \"),_c('td',{staticClass:\"m-dashboard__table__title m-admin-description\"},[_vm._v(_vm._s(_vm.values.description))]),_vm._v(\" \"),_c('td',{staticClass:\"m-dashboard__table__title m-admin-global\"},[_vm._v(_vm._s(_vm.isGlobal ? 'Yes' : 'No'))]),_vm._v(\" \"),_c('td',{staticClass:\"m-dashboard__table__title m-admin-action\"},[_c('router-link',{staticClass:\"m-entitlement-info\",attrs:{\"to\":{ name: 'entitlement-networks', params: { key: _vm.entitlementKey }}}},[_vm._v(\"\\n      Edit\\n    \")])],1)])}\nvar staticRenderFns = []\nexport { render, staticRenderFns }","export const AdminCommunity = `\n  query NetworkCommunity($communityId: Int!) {\n    community(id: $communityId) {\n      id\n      name\n      faviconUrl\n      placeholderImageUrl\n    }\n  }\n`;\n\nexport const AdminAllNetworks = `\n  query AdminAllNetworks {\n    networks {\n      id\n      name\n      svgLogo: siteConfigString(key: \"svg_small_mark_full_color\")\n      searchCommunities(query: { perPage: 0 }) {\n        totalCount\n      }\n    }\n  }\n`;\n\nexport const AdminNetworkCommunities = `\n  query AllNetworkCommunities($networkId: Any, $page: Int!) {\n    searchCommunities(query: {\n      whereAll: [{ field: \"networkId\", equal: $networkId }]\n      publicOnly: false\n      perPage: 100\n      pageNumber: $page\n    }) {\n      totalCount\n      results {\n        id\n        name\n        faviconUrl\n      }\n    }\n  }\n`;\n","<template>\n  <tr v-show=\"communityName\" class=\"m-dashboard__table__row\">\n    <td class=\"m-dashboard__table__assignments\">\n      <img v-if=\"faviconUrl\" :src=\"faviconUrl\" class=\"m-entitlement-community-icon\" />\n      <img v-else :src=\"this.$root.config.defaultLogoUrl\" class=\"m-entitlement-community-icon\" />\n      <span class=\"m-community-name\">{{ communityName }}</span>\n    </td>\n    <td class=\"m-entitlement-checked\">\n      <res-switch :checked=\"isEnabled\" :disabled=\"loading\" @change=\"toggleAssignment\">\n        <label class=\"m-entitlement-checked-label\" />\n        <input type=\"checkbox\" name=\"s1\" />\n      </res-switch>\n    </td>\n  </tr>\n</template>\n\n<script>\nimport * as entitlementActions from '../actions/entitlements.js';\n\nexport default {\n  props: {\n    communityId: {\n      type: Number,\n      required: true\n    },\n    enabled: {\n      type: Boolean,\n      required: true,\n      default: false\n    },\n    communityName: {\n      type: String,\n      required: true,\n      default: ''\n    },\n    entitlementKey: {\n      type: String,\n      required: true,\n      default: ''\n    },\n    faviconUrl: {\n      type: String,\n      default: ''\n    }\n  },\n  data() {\n    return {\n      loading: false,\n      isEnabled: false\n    };\n  },\n  created() {\n    this.isEnabled = this.enabled;\n  },\n  methods: {\n    async toggleAssignment() {\n      this.loading = true;\n      if (this.isEnabled) {\n        try {\n          await entitlementActions.unassignEntitlement({\n            key: this.entitlementKey,\n            communityId: this.communityId\n          });\n          this.isEnabled = !this.isEnabled;\n        } catch (err) {\n          console.error(err);\n        }\n      } else {\n        try {\n          await entitlementActions.assignEntitlement({\n            key: this.entitlementKey,\n            communityId: this.communityId\n          });\n          this.isEnabled = !this.isEnabled;\n        } catch (err) {\n          console.error(err);\n        }\n      }\n      this.loading = false;\n    }\n  }\n};\n</script>\n","/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./entitlement-cell.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./entitlement-cell.vue\"\n/* template */\nimport {render as __vue_render__, staticRenderFns as __vue_static_render_fns__} from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-339cbcf2\\\",\\\"hasScoped\\\":false,\\\"optionsId\\\":\\\"0\\\",\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./entitlement-cell.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nimport normalizeComponent from \"!../../node_modules/vue-loader/lib/runtime/component-normalizer\"\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_render__,\n  __vue_static_render_fns__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('main',{staticClass:\"m-dashboard__content m-admin\"},[_c('h1',{staticClass:\"m-entitlement-name\"},[_vm._v(\"Entitlements\")]),_vm._v(\" \"),_c('h2',{staticClass:\"m-available-header\"},[_vm._v(\"Available entitlements\")]),_vm._v(\" \"),_c('res-input',{staticClass:\"m-entitlement-search\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.query),expression:\"query\"}],attrs:{\"type\":\"search\",\"placeholder\":\"Search entitlements\"},domProps:{\"value\":(_vm.query)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.query=$event.target.value}}}),_vm._v(\" \"),_c('res-icon',{attrs:{\"slot\":\"inner-right\",\"name\":\"search\"},slot:\"inner-right\"})],1),_vm._v(\" \"),_c('res-table',{staticClass:\"m-admin__table\",attrs:{\"mobile\":_vm.isMobile,\"zebra\":\"\"}},[_c('div',{staticClass:\"m-dashboard__sub-head\"},[_c('div',{staticClass:\"m-dashboard__sub-head__title\"},[_c('table',[_c('thead',[_c('tr',[_c('th',{staticClass:\"m-table-entitlement-name\"},[_vm._v(\"Name\")]),_vm._v(\" \"),_c('th',{staticClass:\"m-table-entitlement-description\"},[_vm._v(\"Description\")]),_vm._v(\" \"),_c('th',{staticClass:\"m-table-entitlement-global\"},[_vm._v(\"Global\")]),_vm._v(\" \"),_c('th',{staticClass:\"m-table-entitlement-action\"})])]),_vm._v(\" \"),(!_vm.query)?_c('tbody',_vm._l((_vm.paginatedEntitlements),function(entitlement){return _c('entitlement-cell',_vm._b({key:entitlement.values.name},'entitlement-cell',entitlement,false))}),1):_c('tbody',_vm._l((_vm.filteredEntitlements),function(entitlement){return _c('entitlement-cell',_vm._b({key:entitlement.values.name},'entitlement-cell',entitlement,false))}),1)])])])]),_vm._v(\" \"),_c('footer',{staticClass:\"m-dashboard__footer m-admin__footer\"},[(_vm.pagination.total > 0 && !_vm.query)?_c('div',{staticClass:\"m-dashboard__footer__pagination m-admin__footer__pagination\"},[_c('res-pagination',{attrs:{\"id\":\"admin-pagination\",\"count\":_vm.pagination.total,\"display\":_vm.pagination.perPage,\"ticks\":_vm.ticks,\"page\":_vm.pagination.page,\"indicator\":\"page\",\"navigation\":\"text\"},on:{\"click\":function($event){return _vm.paginate()}}})],1):_vm._e()])],1)}\nvar staticRenderFns = []\nexport { render, staticRenderFns }","<template>\n  <div class=\"m-redirects__dashboard\">\n    <res-banner v-show=\"deletingRedirect\"><span>Deleting redirect...</span></res-banner>\n    <res-banner v-show=\"redirectDeleted\" design=\"positive\"><span>Success! Your redirect was deleted.</span></res-banner>\n    <res-banner v-show=\"deleteError\" design=\"negative\"><span>Something went wrong. Try refreshing the page.</span></res-banner>\n    <div class=\"l-content\">\n      <main class=\"m-dashboard__content\">\n        <div class=\"m-dashboard__sub-head p-flex m-redirects__dashboard-head\">\n          <div class=\"m-dashboard__sub-head__title\">\n            <h1>Redirects</h1>\n          </div>\n          <div>\n            <router-link :to=\"{ path: '/admin/redirects/import', query: { community_id: community_id, network_id: network_id }}\"><res-button>\n            <res-icon name=\"upload\"/><button>Import from CSV</button></res-button></router-link>\n            <router-link :to=\"{ path: '/admin/redirects/create', query: { community_id: community_id, network_id: network_id }}\"\n            ><res-button design=\"primary\"><button>Create</button></res-button></router-link>\n          </div>\n        </div>\n\n\n        <div class=\"p-flex m-redirects__search\">\n          <networkFilter\n            :networks=\"networks\"\n            :communityId=\"community_id\"\n            :networkId=\"network_id\"\n            @community-changed=\"updateCommunityAndNetworkId\"\n          />\n\n          <res-input class=\"m-redirects__search--path\"><label>Filter by path</label> <input v-model=\"path\" type=\"text\" name=\"search-path\" /></res-input>\n\n          <res-input class=\"m-redirects__search--destination\"><label>Filter by destination</label> <input v-model=\"destination\" type=\"text\" name=\"search-destination\" /></res-input>\n\n        </div>\n\n\n        <res-table>\n          <table class=\"m-edit-links\">\n            <thead>\n              <tr>\n                <th>Domain</th>\n                <th>Path</th>\n                <th>Destination</th>\n                <th>Status</th>\n                <th/>\n              </tr>\n            </thead>\n\n\n            <tbody>\n              <tr v-for=\"redirect in searchRedirectsResults\" :key=\"redirect.id\" :data-id=\"redirect.id\">\n                <td>{{ redirect.host }}</td>\n                <td>{{ redirect.path }}</td>\n                <td>{{ redirect.destination }}</td>\n                <td>{{ redirect.status }}</td>\n                <td>\n                  <div class=\"m-redirects__controls\">\n                    <router-link :to=\"{ path: '/admin/redirects/edit', query: { community_id: community_id, network_id: network_id, path: redirect.path, destination: redirect.destination, status: redirect.status, redirectId: redirect.id }}\"\n                    >\n                      <res-button>\n                      <res-icon name=\"edit\"/><button>Edit</button></res-button>\n                    </router-link>\n\n                    <res-button :res-modal-open=\"redirect.id\" negative=\"\">\n                      <res-icon name=\"trash\"/><button>Delete</button>\n                    </res-button>\n                  </div>\n                </td>\n                <res-modal :id=\"redirect.id\" close-on-bg-click=\"\">\n                  <div>\n                    <p class=\"m-redirects__modal-warning\">Are you sure you want to destroy this redirect?</p>\n                    <res-button id=\"modal-close\" :res-modal-close=\"redirect.id\" design=\"secondary\" @click=\"handleDelete(redirect.id)\"><button>Delete redirect</button></res-button>\n                    <res-button id=\"modal-close\" :res-modal-close=\"redirect.id\">\n                    <res-icon name=\"x\"/><button>Cancel</button></res-button>\n                  </div>\n                </res-modal>\n              </tr>\n            </tbody>\n          </table>\n\n\n        </res-table>\n        <div class=\"p-flex m-redirects__pagination\"><res-pagination :count=\"searchRedirects.totalCount\"\n                                                                    :display=\"perPage\"\n                                                                    :page=\"page\"\n                                                                    ticks=\"7\"\n                                                                    indicator=\"both\"\n                                                                    @click=\"updatePage($event)\"/></div>\n      </main>\n    </div>\n  </div>\n</template>\n\n<script>\nimport redirectsDataQuery from '../../queries/redirects.graphql';\nimport NetworkFilter from './NetworkFilter.vue';\nimport deleteRedirect from '../../lib/delete_redirect';\n\nexport default {\n  name: 'Redirects',\n  components: {\n    NetworkFilter\n  },\n  props: {\n    community: Object\n  },\n  data () {\n    return {\n      searchRedirects: { results:[], totalCount: '' },\n      perPage: 30,\n      page: 1,\n      pageBeforeFiltering: 1,\n      query: '',\n      path: '',\n      destination: '',\n      network_id: this.community.network.id,\n      community_id: this.community.id,\n      networks: this.$root.config.organization.networks,\n      deletingRedirect: false,\n      redirectDeleted: false,\n      deleteError: false,\n    };\n  },\n  computed: {\n    searchRedirectsResults() {\n      return this.searchRedirects.results;\n    }\n  },\n  watch:{\n    $route () {\n      // so the data refreshes if the user navigates back from the create/edit pages\n      this.$apollo.queries.searchRedirects.refetch();\n    },\n    path () {\n      this.handleFilterPage();\n    },\n    destination () {\n      this.handleFilterPage();\n    }\n  },\n  beforeMount() {\n    this.setInitialData();\n  },\n  methods: {\n    async setInitialData() {\n      // set data from the querystring if it exists\n      let queryParams = this.$route.query;\n      this.page = parseInt(queryParams.page, 10) || 1;\n      this.path = queryParams.path || '';\n      this.destination = queryParams.destination || '';\n      this.community_id = parseInt(queryParams.community_id) || this.community_id;\n      this.network_id = parseInt(queryParams.network_id) || this.network_id;\n    },\n    async handleDelete(id) {\n      this.deletingRedirect = true;\n      this.redirectDeleted = false;\n      try {\n        await deleteRedirect(id);\n      } catch (err) {\n        this.deleteError = true;\n        this.deletingRedirect = false;\n        console.error(err);\n        return;\n      }\n\n      await this.$apollo.queries.searchRedirects.refetch();\n      this.deletingRedirect = false;\n      this.redirectDeleted = true;\n    },\n    updatePath() {\n      // this updates the URL path when the network filter selects a different community\n      // it also updates the path upon using the pagination bar and the filter by path/destination fields\n      this.$router.push({ query: { page: this.page, community_id: this.community_id, network_id: this.network_id, path: this.path, destination: this.destination } }).catch(()=>{});\n    },\n    updateCommunityAndNetworkId(communityId, networkId) {\n      this.community_id = communityId;\n      this.network_id = networkId;\n    },\n    handleFilterPage() {\n      // if we use the filter, the page number should get set to 1, but only once\n      if (this.page === 1) {\n        // check if the filter is empty\n        if (this.path === '' && this.destination === '') {\n          // if the filter is empty, set the page to the page the user was on\n          this.page = this.pageBeforeFiltering;\n        }\n      } else {\n        this.pageBeforeFiltering = this.page;\n        this.page = 1;\n      }\n    },\n    updatePage(e) {\n\n      // if we click prev, page number minus one\n\n      if (e.target.dataset.direction === 'prev') {\n        this.page = this.page - 1;\n      }\n\n      // if we click next, page number plus one\n\n      if (e.target.dataset.direction === 'next') {\n        this.page = this.page + 1;\n      }\n\n      // if we click a number, set page number to that number\n\n      if (e.target.dataset.page) {\n        this.page = parseInt(e.target.dataset.page);\n      }\n    }\n  },\n  apollo: {\n    searchRedirects: {\n      query: redirectsDataQuery,\n      variables() {\n        return {\n          network_id: this.network_id,\n          pageNumber: this.page,\n          perPage: this.perPage,\n          community_id: this.community_id,\n          path: this.path || null,\n          destination: this.destination || null\n        };\n      },\n      result( { loading, error } ) {\n        if (!loading) {\n          if (error) {\n            console.log(`Error: ${error.gqlError.message}`);\n          } else {\n            this.updatePath();\n          }\n        }\n      }\n    },\n  },\n};\n</script>\n","<template>\n  <div class=\"m-redirects__save\">\n    <res-button\n      v-show=\"saveState === 'READY' || saveState === 'SAVED'\"\n      :disabled=\"!enabled\"\n      design=\"primary\"\n      @click=\"clickSave\"\n    ><button>Create redirect</button></res-button>\n\n    <res-button\n      v-show=\"saveState === 'CONFIRM'\"\n      design=\"primary\"\n      @click=\"clickConfirm\"\n    ><button>Confirm</button></res-button>\n    <res-button\n      v-show=\"saveState === 'CONFIRM'\"\n      negative=\"\"\n      @click=\"clickCancel\"\n    ><res-icon name=\"x\"/><button>Cancel</button></res-button>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'SaveButton',\n  props: {\n    enabled: Boolean,\n  },\n  data: function() {\n    return {\n      saveState: 'READY'\n    };\n  },\n  watch: {\n    enabled: function(val) {\n      if (val) {\n        this.saveState = 'READY';\n      }\n    }\n  },\n  methods: {\n    clickSave: function() {\n      this.saveState = 'CONFIRM';\n    },\n    clickConfirm: function() {\n      this.saveState = 'SAVED';\n      this.$emit('save');\n    },\n    clickCancel: function() {\n      this.saveState = 'READY';\n    }\n  }\n};\n</script>\n","export default {};\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"m-redirects__save\"},[_c('res-button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.saveState === 'READY' || _vm.saveState === 'SAVED'),expression:\"saveState === 'READY' || saveState === 'SAVED'\"}],attrs:{\"disabled\":!_vm.enabled,\"design\":\"primary\"},on:{\"click\":_vm.clickSave}},[_c('button',[_vm._v(\"Create redirect\")])]),_vm._v(\" \"),_c('res-button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.saveState === 'CONFIRM'),expression:\"saveState === 'CONFIRM'\"}],attrs:{\"design\":\"primary\"},on:{\"click\":_vm.clickConfirm}},[_c('button',[_vm._v(\"Confirm\")])]),_vm._v(\" \"),_c('res-button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.saveState === 'CONFIRM'),expression:\"saveState === 'CONFIRM'\"}],attrs:{\"negative\":\"\"},on:{\"click\":_vm.clickCancel}},[_c('res-icon',{attrs:{\"name\":\"x\"}}),_c('button',[_vm._v(\"Cancel\")])],1)],1)}\nvar staticRenderFns = []\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"m-redirects__edit\"},[_c('Form',{attrs:{\"communityId\":_vm.communityId,\"networkId\":_vm.networkId,\"fromPath\":_vm.fromPath,\"destination\":_vm.destination,\"status\":_vm.status,\"redirectId\":_vm.redirectId,\"editContext\":\"Edit\"}})],1)}\nvar staticRenderFns = []\nexport { render, staticRenderFns }","var stringify = require('json-stable-stringify');\nvar md5 = require('js-md5');\n\nmodule.exports = function(contents) {\n  return md5(stringify(contents));\n};\n","/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./edit.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./edit.vue\"\n/* template */\nimport {render as __vue_render__, staticRenderFns as __vue_static_render_fns__} from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-0f472dd0\\\",\\\"hasScoped\\\":false,\\\"optionsId\\\":\\\"0\\\",\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./edit.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nimport normalizeComponent from \"!../../../node_modules/vue-loader/lib/runtime/component-normalizer\"\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_render__,\n  __vue_static_render_fns__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n","import Vue from 'vue';\nimport App from './app.vue';\nimport router from './router/index';\nimport store from './store/index';\nimport '../shared/vue/lib/sentry_client';\nimport { apolloProvider } from '../shared/vue/lib/apollo_client';\n\nnew Vue({\n  router,\n  store,\n  apolloProvider,\n  ignoredElements: res.manifest.tags.all, // eslint-disable-line no-undef\n  data() {\n    let config = document.querySelector('script[type=\"config\"]');\n    return { config: JSON.parse(config.textContent) };\n  },\n  render: h => h(App)\n}).$mount('#app');\n","import { sortBy } from 'lodash';\nimport request from '../../client/lib/request';\nimport { getCommunityData } from './communities';\n\nexport async function getEntitlements() {\n  let exported = await request('/api/entitlements/keys');\n  // mapping key to entitlementKey due to key being a special, reserved attribute in Vue\n  return exported.map(({ key, values, isGlobal }) => {\n    return {\n      entitlementKey: key,\n      values,\n      isGlobal\n    };\n  });\n}\n\nexport async function getEntitlementData(entitlementKey) {\n  return await request(`/api/entitlements/data/${entitlementKey}`);\n}\n\nexport async function getCommunityAssignments(entitlementKey, communities) {\n  let { assignments } = await request(`/api/entitlements/assignments/${entitlementKey}`);\n\n  // Take all existing community-level assignments + add in disabled assignments\n  // for all other communities\n  let allAssignments = communities.map(({ id, name }) => {\n    let assignment = assignments.find(a => a.communityId === id);\n    return {\n      communityId: id,\n      communityName: name,\n      enabled: assignment != null\n    };\n  });\n\n  return sortBy(allAssignments, ({ communityName }) => communityName);\n}\n\n// Merging community data from tower with entitlement assignment data\nexport async function updateAssignmentsCommunityData(communityAssignments) {\n  return await Promise.all(communityAssignments.map(async community => {\n    let data = await getCommunityData(community.community_id);\n    return {\n      entitlementAssignment: community.entitlementAssignment,\n      data: data.community,\n      enabled: community.enabled\n    };\n  }));\n}\n\nexport async function assignEntitlement(params) {\n  return await request('/api/entitlements/assign', {\n    method: 'PUT',\n    body: params\n  });\n}\n\nexport async function unassignEntitlement(params) {\n  return await request('/api/entitlements/unassign', {\n    method: 'PUT',\n    body: params\n  });\n}\n","module.exports = function(pagination) {\n  var { total, perPage } = pagination;\n  pagination.totalPages = (total === 0) ? 1 : Math.ceil(total / perPage);\n  return pagination;\n};\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('main',{staticClass:\"m-dashboard__content m-entitlement-networks m-admin\"},[_c('div',[_c('router-link',{staticClass:\"m-entitlement-info\",attrs:{\"to\":{ name: 'entitlement-networks', params: { key: _vm.entitlementKey }}}},[_c('res-icon',{staticClass:\"m-back-icon\",attrs:{\"name\":\"back\",\"size\":\"large\"}}),_vm._v(\" \"),_c('p',{staticClass:\"m-back-text\"},[_vm._v(\"Back to networks\")])],1)],1),_vm._v(\" \"),_c('h1',{staticClass:\"m-entitlement-name\"},[_vm._v(_vm._s(_vm.entitlementName))]),_vm._v(\" \"),_c('div',{staticClass:\"m-entitlement-global-description-block\"},[_c('p',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.description),expression:\"description\"}],staticClass:\"entitlement-description\"},[_vm._v(_vm._s(_vm.description))]),_vm._v(\" \"),_c('res-switch',{staticClass:\"m-global-toggle\",attrs:{\"checked\":_vm.isGlobal,\"disabled\":_vm.globalLoading},on:{\"change\":_vm.toggleGlobal}},[_c('label',[_vm._v(\"Global\")]),_c('input',{attrs:{\"type\":\"checkbox\",\"name\":\"s1\"}})])],1),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.initialLoading && !_vm.isGlobal),expression:\"initialLoading && !isGlobal\"}]},[_c('res-icon',{staticClass:\"m-loading-icon\",attrs:{\"name\":\"loading\",\"size\":\"large\"}}),_vm._v(\" \"),_c('p',{staticClass:\"m-loading-text\"},[_vm._v(\"Loading entitlements communities\")])],1),_vm._v(\" \"),(!_vm.isGlobal && !_vm.initialLoading)?_c('div',{staticClass:\"m-entitlement-assignments\"},[_c('res-input',{staticClass:\"m-assignment-search\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.query),expression:\"query\"}],attrs:{\"type\":\"search\",\"placeholder\":\"Search communities\"},domProps:{\"value\":(_vm.query)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.query=$event.target.value}}}),_vm._v(\" \"),_c('res-icon',{attrs:{\"slot\":\"inner-right\",\"name\":\"search\"},slot:\"inner-right\"})],1),_vm._v(\" \"),_c('h2',{staticClass:\"m-available-header\"},[_vm._v(_vm._s(_vm.network.name)+\"s communities\")]),_vm._v(\" \"),_c('res-table',{staticClass:\"m-admin__table\",attrs:{\"mobile\":_vm.isMobile,\"zebra\":\"\"}},[_c('div',{staticClass:\"m-dashboard__sub-head\"},[_c('div',{staticClass:\"m-dashboard__sub-head__title\"},[_c('table',[_c('thead',[_c('tr',[_c('th',{staticClass:\"m-table-entitlement-communities\"},[_vm._v(\"Community\")]),_vm._v(\" \"),_c('th',{staticClass:\"m-table-entitlement-communities\"},[_vm._v(\"Enabled\")])])]),_vm._v(\" \"),_c('tbody',_vm._l((_vm.paginatedAssignments),function(assignment,index){return _c('entitlement-assignment',_vm._b({key:(_vm.page + \"-\" + index),attrs:{\"entitlementKey\":_vm.entitlementKey,\"faviconUrl\":_vm.communities.find(function (ref) {\n\tvar id = ref.id;\n\n\treturn id === assignment.communityId;\n}).faviconUrl}},'entitlement-assignment',assignment,false))}),1)])])])]),_vm._v(\" \"),_c('footer',{staticClass:\"m-dashboard__footer m-admin__footer\"},[(_vm.pagination.total > 0)?_c('div',{staticClass:\"m-dashboard__footer__pagination m-admin__footer__pagination\"},[_c('res-pagination',{attrs:{\"id\":\"admin-pagination\",\"count\":_vm.pagination.total,\"display\":_vm.pagination.perPage,\"ticks\":_vm.ticks,\"page\":_vm.pagination.page,\"indicator\":\"page\"},on:{\"click\":function($event){return _vm.paginate()}}})],1):_vm._e()])],1):_vm._e()])}\nvar staticRenderFns = []\nexport { render, staticRenderFns }","function GraphQLError(errors) {\n  Error.call(this);\n\n  var message = 'GraphQL errors returned. ' + errors.length + ' errors occurred';\n  if (typeof Error.captureStackTrace === 'function') {\n    Error.captureStackTrace(this, GraphQLError);\n  } else {\n    this.stack = (new Error(message)).stack;\n  }\n\n  this.message = message;\n  this.data = errors;\n  this.name = this.constructor.name;\n}\n\nGraphQLError.prototype = Object.create(Error.prototype);\nGraphQLError.prototype.constructor = GraphQLError;\n\nexport default GraphQLError;\n","<template>\n  <div>\n    <router-view />\n  </div>\n</template>\n\n<script>\n\nexport default {\n  data() {\n    return {};\n  }\n};\n</script>\n","<template>\n  <main class=\"m-dashboard__content m-admin\">\n    <h1 class=\"m-entitlement-name\">Entitlements</h1>\n    <h2 class=\"m-available-header\">Available entitlements</h2>\n    <res-input class=\"m-entitlement-search\">\n      <input v-model=\"query\" type=\"search\" placeholder=\"Search entitlements\" />\n      <res-icon slot=\"inner-right\" name=\"search\" />\n    </res-input>\n    <res-table :mobile=\"isMobile\" class=\"m-admin__table\" zebra>\n      <div class=\"m-dashboard__sub-head\">\n        <div class=\"m-dashboard__sub-head__title\">\n          <table>\n            <thead>\n              <tr>\n                <th class=\"m-table-entitlement-name\">Name</th>\n                <th class=\"m-table-entitlement-description\">Description</th>\n                <th class=\"m-table-entitlement-global\">Global</th>\n                <th class=\"m-table-entitlement-action\" />\n              </tr>\n            </thead>\n            <tbody v-if=\"!query\">\n              <entitlement-cell\n                v-for=\"entitlement in paginatedEntitlements\"\n                :key=\"entitlement.values.name\"\n                v-bind=\"entitlement\"\n              />\n            </tbody>\n            <tbody v-else>\n              <entitlement-cell\n                v-for=\"entitlement in filteredEntitlements\"\n                :key=\"entitlement.values.name\"\n                v-bind=\"entitlement\"\n              />\n            </tbody>\n          </table>\n        </div>\n      </div>\n    </res-table>\n    <footer class=\"m-dashboard__footer m-admin__footer\">\n      <div v-if=\"pagination.total > 0 && !query\" class=\"m-dashboard__footer__pagination m-admin__footer__pagination\">\n        <res-pagination\n          id=\"admin-pagination\"\n          :count=\"pagination.total\"\n          :display=\"pagination.perPage\"\n          :ticks=\"ticks\"\n          :page=\"pagination.page\"\n          indicator=\"page\"\n          navigation=\"text\"\n          @click=\"paginate()\"\n        />\n      </div>\n    </footer>\n  </main>\n</template>\n\n<script>\nimport EntitlementCell from './entitlement-cell.vue';\nimport parsePagination from '../../client/lib/parse_pagination';\n\nconst MOBILE_WIDTH = 800;\n\nexport default {\n  components: {\n    EntitlementCell\n  },\n  props: {\n    entitlements: {\n      type: Array,\n      required: true,\n      default: () => ([])\n    }\n  },\n  data() {\n    return {\n      isMobile: false,\n      page: 1,\n      perPage: 36,\n      ticks: 7,\n      query: ''\n    };\n  },\n  computed: {\n    pagination() {\n      return parsePagination({\n        page: this.page,\n        perPage: this.perPage,\n        total: this.entitlements.length\n      });\n    },\n    paginatedEntitlements() {\n      const start = (this.pagination.page - 1) * this.pagination.perPage;\n      const end = start + this.pagination.perPage;\n      return this.entitlements.slice(start, end);\n    },\n    filteredEntitlements() {\n      return this.entitlements.filter(e => {\n        return e.values.name.toLowerCase().includes(this.query.toLowerCase());\n      });\n    }\n  },\n  beforeMount() {\n    this.isMobile = window.innerWidth <= MOBILE_WIDTH;\n    window.addEventListener('resize', () => this.isMobile = window.innerWidth <= MOBILE_WIDTH);\n  },\n  methods: {\n    paginate() {\n      this.page = document.getElementById('admin-pagination').page;\n    }\n  }\n};\n</script>\n","/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./entitlement-communities.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./entitlement-communities.vue\"\n/* template */\nimport {render as __vue_render__, staticRenderFns as __vue_static_render_fns__} from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-079d88b6\\\",\\\"hasScoped\\\":false,\\\"optionsId\\\":\\\"0\\\",\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./entitlement-communities.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nimport normalizeComponent from \"!../../../../node_modules/vue-loader/lib/runtime/component-normalizer\"\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_render__,\n  __vue_static_render_fns__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n","/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./entitlement-assignments.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./entitlement-assignments.vue\"\n/* template */\nimport {render as __vue_render__, staticRenderFns as __vue_static_render_fns__} from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-0751a60d\\\",\\\"hasScoped\\\":false,\\\"optionsId\\\":\\\"0\\\",\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./entitlement-assignments.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nimport normalizeComponent from \"!../../node_modules/vue-loader/lib/runtime/component-normalizer\"\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_render__,\n  __vue_static_render_fns__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n","<template>\n  <main class=\"m-dashboard__content m-entitlement-networks m-admin\">\n    <div>\n      <router-link :to=\"{ name: 'entitlement-networks', params: { key: entitlementKey }}\" class=\"m-entitlement-info\">\n        <res-icon class=\"m-back-icon\" name=\"back\" size=\"large\"/>\n        <p class=\"m-back-text\">Back to networks</p>\n      </router-link>\n    </div>\n    <h1 class=\"m-entitlement-name\">{{ entitlementName }}</h1>\n    <div class=\"m-entitlement-global-description-block\">\n      <p v-show=\"description\" class=\"entitlement-description\">{{ description }}</p>\n      <res-switch\n        :checked=\"isGlobal\"\n        :disabled=\"globalLoading\"\n        class=\"m-global-toggle\"\n        @change=\"toggleGlobal\"\n      >\n        <label>Global</label><input type=\"checkbox\" name=\"s1\" />\n      </res-switch>\n    </div>\n    <div v-show=\"initialLoading && !isGlobal\">\n      <res-icon class=\"m-loading-icon\" name=\"loading\" size=\"large\" />\n      <p class=\"m-loading-text\">Loading entitlements communities</p>\n    </div>\n    <div v-if=\"!isGlobal && !initialLoading\" class=\"m-entitlement-assignments\">\n      <res-input class=\"m-assignment-search\">\n        <input v-model=\"query\" type=\"search\" placeholder=\"Search communities\" />\n        <res-icon slot=\"inner-right\" name=\"search\" />\n      </res-input>\n      <h2 class=\"m-available-header\">{{ network.name }}s communities</h2>\n      <res-table\n        :mobile=\"isMobile\"\n        class=\"m-admin__table\"\n        zebra\n      >\n        <div class=\"m-dashboard__sub-head\">\n          <div class=\"m-dashboard__sub-head__title\">\n            <table>\n              <thead>\n                <tr>\n                  <th class=\"m-table-entitlement-communities\">Community</th>\n                  <th class=\"m-table-entitlement-communities\">Enabled</th>\n                </tr>\n              </thead>\n              <tbody>\n                <entitlement-assignment\n                  v-for=\"(assignment, index) in paginatedAssignments\"\n                  v-bind=\"assignment\"\n                  :entitlementKey=\"entitlementKey\"\n                  :faviconUrl=\"communities.find(({ id }) => id === assignment.communityId).faviconUrl\"\n                  :key=\"`${page}-${index}`\"\n                />\n              </tbody>\n            </table>\n          </div>\n        </div>\n      </res-table>\n      <footer class=\"m-dashboard__footer m-admin__footer\">\n        <div\n          v-if=\"pagination.total > 0\"\n          class=\"m-dashboard__footer__pagination m-admin__footer__pagination\"\n        >\n          <res-pagination\n            id=\"admin-pagination\"\n            :count=\"pagination.total\"\n            :display=\"pagination.perPage\"\n            :ticks=\"ticks\"\n            :page=\"pagination.page\"\n            indicator=\"page\"\n            @click=\"paginate()\"\n          />\n        </div>\n      </footer>\n    </div>\n  </main>\n</template>\n\n<script>\nimport EntitlementAssignment from '../../../components/entitlement-assignments.vue';\nimport * as entitlementActions from '../../../actions/entitlements.js';\nimport { getNetworkCommunities, getAllNetworks } from '../../../actions/communities';\nimport parsePagination from '../../../../client/lib/parse_pagination.js';\nconst MOBILE_WIDTH = 800;\n\nexport default {\n  components: {\n    EntitlementAssignment\n  },\n  data() {\n    return {\n      entitlementKey: 'entitlement_key',\n      entitlementName: 'Entitlement Name',\n      description: '',\n      isGlobal: false,\n      assignments: [],\n      isMobile: false,\n      page: 1,\n      perPage: 36,\n      ticks: 7,\n      initialLoading: true,\n      globalLoading: false,\n      query: '',\n      network: null,\n      communities: []\n    };\n  },\n  computed: {\n    filteredAssignments() {\n      if (!this.query) {\n        return this.assignments;\n      }\n\n      return this.assignments.filter(a => {\n        if (a.communityName.toLowerCase().includes(this.query.toLowerCase()) || a.communityId.toString().startsWith(this.query)) {\n          return a;\n        }\n      });\n    },\n    pagination() {\n      return parsePagination({\n        page: this.page,\n        perPage: this.perPage,\n        total: this.filteredAssignments.length\n      });\n    },\n    paginatedAssignments() {\n      const start = (this.pagination.page - 1) * this.pagination.perPage;\n      const end = start + this.pagination.perPage;\n      return this.filteredAssignments.slice(start, end);\n    }\n  },\n  async created() {\n    const networks = await getAllNetworks();\n    this.network = networks.find(network => network.id === parseInt(this.$route.params.id, 10));\n    this.communities = await getNetworkCommunities(this.$route.params.id);\n    this.entitlementKey = this.$route.params.key;\n    await this.getEntitlementAssignmentsData();\n  },\n  beforeMount() {\n    this.isMobile = window.innerWidth <= MOBILE_WIDTH;\n    window.addEventListener('resize', () => this.isMobile = window.innerWidth <= MOBILE_WIDTH);\n  },\n  methods: {\n    async getEntitlementAssignmentsData() {\n      // Load in entitlement data\n      let entitlementData = await entitlementActions.getEntitlementData(this.entitlementKey);\n      this.entitlementName = entitlementData.values.name;\n      this.description = entitlementData.values.description;\n      this.isGlobal = entitlementData.isGlobal;\n\n      // Load in community assignments\n      this.assignments = await entitlementActions.getCommunityAssignments(this.entitlementKey, this.communities);\n      this.globalLoading = false;\n      this.initialLoading = false;\n    },\n    async toggleGlobal() {\n      this.globalLoading = true;\n      if (this.isGlobal) {\n        try {\n          await entitlementActions.unassignEntitlement({\n            key: this.entitlementKey,\n            global: true\n          });\n          this.isGlobal = !this.isGlobal;\n          await this.getEntitlementAssignmentsData();\n        } catch (err) {\n          console.error(err);\n        }\n      } else {\n        try {\n          await entitlementActions.assignEntitlement({\n            key: this.entitlementKey,\n            global: true\n          });\n          this.isGlobal = !this.isGlobal;\n        } catch (err) {\n          console.error(err);\n        }\n      }\n      this.globalLoading = false;\n      this.initialLoading = false;\n    },\n    paginate() {\n      this.page = document.getElementById('admin-pagination').page;\n    }\n  }\n};\n</script>\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"m-redirects__create\"},[_c('Form',{attrs:{\"communityId\":_vm.communityId,\"networkId\":_vm.networkId,\"editContext\":\"Create\"}})],1)}\nvar staticRenderFns = []\nexport { render, staticRenderFns }","import graphqlRequest from '../../client/lib/graphql_request';\n\nexport default async function deleteRedirect(Id) {\n  await graphqlRequest('/api/tower/graphql', {\n    query: `\n      mutation DeleteRedirect($id: Int!) {\n        deleteRedirect(where: {id: $id}) {\n          redirect {\n            id\n          }\n        }\n      }\n    `,\n    variables: JSON.stringify({ id: Id })\n  });\n  return;\n}\n","const configEl = document.querySelector('script[type=\"config\"]');\nconst config = JSON.parse(configEl.textContent);\n\nmodule.exports = config;\n","<template>\n  <div>\n    <div\n      v-show=\"loading\"\n      class=\"m-loading-header\"\n    >\n      <res-icon class=\"m-loading-icon\" name=\"loading\" size=\"large\" />\n      <p class=\"m-loading-text\">Loading entitlements</p>\n    </div>\n    <entitlements-table :entitlements=\"entitlements\"/>\n  </div>\n</template>\n\n<script>\nimport EntitlementsTable from '../../../components/entitlements-table.vue';\nimport { getEntitlements } from '../../../actions/entitlements';\n\nexport default {\n  name: 'Dashboard',\n  components: {\n    EntitlementsTable\n  },\n  data() {\n    return {\n      entitlements: [],\n      loading: true\n    };\n  },\n  async created() {\n    this.entitlements = await getEntitlements();\n    this.loading = false;\n  }\n};\n</script>\n","<template>\n  <main class=\"m-dashboard__content m-entitlement-networks m-admin\">\n    <div>\n      <router-link :to=\"{ name: 'entitlements-dashboard' }\" class=\"m-entitlement-info\">\n        <res-icon class=\"m-back-icon\" name=\"back\" size=\"large\" />\n        <p class=\"m-back-text\">Back to entitlements</p>\n      </router-link>\n    </div>\n    <h1 class=\"m-entitlement-name\">{{ name }}</h1>\n    <div class=\"m-entitlement-global-description-block\">\n      <p v-show=\"description\" class=\"entitlement-description\">{{ description }}</p>\n      <res-switch\n        :checked=\"isGlobal\"\n        :disabled=\"globalLoading\"\n        class=\"m-global-toggle\"\n        @change=\"toggleGlobal\"\n      >\n        <label>Global</label><input type=\"checkbox\" name=\"s1\" />\n      </res-switch>\n    </div>\n    <div v-show=\"initialLoading && !isGlobal\">\n      <res-icon class=\"m-loading-icon\" name=\"loading\" size=\"large\" />\n      <p class=\"m-loading-text\">Loading {{ name }}s networks</p>\n    </div>\n    <div v-if=\"!isGlobal && !initialLoading\" class=\"m-entitlement-assignments\">\n      <h2 class=\"m-available-header\">Networks</h2>\n      <res-input class=\"m-assignment-search\">\n        <input v-model=\"query\" type=\"search\" placeholder=\"Search networks\" />\n        <res-icon slot=\"inner-right\" name=\"search\" />\n      </res-input>\n      <res-table :mobile=\"isMobile\" class=\"m-admin__table\" zebra>\n        <div class=\"m-dashboard__sub-head\">\n          <div class=\"m-dashboard__sub-head__title\">\n            <table>\n              <thead>\n                <tr>\n                  <th>Network</th>\n                  <th class=\"m-dashboard__table__communities-header\">Communities</th>\n                </tr>\n              </thead>\n              <tbody>\n                <tr v-for=\"network in filteredNetworks\" :key=\"network.id\" class=\"m-dashboard__table__row\">\n                  <td class=\"m-dashboard__table__networks\">\n                    <div>\n                      <div v-if=\"network.svgLogo\" class=\"m-dashboard__table__avatar\" v-html=\"network.svgLogo\" />\n                      <img v-else :src=\"$root.config.defaultLogoUrl\" class=\"m-dashboard__table__icon\" />\n                      <div class=\"m-network-name\">{{ network.name }}</div>\n                    </div>\n                  </td>\n                  <td class=\"m-dashboard__table__communities\">\n                    <router-link :to=\"{ name: 'entitlement-communities', params: { key: entitlementKey, id: network.id }}\" class=\"m-community-info\">\n                      {{ network.searchCommunities.totalCount }} (See all)\n                    </router-link>\n                  </td>\n                </tr>\n              </tbody>\n            </table>\n          </div>\n        </div>\n      </res-table>\n    </div>\n  </main>\n</template>\n\n<script>\nimport { sortBy } from 'lodash';\nimport * as entitlementActions from '../../../actions/entitlements.js';\nimport { getAllNetworks } from '../../../actions/communities';\n\nconst MOBILE_WIDTH = 800;\n\nexport default {\n  data() {\n    return {\n      entitlementKey: '',\n      name: '',\n      description: '',\n      isGlobal: false,\n      isMobile: false,\n      initialLoading: true,\n      globalLoading: false,\n      query: '',\n      networks: []\n    };\n  },\n  computed: {\n    filteredNetworks() {\n      if (!this.query) {\n        return this.networks;\n      }\n\n      return this.networks.filter(a => {\n        if (a.name.toLowerCase().includes(this.query.toLowerCase()) || a.id === parseInt(this.query)) {\n          return a;\n        }\n      });\n    }\n  },\n  async created() {\n    this.networks = sortBy(await getAllNetworks(), 'name');\n    this.entitlementKey = this.$route.params.key;\n    await this.getEntitlementData();\n  },\n  beforeMount() {\n    this.isMobile = window.innerWidth <= MOBILE_WIDTH;\n    window.addEventListener('resize', () => this.isMobile = window.innerWidth <= MOBILE_WIDTH);\n  },\n  methods: {\n    async getEntitlementData() {\n      let entitlementData = await entitlementActions.getEntitlementData(this.entitlementKey);\n      this.name = entitlementData.values.name;\n      this.description = entitlementData.values.description;\n      this.isGlobal = entitlementData.isGlobal;\n\n      this.globalLoading = false;\n      this.initialLoading = false;\n    },\n    async toggleGlobal() {\n      this.globalLoading = true;\n      if (this.isGlobal) {\n        try {\n          await entitlementActions.unassignEntitlement({\n            key: this.entitlementKey,\n            global: true\n          });\n          this.isGlobal = !this.isGlobal;\n          await this.getEntitlementData();\n        } catch (err) {\n          console.error(err);\n        }\n      } else {\n        try {\n          await entitlementActions.assignEntitlement({\n            key: this.entitlementKey,\n            global: true\n          });\n          this.isGlobal = !this.isGlobal;\n        } catch (err) {\n          console.error(err);\n        }\n      }\n      this.globalLoading = false;\n      this.initialLoading = false;\n    },\n    paginate() {\n      this.page = document.getElementById('admin-pagination').page;\n    }\n  }\n};\n</script>\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"m-nav--assets\"},[_c('div',{staticClass:\"p-flex--v m-nav--assets\"},[(_vm.community)?_c('redirects',{attrs:{\"community\":_vm.community}}):_vm._e()],1)])}\nvar staticRenderFns = []\nexport { render, staticRenderFns }","<template>\n  <div class=\"m-redirects__form\">\n    <div class=\"m-redirects__messaging\">\n      <res-banner v-show=\"creatingRedirect\"><span>Creating redirect...</span></res-banner>\n      <res-banner v-show=\"redirectCreated\" design=\"positive\"><span>Success! Your redirect was {{ saveContext }}.</span></res-banner>\n      <res-banner v-show=\"createError\" design=\"negative\"><span>Error: {{ saveErrorMessage }}</span></res-banner>\n    </div>\n    <div class=\"l-content\">\n\n      <main class=\"m-dashboard__content\">\n        <div class=\"m-dashboard__sub-head\">\n          <div class=\"m-dashboard__sub-head__title\">\n            <res-button type=\"default\" paddingless>\n              <res-icon size=\"small\" name=\"back\"/>\n              <router-link :to=\"{ path: '/admin/redirects', query: { community_id: newDomain, network_id: newNetwork }}\">Back to redirects</router-link>\n            </res-button>\n            <h1>{{ editContext }} redirect</h1>\n          </div>\n        </div>\n        <div class=\"m-edit\">\n\n\n          <networkFilter\n            :networks=\"networks\"\n            :networkId=\"networkId\"\n            :communityId=\"newDomain\"\n            @community-changed=\"updateCommunityAndNetworkId\"\n          />\n\n\n          <div class=\"m-edit-redirect\"><res-input><label>Redirect from</label> <input v-model=\"newPath\" type=\"text\" name=\"redirects-from\" value=\"\"/>\n            <div slot=\"help\" class=\"res-input__help-text\">\n              <p>This URL path should not include a domain and must begin with a slash, eg. <em>/about</em></p>\n              <p>The full URL you're redirecting from is <strong>http://{{ newDomainName }}{{ newPath }}</strong></p>\n            </div>\n          </res-input>\n          </div>\n\n          <div class=\"m-edit-redirect\">\n            <res-input>\n              <label>Redirect to</label><input v-model=\"newDestination\" type=\"text\" name=\"redirects-to\" value=\"\"/><p slot=\"help\">To redirect within the same domain, add a path: <em>/this-is-a-path</em>.</p>\n              <p slot=\"help\">To redirect to a different domain, add the full URL: <em>otherdomain.com/path</em>.</p>\n            </res-input>\n          </div>\n\n          <div class=\"m-edit-redirect\">\n            <res-select>\n              <label>Status</label>\n              <select v-model=\"newStatus\" name=\"status\">\n                <option>301</option>\n                <option>302</option>\n                <option>307</option>\n                <option>308</option>\n              </select>\n\n            </res-select>\n            <div slot=\"help\" class=\"res-input__help-text\">\n              <p>The HTTP status code to use for the redirect. 301 is most common, but the following statuses are supported:</p>\n              <ul>\n                <li><strong>301 - Permanent</strong>, use with GET or HEAD requests.</li>\n                <li><strong>302 - Temporary</strong>, use with GET or HEAD requests.</li>\n                <li><strong>307 - Temporary</strong>, use with POST, PATCH, PUT, or DELETE requests.</li>\n                <li><strong>308 - Permanent</strong>, use with POST, PATCH, PUT, or DELETE requests.</li>\n              </ul>\n            </div>\n          </div>\n\n\n          <SaveButton :enabled=\"true\" @save=\"handleRedirectSave\"/>\n\n        </div>\n\n      </main>\n    </div>\n  </div>\n</template>\n\n\n<script>\nimport SaveButton from './savebutton.vue';\nimport NetworkFilter from './NetworkFilter.vue';\nimport createRedirect from '../../lib/create_redirect';\nimport updateRedirect from '../../lib/update_redirect';\n\nexport default {\n  name: 'Form',\n  components: {\n    SaveButton,\n    NetworkFilter\n  },\n  props: {\n    editContext: {\n      type: String,\n      required: true\n    },\n    networkId: {\n      type: Number\n    },\n    communityId: {\n      type: Number\n    },\n    status: {\n      type: Number\n    },\n    fromPath: {\n      type: String\n    },\n    destination: {\n      type: String\n    },\n    redirectId: {\n      type: Number\n    }\n  },\n  data () {\n    return {\n      saveContext: '',\n      creatingRedirect: false,\n      redirectCreated: false,\n      createError: false,\n      saveErrorMessage: '',\n      newStatus: this.status || 301,\n      newPath: this.fromPath,\n      newDestination: this.destination,\n      newDomain: this.communityId,\n      newNetwork: this.networkId,\n      newDomainName: '',\n      networks: this.$root.config.organization.networks,\n    };\n  },\n  created() {\n    this.newDomainName = this.networks\n      .find(network => network.id === this.networkId).communities\n      .find(community => community.id === this.communityId).domain;\n  },\n  methods: {\n    updateCommunityAndNetworkId(communityId, networkId, domainName) {\n      this.newDomain = communityId;\n      this.newNetwork = networkId;\n      this.newDomainName = domainName;\n    },\n    handleRedirectSave() {\n      this.saveRedirect(this.newPath, this.newDestination, parseInt(this.newDomain), parseInt(this.newStatus), this.redirectId);\n    },\n    async saveRedirect(source, destination, community, status, redirectId) {\n      this.creatingRedirect = true;\n      this.redirectCreated = false;\n      try {\n        if (redirectId) {\n          await updateRedirect(redirectId, source, destination, community, status);\n          this.saveContext = 'edited';\n        } else {\n          await createRedirect(source, destination, community, status);\n          this.saveContext = 'created';\n        }\n      } catch (err) {\n        this.createError = true;\n        this.creatingRedirect = false;\n        console.error(err);\n        // prints error message in the error banner\n        this.saveErrorMessage = err.data[0].message;\n        return;\n      }\n\n      this.creatingRedirect = false;\n      this.redirectCreated = true;\n\n      // wait a second to route user back to the dashboard, so they can see the success banner\n      setTimeout(routeUserToDashboard, 1000);\n\n      var self = this;\n      function routeUserToDashboard() {\n        self.$router.push({ path: '/admin/redirects', query: { community_id: self.newDomain, network_id: self.newNetwork } });\n      }\n    }\n  }\n};\n</script>\n","<template>\n  <tr class=\"m-dashboard__table__row\">\n    <td class=\"m-dashboard__table__title\">{{ values.name }}</td>\n    <td class=\"m-dashboard__table__title m-admin-description\">{{ values.description }}</td>\n    <td class=\"m-dashboard__table__title m-admin-global\">{{ isGlobal ? 'Yes' : 'No' }}</td>\n    <td class=\"m-dashboard__table__title m-admin-action\">\n      <router-link :to=\"{ name: 'entitlement-networks', params: { key: entitlementKey }}\" class=\"m-entitlement-info\">\n        Edit\n      </router-link>\n    </td>\n  </tr>\n</template>\n\n<script>\n\nexport default {\n  props: {\n    entitlementKey: {\n      type: String,\n      required: true,\n      default: ''\n    },\n    values: {\n      type: Object,\n      required: true,\n      default: () => ({ name: null, description: null })\n    },\n    isGlobal: {\n      type: Boolean,\n      required: true,\n      default: false\n    }\n  }\n};\n</script>\n","/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./app.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./app.vue\"\n/* template */\nimport {render as __vue_render__, staticRenderFns as __vue_static_render_fns__} from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-5f9c7694\\\",\\\"hasScoped\\\":false,\\\"optionsId\\\":\\\"0\\\",\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./app.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nimport normalizeComponent from \"!../node_modules/vue-loader/lib/runtime/component-normalizer\"\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_render__,\n  __vue_static_render_fns__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n","function HttpStatusError(message, response) {\n  Error.call(this);\n  if (typeof Error.captureStackTrace === 'function') {\n    Error.captureStackTrace(this, HttpStatusError);\n  } else {\n    this.stack = (new Error(message)).stack;\n  }\n\n  this.message = message;\n  this.response = response;\n  this.name = this.constructor.name;\n}\n\nHttpStatusError.prototype = Object.create(Error.prototype);\nHttpStatusError.prototype.constructor = HttpStatusError;\n\nexport default HttpStatusError;\n","var request = require('./request');\nvar GraphQLError = require('./errors/graphql_error');\n\nexport default async function graphqlRequest(path, body, opts = {}) {\n  var { data, errors } = await request(path, {\n    method: 'POST',\n    body,\n    opts: { cache: true, ...opts }\n  });\n\n  // Error out if the service returns no data and also includes errors\n  if (!data && errors) {\n    throw new GraphQLError(errors);\n  }\n\n  return data;\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"m-redirects__import\"},[_c('div',{staticClass:\"m-redirects__messaging\"},[_c('res-banner',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.importingRedirects),expression:\"importingRedirects\"}]},[_c('span',[_vm._v(\"Importing redirects...\")])]),_vm._v(\" \"),_c('res-banner',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.redirectsCreated),expression:\"redirectsCreated\"}],attrs:{\"design\":\"positive\"}},[_c('span',[_vm._v(\"Success! Your redirects were imported.\")])]),_vm._v(\" \"),_c('res-banner',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.importError),expression:\"importError\"}],attrs:{\"design\":\"negative\"}},[_c('span',[_vm._v(\"Something went wrong. Try refreshing the page.\")])])],1),_vm._v(\" \"),_c('div',{staticClass:\"l-content\"},[_c('main',{staticClass:\"m-dashboard__content\"},[_c('div',{staticClass:\"m-dashboard__sub-head m-redirects__import-head\"},[_c('div',{staticClass:\"m-dashboard__sub-head__title\"},[_c('res-button',{attrs:{\"type\":\"default\",\"paddingless\":\"\"}},[_c('res-icon',{attrs:{\"size\":\"small\",\"name\":\"back\"}}),_vm._v(\" \"),_c('router-link',{attrs:{\"to\":{ path: '/admin/redirects', query: { community_id: _vm.communityId, network_id: _vm.networkId }}}},[_vm._v(\"Back to redirects\")])],1),_vm._v(\" \"),_c('h1',[_vm._v(\"Import redirects from CSV\")])],1)]),_vm._v(\" \"),_c('div',{staticClass:\"m-edit\"},[_vm._m(0),_vm._v(\" \"),_vm._m(1),_vm._v(\" \"),_c('p',[_vm._v(\"If an existing redirect is found with the same source, but a different destination or status, it will be updated.\")]),_vm._v(\" \"),_c('div',{staticClass:\"m-redirects__import--choose-file\"},[_c('input',{staticStyle:{\"display\":\"none\"},attrs:{\"id\":\"import-redirects-button\",\"type\":\"file\"},on:{\"change\":_vm.handleFileName}}),_vm._v(\" \"),_c('res-button',{on:{\"click\":_vm.handleFileSelect}},[_c('res-icon',{attrs:{\"name\":\"upload\"}}),_c('button',[_vm._v(\"Choose File\")])],1),_vm._v(\" \"),_c('span',{attrs:{\"id\":\"chosen-file-name\"}},[_vm._v(\"No file chosen\")])],1),_vm._v(\" \"),_c('div',{staticClass:\"m-redirects__import--submit\"},[_c('div',{staticClass:\"m-redirects__import--submit-buttons\"},[_c('res-button',{attrs:{\"design\":\"primary\"},on:{\"click\":_vm.handleRedirectsImport}},[_c('button',[_vm._v(\"Import\")])]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.noFileChosen),expression:\"noFileChosen\"}],staticClass:\"m-redirects__import--no-file\"},[_vm._m(2)])],1)])])])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',[_c('a',{attrs:{\"href\":\"https://docs.google.com/spreadsheets/d/1XCSlToWhdq832HLdJsLYzZSx6HYPqRFou8IMnr6rYrg/edit?usp=sharing\"}},[_vm._v(\"Download this template as a CSV\")]),_vm._v(\", or create your own. CSV files should include three columns with the following headers:\")])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ul',[_c('li',[_c('strong',[_vm._v(\"source\")]),_vm._v(\": The URL or path you want to redirect away from.\")]),_vm._v(\" \"),_c('li',[_c('strong',[_vm._v(\"destination\")]),_vm._v(\": The URL or path you want to redirect to.\")]),_vm._v(\" \"),_c('li',[_c('strong',[_vm._v(\"status\")]),_vm._v(\": The HTTP status code. 301 is most common, and used for permanent redirects. 302 is used for temporary redirects. 307 and 308 can also be used, but are not common.\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',[_c('em',[_vm._v(\"Choose a file!\")])])}]\nexport { render, staticRenderFns }","import Vue from 'vue';\nimport VueApollo from 'vue-apollo';\nimport { ApolloClient } from 'apollo-client';\nimport { HttpLink } from 'apollo-link-http';\nimport { InMemoryCache } from 'apollo-cache-inmemory';\n\nlet tower = new URL(window.location);\ntower.pathname = '/api/tower/graphql';\ntower.search = '';\n\nconst httpLink = new HttpLink({\n  uri: tower.toString(),\n  credentials: 'include'\n});\n\nexport const towerClient = new ApolloClient({\n  link: httpLink,\n  cache: new InMemoryCache(),\n  connectToDevTools: true,\n  shouldBatch: true,\n});\n\nVue.use(VueApollo);\n\nexport const apolloProvider = new VueApollo({\n  defaultClient: towerClient,\n});\n\nlet importer = new URL(window.location);\nimporter.pathname = '/api/chorus-import-manager/graphql';\nimporter.search = '';\n\nexport const importerClient = new ApolloClient({\n  link: new HttpLink({\n    uri: importer.toString(),\n    credentials: 'include'\n  }),\n  cache: new InMemoryCache(),\n  connectToDevTools: true,\n  defaultOptions: {\n    watchQuery: { fetchPolicy: 'network-only' },\n    query: { fetchPolicy: 'network-only' },\n  }\n});\n","import Vue from 'vue';\nimport Vuex from 'vuex';\nimport actions from './actions.js';\nimport mutations from './mutations';\nimport getters from './getters';\n\nVue.use(Vuex);\n\nconst store = new Vuex.Store({\n  state: {},\n  actions,\n  mutations,\n  getters\n});\n\nexport default store;\n","import graphqlRequest from '../../client/lib/graphql_request';\n\nexport default async function createRedirect(source, destination, community, status) {\n  await graphqlRequest('/api/tower/graphql', {\n    query: `\n      mutation createRedirectInput($path: String!, $destination: String!, $communityId: Int!, $status: Int!) {\n        createRedirect(input: {path: $path, destination: $destination, community: { id: $communityId }, status: $status}) {\n          redirect {\n            id\n          }\n        }\n      }\n    `,\n    variables: JSON.stringify({ path: source, destination: destination, communityId: community, status: status })\n  });\n  return;\n}\n","import Vue from 'vue';\nimport config from '../config';\nimport * as Sentry from '@sentry/browser';\nimport * as Integrations from '@sentry/integrations';\n\nif (config.sentry) {\n  Sentry.init({\n    dsn: config.sentry.dsn,\n    release: config.release,\n    environment: config.env,\n    integrations: [new Integrations.Vue({ Vue })]\n  });\n}\n","module.exports = function wait(howLong) {\n  return new Promise(function(resolve) {\n    setTimeout(resolve, howLong);\n  });\n};\n","/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./entitlement-networks.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./entitlement-networks.vue\"\n/* template */\nimport {render as __vue_render__, staticRenderFns as __vue_static_render_fns__} from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-55b3bd95\\\",\\\"hasScoped\\\":false,\\\"optionsId\\\":\\\"0\\\",\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./entitlement-networks.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nimport normalizeComponent from \"!../../../../node_modules/vue-loader/lib/runtime/component-normalizer\"\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_render__,\n  __vue_static_render_fns__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n","/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./savebutton.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./savebutton.vue\"\n/* template */\nimport {render as __vue_render__, staticRenderFns as __vue_static_render_fns__} from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6aba84a6\\\",\\\"hasScoped\\\":false,\\\"optionsId\\\":\\\"0\\\",\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./savebutton.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nimport normalizeComponent from \"!../../../node_modules/vue-loader/lib/runtime/component-normalizer\"\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_render__,\n  __vue_static_render_fns__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n","/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./entitlement-dashboard.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./entitlement-dashboard.vue\"\n/* template */\nimport {render as __vue_render__, staticRenderFns as __vue_static_render_fns__} from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-45b02ef6\\\",\\\"hasScoped\\\":false,\\\"optionsId\\\":\\\"0\\\",\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./entitlement-dashboard.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nimport normalizeComponent from \"!../../../../node_modules/vue-loader/lib/runtime/component-normalizer\"\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_render__,\n  __vue_static_render_fns__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('tr',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.communityName),expression:\"communityName\"}],staticClass:\"m-dashboard__table__row\"},[_c('td',{staticClass:\"m-dashboard__table__assignments\"},[(_vm.faviconUrl)?_c('img',{staticClass:\"m-entitlement-community-icon\",attrs:{\"src\":_vm.faviconUrl}}):_c('img',{staticClass:\"m-entitlement-community-icon\",attrs:{\"src\":this.$root.config.defaultLogoUrl}}),_vm._v(\" \"),_c('span',{staticClass:\"m-community-name\"},[_vm._v(_vm._s(_vm.communityName))])]),_vm._v(\" \"),_c('td',{staticClass:\"m-entitlement-checked\"},[_c('res-switch',{attrs:{\"checked\":_vm.isEnabled,\"disabled\":_vm.loading},on:{\"change\":_vm.toggleAssignment}},[_c('label',{staticClass:\"m-entitlement-checked-label\"}),_vm._v(\" \"),_c('input',{attrs:{\"type\":\"checkbox\",\"name\":\"s1\"}})])],1)])}\nvar staticRenderFns = []\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"m-redirects__dashboard\"},[_c('res-banner',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.deletingRedirect),expression:\"deletingRedirect\"}]},[_c('span',[_vm._v(\"Deleting redirect...\")])]),_vm._v(\" \"),_c('res-banner',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.redirectDeleted),expression:\"redirectDeleted\"}],attrs:{\"design\":\"positive\"}},[_c('span',[_vm._v(\"Success! Your redirect was deleted.\")])]),_vm._v(\" \"),_c('res-banner',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.deleteError),expression:\"deleteError\"}],attrs:{\"design\":\"negative\"}},[_c('span',[_vm._v(\"Something went wrong. Try refreshing the page.\")])]),_vm._v(\" \"),_c('div',{staticClass:\"l-content\"},[_c('main',{staticClass:\"m-dashboard__content\"},[_c('div',{staticClass:\"m-dashboard__sub-head p-flex m-redirects__dashboard-head\"},[_vm._m(0),_vm._v(\" \"),_c('div',[_c('router-link',{attrs:{\"to\":{ path: '/admin/redirects/import', query: { community_id: _vm.community_id, network_id: _vm.network_id }}}},[_c('res-button',[_c('res-icon',{attrs:{\"name\":\"upload\"}}),_c('button',[_vm._v(\"Import from CSV\")])],1)],1),_vm._v(\" \"),_c('router-link',{attrs:{\"to\":{ path: '/admin/redirects/create', query: { community_id: _vm.community_id, network_id: _vm.network_id }}}},[_c('res-button',{attrs:{\"design\":\"primary\"}},[_c('button',[_vm._v(\"Create\")])])],1)],1)]),_vm._v(\" \"),_c('div',{staticClass:\"p-flex m-redirects__search\"},[_c('networkFilter',{attrs:{\"networks\":_vm.networks,\"communityId\":_vm.community_id,\"networkId\":_vm.network_id},on:{\"community-changed\":_vm.updateCommunityAndNetworkId}}),_vm._v(\" \"),_c('res-input',{staticClass:\"m-redirects__search--path\"},[_c('label',[_vm._v(\"Filter by path\")]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.path),expression:\"path\"}],attrs:{\"type\":\"text\",\"name\":\"search-path\"},domProps:{\"value\":(_vm.path)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.path=$event.target.value}}})]),_vm._v(\" \"),_c('res-input',{staticClass:\"m-redirects__search--destination\"},[_c('label',[_vm._v(\"Filter by destination\")]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.destination),expression:\"destination\"}],attrs:{\"type\":\"text\",\"name\":\"search-destination\"},domProps:{\"value\":(_vm.destination)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.destination=$event.target.value}}})])],1),_vm._v(\" \"),_c('res-table',[_c('table',{staticClass:\"m-edit-links\"},[_c('thead',[_c('tr',[_c('th',[_vm._v(\"Domain\")]),_vm._v(\" \"),_c('th',[_vm._v(\"Path\")]),_vm._v(\" \"),_c('th',[_vm._v(\"Destination\")]),_vm._v(\" \"),_c('th',[_vm._v(\"Status\")]),_vm._v(\" \"),_c('th')])]),_vm._v(\" \"),_c('tbody',_vm._l((_vm.searchRedirectsResults),function(redirect){return _c('tr',{key:redirect.id,attrs:{\"data-id\":redirect.id}},[_c('td',[_vm._v(_vm._s(redirect.host))]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(redirect.path))]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(redirect.destination))]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(redirect.status))]),_vm._v(\" \"),_c('td',[_c('div',{staticClass:\"m-redirects__controls\"},[_c('router-link',{attrs:{\"to\":{ path: '/admin/redirects/edit', query: { community_id: _vm.community_id, network_id: _vm.network_id, path: redirect.path, destination: redirect.destination, status: redirect.status, redirectId: redirect.id }}}},[_c('res-button',[_c('res-icon',{attrs:{\"name\":\"edit\"}}),_c('button',[_vm._v(\"Edit\")])],1)],1),_vm._v(\" \"),_c('res-button',{attrs:{\"res-modal-open\":redirect.id,\"negative\":\"\"}},[_c('res-icon',{attrs:{\"name\":\"trash\"}}),_c('button',[_vm._v(\"Delete\")])],1)],1)]),_vm._v(\" \"),_c('res-modal',{attrs:{\"id\":redirect.id,\"close-on-bg-click\":\"\"}},[_c('div',[_c('p',{staticClass:\"m-redirects__modal-warning\"},[_vm._v(\"Are you sure you want to destroy this redirect?\")]),_vm._v(\" \"),_c('res-button',{attrs:{\"id\":\"modal-close\",\"res-modal-close\":redirect.id,\"design\":\"secondary\"},on:{\"click\":function($event){return _vm.handleDelete(redirect.id)}}},[_c('button',[_vm._v(\"Delete redirect\")])]),_vm._v(\" \"),_c('res-button',{attrs:{\"id\":\"modal-close\",\"res-modal-close\":redirect.id}},[_c('res-icon',{attrs:{\"name\":\"x\"}}),_c('button',[_vm._v(\"Cancel\")])],1)],1)])],1)}),0)])]),_vm._v(\" \"),_c('div',{staticClass:\"p-flex m-redirects__pagination\"},[_c('res-pagination',{attrs:{\"count\":_vm.searchRedirects.totalCount,\"display\":_vm.perPage,\"page\":_vm.page,\"ticks\":\"7\",\"indicator\":\"both\"},on:{\"click\":function($event){return _vm.updatePage($event)}}})],1)],1)])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"m-dashboard__sub-head__title\"},[_c('h1',[_vm._v(\"Redirects\")])])}]\nexport { render, staticRenderFns }","export default {};\n","import Vue from 'vue';\nimport VueRouter from 'vue-router';\nimport EntitlementsDashboard from './views/entitlements/entitlement-dashboard.vue';\nimport EntitlementNetworks from './views/entitlements/entitlement-networks.vue';\nimport EntitlementCommunities from './views/entitlements/entitlement-communities.vue';\nimport Dashboard from './views/redirects/dashboard.vue';\nimport Edit from '../components/redirects/edit.vue';\nimport Create from '../components/redirects/create.vue';\nimport Import from '../components/redirects/import.vue';\n\nVue.use(VueRouter);\n\nconst router = new VueRouter({\n  mode: 'history',\n  routes: [\n    {\n      path: '/admin',\n      redirect: '/admin/entitlements'\n    },\n    {\n      path: '/admin/entitlements',\n      name: 'entitlements-dashboard',\n      component: EntitlementsDashboard\n    },\n    {\n      path: '/admin/entitlements/:key',\n      name: 'entitlement-networks',\n      component: EntitlementNetworks\n    },\n    {\n      path: '/admin/entitlements/:key/network/:id',\n      name: 'entitlement-communities',\n      component: EntitlementCommunities\n    },\n    {\n      path: '/admin/redirects',\n      name: 'Redirects',\n      component: Dashboard,\n      props: route => ({\n        communityId: parseInt(route.query.community_id),\n        networkId: parseInt(route.query.network_id)\n      })\n    },\n    {\n      path: '/admin/redirects/edit',\n      name: 'Edit',\n      component: Edit,\n      props: route => ({\n        communityId: parseInt(route.query.community_id),\n        networkId: parseInt(route.query.network_id),\n        fromPath: route.query.path,\n        destination: route.query.destination,\n        status: parseInt(route.query.status),\n        redirectId: parseInt(route.query.redirectId)\n      })\n    },\n    {\n      path: '/admin/redirects/create',\n      name: 'Create',\n      component: Create,\n      props: route => ({\n        communityId: parseInt(route.query.community_id),\n        networkId: parseInt(route.query.network_id)\n      })\n    },\n    {\n      path: '/admin/redirects/import',\n      name: 'Import',\n      component: Import,\n      props: route => ({\n        communityId: parseInt(route.query.community_id),\n        networkId: parseInt(route.query.network_id)\n      })\n    }\n  ]\n});\nexport default router;\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"m-redirects__network-filter\"},[_c('res-select',[_c('label',[_vm._v(\"Network\")]),_vm._v(\" \"),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.selectedNetworkId),expression:\"selectedNetworkId\"}],attrs:{\"name\":\"select-network\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.selectedNetworkId=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},[_c('option',{attrs:{\"placeholder\":\"\"}},[_vm._v(\"Select network\")]),_vm._v(\" \"),_vm._l((_vm.networks),function(network){return _c('option',{key:network.id,domProps:{\"value\":network.id}},[_vm._v(_vm._s(network.name))])})],2)]),_vm._v(\" \"),_c('res-select',{staticStyle:{\"margin-right\":\"8px\"}},[_c('label',[_vm._v(\"Domain\")]),_vm._v(\" \"),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.selectedCommunityId),expression:\"selectedCommunityId\"}],attrs:{\"name\":\"select-community\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.selectedCommunityId=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},[_c('option',{attrs:{\"placeholder\":\"\"}},[_vm._v(\"Select community\")]),_vm._v(\" \"),_vm._l((_vm.currentNetwork.communities),function(community){return _c('option',{key:community.id,domProps:{\"value\":community.id}},[_vm._v(_vm._s(community.domain))])})],2)])],1)}\nvar staticRenderFns = []\nexport { render, staticRenderFns }","const { merge, omit } = require('lodash');\nconst qs = require('qs');\nconst wait = require('./wait');\nconst HttpStatusError = require('./errors/http_status_error');\nconst messageActions = require('../actions/messages');\nconst { reportError } = require('../actions/sentry');\nconst hash = require('../../shared/content-hash');\n\nconst STORAGE = {};\n\nfunction checkStatus(response) {\n  if (response.ok) {\n    return response;\n  } else {\n    var error = new HttpStatusError(`Response status not within range: ${response.status}`, response);\n    return Promise.reject(error);\n  }\n}\n\nfunction parseBody(response, accepts, withHeaders) {\n  if (response.status === 204) {\n    return Promise.resolve();\n  }\n  if (accepts === 'text/html') {\n    return response.text().then(data => returnWithHeaders(response, data, withHeaders));\n  }\n  return response.json().then(data => returnWithHeaders(response, data, withHeaders));\n}\n\nfunction returnWithHeaders(response, data, withHeaders) {\n  if (withHeaders) {\n    return {\n      data,\n      headers: response.headers\n    };\n  }\n  return data;\n}\n\n// Handles error based on supplied options\nfunction handleError(error, url, reqOpts, opts) {\n  var status = error.response && error.response.status;\n  if (\n    opts.retry &&\n    opts.retry.delay < opts.retry.maxDelay &&\n    (!status || status === 502 || status === 503)\n  ) {\n    var { retry } = opts;\n    var delay = Math.min(retry.delay + 1000, retry.maxDelay);\n    retry.delay = delay;\n    return wait(delay).then(() => request(url, reqOpts, opts));\n  } else {\n    if (opts.handleError) {\n      if (window.app && window.app.state) {\n        // Show a flash message, but don't send to sentry. Uses `window.top` so\n        // that app is accessible by requests from within object iframes\n        messageActions.showError();\n      } else {\n        console.warn('An unexpected error occurred while making a request, but the app is not able to display it');\n        reportError(error, false);\n      }\n    }\n    return Promise.reject(error);\n  }\n}\n\nfunction request(url, reqOpts, opts) {\n  let cacheKey = getCacheKey(url, reqOpts);\n  if (opts.cache && !opts.force && cacheKey in STORAGE) {\n    return Promise.resolve(STORAGE[cacheKey]);\n  }\n\n  return fetch(url, reqOpts)\n    .then(checkStatus)\n    .then(res => parseBody(res, reqOpts.headers.Accept, opts.withHeaders))\n    .then(body => {\n      if (opts.cache) {\n        STORAGE[cacheKey] = body;\n      }\n      return body;\n    })\n    .catch(err => handleError(err, url, reqOpts, opts));\n}\n\n// For GET requests, all the unique request data should be in the URL\n// For non-GET requests with body, also hash that to get a unique cache key\nfunction getCacheKey(url, { method, body }) {\n  let cacheKey = url;\n  if (method && method !== 'GET' && body) {\n    cacheKey += hash(body);\n  }\n\n  return cacheKey;\n}\n\nfunction loadOpts(url, reqOpts) {\n  // Defaults\n  var defaultReqOpts = {\n    credentials: 'include',\n    headers: { Accept: 'application/json' }\n  };\n  var defaultOpts = {\n    handleError: true,\n    cache: false,\n    retry: { delay: 0, maxDelay: 3000 }\n  };\n\n  // Pull out non-request options, if any\n  var opts = reqOpts.opts || {};\n  var requestOpts = omit(reqOpts, 'opts');\n\n  // Parse the request options\n  if (requestOpts.method && requestOpts.method.toUpperCase() !== 'GET') {\n    defaultReqOpts.headers['Content-Type'] = 'application/json';\n  }\n  if (requestOpts.query) {\n    url = url + '?' + qs.stringify(requestOpts.query);\n    delete requestOpts.query;\n  }\n  if (requestOpts.body && typeof requestOpts.body !== 'string') {\n    requestOpts.body = JSON.stringify(requestOpts.body);\n  }\n  if (requestOpts.credentials === false) {\n    delete defaultReqOpts.credentials;\n    delete requestOpts.credentials;\n  }\n\n  // Parse additional options\n  if (!opts.retry) {\n    defaultOpts.retry = false;\n  }\n  if (typeof opts.retry === 'boolean') { delete opts.retry; }\n\n  return {\n    url,\n    opts: merge(defaultOpts, opts),\n    reqOpts: merge(defaultReqOpts, requestOpts)\n  };\n}\n\n/**\n * Makes AJAX requests and handles errors based on supplied options\n *\n * @param {string} url\n * @param {object} reqOpts: fetch request object\n * @param {object} opts: handler options, with the shape:\n *   {\n *    {boolean} handleError: defaults to true\n *    {boolean} cache: defaults to false\n *    {boolean} withHeaders: optional\n *    {boolean} retry: optional\n *    {object} retry: optional, custom retry params of `delay` and `maxDelay`\n *   }\n */\nexport default function(url, reqOpts = {}) {\n  var parsed = loadOpts(url, reqOpts);\n  return request(parsed.url, parsed.reqOpts, parsed.opts);\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"m-loading-header\"},[_c('res-icon',{staticClass:\"m-loading-icon\",attrs:{\"name\":\"loading\",\"size\":\"large\"}}),_vm._v(\" \"),_c('p',{staticClass:\"m-loading-text\"},[_vm._v(\"Loading entitlements\")])],1),_vm._v(\" \"),_c('entitlements-table',{attrs:{\"entitlements\":_vm.entitlements}})],1)}\nvar staticRenderFns = []\nexport { render, staticRenderFns }","var { defaults } = require('lodash');\nvar hash = require('../../shared/content-hash');\nvar messages = require('../config/messages');\n\nconst DEFAULTS = {\n  dismissible: true,\n  type: 'negative'\n};\n\nexport function showMessage(data) {\n  var id = hash(data.message);\n  if (findMessageIndex(id) === -1 && validatePersistence(data)) {\n    data.id = id;\n    data = defaults(data, DEFAULTS);\n    app.state.select(['messages']).push(data);\n  }\n\n  return id;\n}\n\nfunction validatePersistence(data) {\n  // Non-persistent messages don't already have a `id` attr, we should display\n  if (!data.id) {\n    return true;\n  }\n\n  // This is a persistent message that the user has seen before, don't display\n  var storageKey = `message-${data.id}`;\n  if (window.localStorage.getItem(storageKey) === 'shown') {\n    return false;\n  }\n\n  // This is a new persistent message, record + display\n  window.localStorage.setItem(storageKey, 'shown');\n  return true;\n}\n\nexport function removeMessage(id) {\n  var index = findMessageIndex(id);\n  app.state.select(['messages']).splice([index, 1]);\n}\n\nfunction findMessageIndex(id) {\n  return app.state.get(['messages']).findIndex(message => message.id === id);\n}\n\nexport function showError(error = messages.UNEXPECTED) {\n  var hasError = app.state.get(['messages']).some(message => message.isError);\n  if (!hasError) {\n    showMessage({\n      message: error,\n      type: 'negative',\n      isError: true\n    });\n  }\n}\n","<template>\n  <div class=\"m-nav--assets\">\n    <div class=\"p-flex--v m-nav--assets\">\n      <redirects v-if=\"community\" :community=\"community\"/>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Redirects from '../../../components/redirects/redirects.vue';\n\nexport default {\n  components: {\n    Redirects,\n  },\n  props: {\n    communityId: Number,\n    networkId: Number\n  },\n  data() {\n    return {\n      // the app needs to start with some initial community/network data -- this is defaulting to Vox\n      community: {\n        id: this.communityId || this.$root.config.organization.primaryNetwork.primaryCommunity.id,\n        network: {\n          id: this.networkId || this.$root.config.organization.primaryNetwork.id\n        }\n      },\n    };\n  },\n  created() {\n    document.title = 'Redirects | ' + this.$root.config.appName;\n  }\n};\n</script>\n","/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./NetworkFilter.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./NetworkFilter.vue\"\n/* template */\nimport {render as __vue_render__, staticRenderFns as __vue_static_render_fns__} from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6b4d4e94\\\",\\\"hasScoped\\\":false,\\\"optionsId\\\":\\\"0\\\",\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./NetworkFilter.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nimport normalizeComponent from \"!../../../node_modules/vue-loader/lib/runtime/component-normalizer\"\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_render__,\n  __vue_static_render_fns__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n","var { omit } = require('lodash');\nvar Sentry = require('@sentry/browser');\nvar messageActions = require('./messages');\nvar HttpStatusError = require('../lib/errors/http_status_error');\n\nexport function handleError(err, emit = true) {\n  reportError(err, emit);\n  return Promise.reject(err);\n}\n\nexport function reportError(err, emit = true) {\n  // Log out stack for debugging, but not in test mode to stop polluting the\n  // test output\n  let env;\n  try {\n    env = app.env; // get from app for Ractive pages\n  } catch (error) {\n    env = process.env.NODE_ENV; // get from node for Vue pages\n  }\n\n  if (env !== 'test') {\n    console.error(err);\n    console.error(err.stack || err.message);\n  }\n\n  if (!(err instanceof HttpStatusError)) {\n    Sentry.captureException(err, {\n      tags: {\n        error_name: err.name,\n        from: err.from\n      },\n      extra: omit(err, 'name', 'message', 'stack', 'from')\n    });\n  }\n\n  if (emit) {\n    messageActions.showError();\n  }\n}\n\nexport function reportMessage(message, opts) {\n  if (app.env !== 'test') {\n    console.warn(message, opts);\n  }\n\n  Sentry.captureMessage(message, opts);\n}\n","<template>\n  <div class=\"m-redirects__edit\">\n    <Form :communityId=\"communityId\"\n          :networkId=\"networkId\"\n          :fromPath=\"fromPath\"\n          :destination=\"destination\"\n          :status=\"status\"\n          :redirectId=\"redirectId\"\n          editContext=\"Edit\"/>\n  </div>\n</template>\n\n\n<script>\nimport Form from './form.vue';\n\nexport default {\n  name: 'Edit',\n  components: {\n    Form\n  },\n  props: {\n    communityId: Number,\n    networkId: Number,\n    fromPath: String,\n    status: Number,\n    destination: String,\n    redirectId: Number\n  }\n};\n</script>\n","<template>\n  <div class=\"m-redirects__create\">\n    <Form :communityId=\"communityId\" :networkId=\"networkId\" editContext=\"Create\"/>\n  </div>\n</template>\n\n<script>\nimport Form from './form.vue';\n\nexport default {\n  name: 'Create',\n  components: {\n    Form\n  },\n  props: {\n    communityId: Number,\n    networkId: Number\n  }\n};\n</script>\n","export default {};\n","/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./entitlements-table.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./entitlements-table.vue\"\n/* template */\nimport {render as __vue_render__, staticRenderFns as __vue_static_render_fns__} from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-9db2a3c8\\\",\\\"hasScoped\\\":false,\\\"optionsId\\\":\\\"0\\\",\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./entitlements-table.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nimport normalizeComponent from \"!../../node_modules/vue-loader/lib/runtime/component-normalizer\"\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_render__,\n  __vue_static_render_fns__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n","/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./dashboard.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./dashboard.vue\"\n/* template */\nimport {render as __vue_render__, staticRenderFns as __vue_static_render_fns__} from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-311ac3e8\\\",\\\"hasScoped\\\":false,\\\"optionsId\\\":\\\"0\\\",\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./dashboard.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nimport normalizeComponent from \"!../../../../node_modules/vue-loader/lib/runtime/component-normalizer\"\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_render__,\n  __vue_static_render_fns__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n","/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./import.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./import.vue\"\n/* template */\nimport {render as __vue_render__, staticRenderFns as __vue_static_render_fns__} from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-5246c03e\\\",\\\"hasScoped\\\":false,\\\"optionsId\\\":\\\"0\\\",\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./import.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nimport normalizeComponent from \"!../../../node_modules/vue-loader/lib/runtime/component-normalizer\"\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_render__,\n  __vue_static_render_fns__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n","/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./form.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./form.vue\"\n/* template */\nimport {render as __vue_render__, staticRenderFns as __vue_static_render_fns__} from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-f79ea810\\\",\\\"hasScoped\\\":false,\\\"optionsId\\\":\\\"0\\\",\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./form.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nimport normalizeComponent from \"!../../../node_modules/vue-loader/lib/runtime/component-normalizer\"\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_render__,\n  __vue_static_render_fns__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n","<template>\n  <div class=\"m-redirects__import\">\n    <div class=\"m-redirects__messaging\">\n      <res-banner v-show=\"importingRedirects\"><span>Importing redirects...</span></res-banner>\n      <res-banner v-show=\"redirectsCreated\" design=\"positive\"><span>Success! Your redirects were imported.</span></res-banner>\n      <res-banner v-show=\"importError\" design=\"negative\"><span>Something went wrong. Try refreshing the page.</span></res-banner>\n    </div>\n    <div class=\"l-content\">\n\n      <main class=\"m-dashboard__content\">\n        <div class=\"m-dashboard__sub-head m-redirects__import-head\">\n          <div class=\"m-dashboard__sub-head__title\">\n            <res-button type=\"default\" paddingless>\n              <res-icon size=\"small\" name=\"back\"/>\n              <router-link :to=\"{ path: '/admin/redirects', query: { community_id: communityId, network_id: networkId }}\">Back to redirects</router-link>\n            </res-button>\n            <h1>Import redirects from CSV</h1>\n          </div>\n        </div>\n\n        <div class=\"m-edit\">\n\n          <p><a href=\"https://docs.google.com/spreadsheets/d/1XCSlToWhdq832HLdJsLYzZSx6HYPqRFou8IMnr6rYrg/edit?usp=sharing\">Download this template as a CSV</a>, or create your own. CSV files should include three columns with the following headers:</p>\n\n          <ul>\n            <li><strong>source</strong>: The URL or path you want to redirect away from.</li>\n\n            <li><strong>destination</strong>: The URL or path you want to redirect to.</li>\n\n            <li><strong>status</strong>: The HTTP status code. 301 is most common, and used for permanent redirects. 302 is used for temporary redirects. 307 and 308 can also be used, but are not common.</li>\n          </ul>\n\n          <p>If an existing redirect is found with the same source, but a different destination or status, it will be updated.</p>\n\n\n          <div class=\"m-redirects__import--choose-file\">\n\n            <input id=\"import-redirects-button\" type=\"file\" style=\"display:none\" @change=\"handleFileName\"/>\n\n            <res-button @click=\"handleFileSelect\">\n              <res-icon name=\"upload\"/><button>Choose File</button>\n            </res-button>\n\n            <span id=\"chosen-file-name\">No file chosen</span>\n\n          </div>\n\n\n          <div class=\"m-redirects__import--submit\">\n\n            <div class=\"m-redirects__import--submit-buttons\">\n              <res-button design=\"primary\" @click=\"handleRedirectsImport\"><button>Import</button></res-button>\n              <div v-show=\"noFileChosen\" class=\"m-redirects__import--no-file\"><span><em>Choose a file!</em></span></div>\n            </div>\n          </div>\n        </div>\n\n\n      </main>\n    </div>\n  </div>\n</template>\n\n<script>\nimport SaveButton from './savebutton.vue';\nimport importRedirects from '../../lib/import_redirects';\n\nexport default {\n  name: 'Import',\n  components: {\n    SaveButton\n  },\n  props: {\n    communityId: Number,\n    networkId: Number\n  },\n  data () {\n    return {\n      importingRedirects: false,\n      redirectsCreated: false,\n      importError: false,\n      noFileChosen: false,\n    };\n  },\n  methods: {\n    handleRedirectsImport() {\n      var input = document.getElementById('import-redirects-button');\n      if (input.files[0]) {\n        var reader = new FileReader();\n        var self = this;\n        reader.onload = function(evt) {\n          self.importRedirects(evt.target.result);\n        };\n        reader.readAsText(input.files[0]);\n      } else {\n        this.noFileChosen = true;\n      }\n    },\n    handleFileSelect() {\n      var fileInput = document.getElementById('import-redirects-button');\n      if (fileInput) {\n        fileInput.click();\n      }\n    },\n    handleFileName() {\n      var fileName = document.getElementById('chosen-file-name');\n      var fileInput = document.getElementById('import-redirects-button');\n      fileName.innerHTML = fileInput.files[0].name;\n    },\n    async importRedirects(csv) {\n      this.importingRedirects = true;\n      this.redirectsCreated = false;\n      try {\n        await importRedirects(csv);\n      } catch (err) {\n        this.importError = true;\n        this.importingRedirects = false;\n        console.error(err);\n        return;\n      }\n      this.importingRedirects = false;\n      this.redirectsCreated = true;\n      this.noFileChosen = false;\n\n      // wait a second to route user back to the dashboard, so they can see the success banner\n      setTimeout(routeUserToDashboard, 1000);\n\n      var self = this;\n      function routeUserToDashboard() {\n        self.$router.push({ path: '/admin/redirects', query: { community_id: self.communityId, network_id: self.networkId } });\n      }\n\n    }\n  }\n};\n</script>\n","/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./create.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./create.vue\"\n/* template */\nimport {render as __vue_render__, staticRenderFns as __vue_static_render_fns__} from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-1d8f737c\\\",\\\"hasScoped\\\":false,\\\"optionsId\\\":\\\"0\\\",\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./create.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nimport normalizeComponent from \"!../../../node_modules/vue-loader/lib/runtime/component-normalizer\"\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_render__,\n  __vue_static_render_fns__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n","/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./redirects.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./redirects.vue\"\n/* template */\nimport {render as __vue_render__, staticRenderFns as __vue_static_render_fns__} from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-89aee6f6\\\",\\\"hasScoped\\\":false,\\\"optionsId\\\":\\\"0\\\",\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./redirects.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nimport normalizeComponent from \"!../../../node_modules/vue-loader/lib/runtime/component-normalizer\"\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_render__,\n  __vue_static_render_fns__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n"],"sourceRoot":""}